{
	"info": {
		"_postman_id": "westwood-backend-api",
		"name": "Westwood Backend API",
		"description": "Complete API collection for Westwood Backend application",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"admin\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Register",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"newuser\",\n  \"email\": \"newuser@example.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"roles\": [\"MANAGER\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"register"
							]
						}
					},
					"response": []
				},
				{
					"name": "Activate Account",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"token\": \"{{activationToken}}\",\n  \"username\": \"newuser\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/auth/activate",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"auth",
								"activate"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"johndoe\",\n  \"email\": \"johndoe@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/users/{{userId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get User by Username",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/users/username/{{username}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"username",
								"{{username}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"johndoe\",\n  \"email\": \"johndoe.updated@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe Updated\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/users/{{userId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/users/{{userId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"{{userId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Invite User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"newuser@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/users/invite",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"invite"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Clients",
			"item": [
				{
					"name": "Create Client",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phone\": \"+1234567890\",\n  \"name\": \"Jane\",\n  \"surname\": \"Smith\",\n  \"dateOfBirth\": \"1990-05-15\",\n  \"notes\": \"VIP client\",\n  \"tags\": [\"vip\", \"premium\"],\n  \"clientType\": \"INDIVIDUAL\",\n  \"referrerId\": null\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/clients",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"clients"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Client by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/clients/{{clientId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"clients",
								"{{clientId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Clients",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/clients",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"clients"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search Clients",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/clients?search=Jane",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"clients"
							],
							"query": [
								{
									"key": "search",
									"value": "Jane"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Clients by Tag",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/clients?tag=vip",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"clients"
							],
							"query": [
								{
									"key": "tag",
									"value": "vip"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Client",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"phone\": \"+1234567890\",\n  \"name\": \"Jane\",\n  \"surname\": \"Smith Updated\",\n  \"dateOfBirth\": \"1990-05-15\",\n  \"notes\": \"Updated VIP client\",\n  \"tags\": [\"vip\", \"premium\", \"loyal\"],\n  \"clientType\": \"INDIVIDUAL\",\n  \"referrerId\": null\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/clients/{{clientId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"clients",
								"{{clientId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Client",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/clients/{{clientId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"clients",
								"{{clientId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Client by Phone",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/clients/phone/+1234567890",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"clients",
								"phone",
								"+1234567890"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Tags",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/clients/tags",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"clients",
								"tags"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Payments",
			"item": [
				{
					"name": "Create Payment",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"clientId\": \"{{clientId}}\",\n  \"amount\": 100.50,\n  \"notes\": \"Payment for services\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/payments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"payments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Payment by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/payments/{{paymentId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"payments",
								"{{paymentId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Payments by Client ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/payments/client/{{clientId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"payments",
								"client",
								"{{clientId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Total by Client and Time Range",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/payments/client/{{clientId}}/total?from=2024-01-01T00:00:00&to=2024-12-31T23:59:59",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"payments",
								"client",
								"{{clientId}}",
								"total"
							],
							"query": [
								{
									"key": "from",
									"value": "2024-01-01T00:00:00"
								},
								{
									"key": "to",
									"value": "2024-12-31T23:59:59"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Bonuses",
			"item": [
				{
					"name": "Use Bonus",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"clientId\": \"{{clientId}}\",\n  \"paymentAmount\": 150.00,\n  \"bonusAmountToUse\": 25.00,\n  \"notes\": \"Using bonus for payment\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonuses/use",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonuses",
								"use"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Client Bonus Balance",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonuses/client/{{clientId}}/balance",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonuses",
								"client",
								"{{clientId}}",
								"balance"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Client Bonus History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonuses/client/{{clientId}}/history",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonuses",
								"client",
								"{{clientId}}",
								"history"
							]
						}
					},
					"response": []
				},
				{
					"name": "Recalculate Bonus Balance",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonuses/recalculate/{{clientId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonuses",
								"recalculate",
								"{{clientId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Bonus Types",
			"item": [
				{
					"name": "Create Bonus Type",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Special Promotion\",\n  \"type\": \"BASIC_CASHBACK\",\n  \"bonusPercentage\": 5.00,\n  \"expirationDays\": 30,\n  \"description\": \"5% cashback for special promotion\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonus-types",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonus-types"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Bonus Types",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonus-types",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonus-types"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Active Bonus Types",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonus-types/active",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonus-types",
								"active"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Bonus Type by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonus-types/{{bonusTypeId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonus-types",
								"{{bonusTypeId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Bonus Type",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Special Promotion Updated\",\n  \"type\": \"BASIC_CASHBACK\",\n  \"enabled\": true,\n  \"bonusPercentage\": 7.50,\n  \"expirationDays\": 45,\n  \"description\": \"Updated promotion with 7.5% cashback\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonus-types/{{bonusTypeId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonus-types",
								"{{bonusTypeId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Toggle Bonus Type",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonus-types/{{bonusTypeId}}/toggle?enabled=false",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonus-types",
								"{{bonusTypeId}}",
								"toggle"
							],
							"query": [
								{
									"key": "enabled",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Bonus Type",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/bonus-types/{{bonusTypeId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"bonus-types",
								"{{bonusTypeId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Analytics",
			"item": [
				{
					"name": "Get Client Value Rankings",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/analytics/clients/value",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"analytics",
								"clients",
								"value"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Client Spending by Time Range",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/analytics/clients/{{clientId}}/spending?from=2024-01-01T00:00:00&to=2024-12-31T23:59:59",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"analytics",
								"clients",
								"{{clientId}}",
								"spending"
							],
							"query": [
								{
									"key": "from",
									"value": "2024-01-01T00:00:00"
								},
								{
									"key": "to",
									"value": "2024-12-31T23:59:59"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Client Value",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{authToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/analytics/clients/{{clientId}}/value",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"analytics",
								"clients",
								"{{clientId}}",
								"value"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "authToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "",
			"type": "string"
		},
		{
			"key": "clientId",
			"value": "",
			"type": "string"
		},
			{
			"key": "paymentId",
			"value": "",
			"type": "string"
		},
		{
			"key": "configId",
			"value": "",
			"type": "string"
		},
		{
			"key": "username",
			"value": "",
			"type": "string"
		},
		{
			"key": "activationToken",
			"value": "",
			"type": "string"
		}
	]
}

