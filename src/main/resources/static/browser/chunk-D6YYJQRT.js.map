{
  "version": 3,
  "sources": ["src/app/features/bonus-expiring/pages/bonus-expiring-page/bonus-expiring-page.component.ts"],
  "sourcesContent": ["import { Component, OnInit, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { BonusesService, BonusesExpiringSoon, ClientBonusExpiring, ExpiryGroup } from '../../../../core/services/bonuses.service';\nimport { MessageTemplatesService, MessageTemplate } from '../../../../core/services/message-templates.service';\nimport { MessagesService } from '../../../../core/services/messages.service';\nimport { ToastService } from '../../../../core/services/toast.service';\nimport { PageHeaderService } from '../../../../core/services/page-header.service';\nimport { ModalComponent } from '../../../../shared/components/modal/modal.component';\nimport { ButtonComponent } from '../../../../shared/components/button/button.component';\nimport { LoaderComponent } from '../../../../shared/components/loader/loader.component';\nimport { PhoneFormatPipe } from '../../../../shared/pipes/phone-format.pipe';\n\n@Component({\n  selector: 'app-bonus-expiring-page',\n  standalone: true,\n  imports: [\n    CommonModule,\n    RouterModule,\n    ModalComponent,\n    ButtonComponent,\n    LoaderComponent,\n    PhoneFormatPipe\n  ],\n  template: `\n    <div class=\"page-wrapper\">\n      <div class=\"page-content\">\n        <div class=\"page-loading-container\" *ngIf=\"isLoading\">\n          <app-loader [visible]=\"true\" [overlay]=\"false\" type=\"logo\" size=\"large\"></app-loader>\n        </div>\n\n        <div *ngIf=\"!isLoading\">\n          <div class=\"empty-state\" *ngIf=\"!data || data.clients.length === 0\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\">\n              <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n            </svg>\n            <p class=\"empty-title\">Нет бонусов, истекающих в ближайшие 7 дней</p>\n            <a routerLink=\"/home\" class=\"back-link\">На главную</a>\n          </div>\n\n          <div *ngIf=\"data && data.clients.length > 0\" class=\"clients-list\">\n            <div class=\"client-block\" *ngFor=\"let client of data.clients\">\n              <div class=\"client-header\">\n                <div class=\"client-info\">\n                  <a [routerLink]=\"['/clients', client.clientId]\" class=\"client-name\">{{ client.clientName }}</a>\n                  <span class=\"client-phone\">{{ client.phone | phoneFormat }}</span>\n                </div>\n              </div>\n              <div class=\"groups-table-wrap\">\n                <table class=\"groups-table\">\n                  <thead>\n                    <tr>\n                      <th>Истекает</th>\n                      <th>Осталось дней</th>\n                      <th>Сумма (остаток)</th>\n                      <th>Статус</th>\n                      <th>Действия</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr *ngFor=\"let group of client.expiryGroups\" [class.expiring-soon]=\"group.daysLeft <= 3\" [class.notified]=\"!!group.notifiedAt\">\n                      <td>{{ formatDate(group.expiryDate) }}</td>\n                      <td>\n                        <span class=\"days-badge\" [class.urgent]=\"group.daysLeft <= 3\">{{ group.daysLeft }} {{ daysText(group.daysLeft) }}</span>\n                      </td>\n                      <td>{{ formatAmount(group.totalRemainingAmount) }} ₸{{ group.items.length > 1 ? ' (' + group.items.length + ' начисл.)' : '' }}</td>\n                      <td>\n                        <span class=\"status-badge\" [class.notified]=\"!!group.notifiedAt\">{{ group.notifiedAt ? 'Уведомлён' : 'Нужно уведомить' }}</span>\n                      </td>\n                      <td>\n                        <app-button\n                          *ngIf=\"!group.notifiedAt\"\n                          buttonType=\"primary\"\n                          size=\"small\"\n                          (onClick)=\"openNotifyModal(client, group)\">\n                          <svg class=\"wa-icon\" viewBox=\"0 0 24 24\" fill=\"none\">\n                            <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z\" fill=\"currentColor\"/>\n                            <path d=\"M12 2C6.477 2 2 6.477 2 12c0 1.89.525 3.66 1.438 5.168L2 22l4.832-1.438A9.955 9.955 0 0012 22c5.523 0 10-4.477 10-10S17.523 2 12 2z\" fill=\"currentColor\"/>\n                          </svg>\n                          WhatsApp\n                        </app-button>\n                        <span *ngIf=\"group.notifiedAt\" class=\"notified-label\">—</span>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Notify modal (for one expiry group) -->\n    <app-modal\n      [visible]=\"showNotifyModal\"\n      title=\"Уведомить о истечении бонусов\"\n      [showCloseButton]=\"true\"\n      (closed)=\"closeNotifyModal()\">\n      <div class=\"notify-content\" *ngIf=\"selectedClient && selectedGroup\">\n        <div class=\"template-section\" *ngIf=\"selectedTemplate\">\n          <label class=\"section-label\">Шаблон сообщения</label>\n          <div class=\"template-card\">\n            <h4 class=\"template-name\">{{ selectedTemplate.name }}</h4>\n            <p class=\"template-content\">{{ selectedTemplate.content }}</p>\n          </div>\n        </div>\n        <div class=\"template-not-found\" *ngIf=\"!selectedTemplate && !loadingTemplate\">\n          <span>Шаблон типа BONUS_EXPIRY не найден. Создайте его в настройках.</span>\n        </div>\n        <div class=\"phone-section\">\n          <label class=\"section-label\">Номер получателя</label>\n          <div class=\"phone-display\">{{ selectedClient.phone | phoneFormat }}</div>\n        </div>\n        <div class=\"group-info\" *ngIf=\"selectedGroup\">\n          <span class=\"group-summary\">Истекает {{ formatDate(selectedGroup.expiryDate) }} · {{ formatAmount(selectedGroup.totalRemainingAmount) }} ₸</span>\n        </div>\n        <div class=\"message-section\" *ngIf=\"selectedTemplate\">\n          <label class=\"section-label\">Содержимое сообщения</label>\n          <div class=\"message-box\">{{ populatedContent }}</div>\n        </div>\n        <div class=\"notify-actions\">\n          <app-button\n            *ngIf=\"selectedTemplate\"\n            buttonType=\"primary\"\n            size=\"large\"\n            class=\"send-btn\"\n            (click)=\"sendAndOpenWhatsApp()\"\n            [disabled]=\"isSending\">\n            <svg class=\"wa-icon\" viewBox=\"0 0 24 24\" fill=\"none\">\n              <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z\" fill=\"currentColor\"/>\n              <path d=\"M12 2C6.477 2 2 6.477 2 12c0 1.89.525 3.66 1.438 5.168L2 22l4.832-1.438A9.955 9.955 0 0012 22c5.523 0 10-4.477 10-10S17.523 2 12 2z\" fill=\"currentColor\"/>\n            </svg>\n            {{ isSending ? 'Отправка...' : 'Отправить в WhatsApp' }}\n          </app-button>\n        </div>\n      </div>\n    </app-modal>\n  `,\n  styles: [`\n    .page-wrapper { min-height: 100%; margin: -2rem; padding: 2rem; background: #f8fafc; }\n    .page-content { max-width: 900px; margin: 0 auto; }\n    .page-loading-container { display: flex; justify-content: center; min-height: 40vh; align-items: center; }\n    .empty-state { text-align: center; padding: 4rem 2rem; background: white; border-radius: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.06); }\n    .empty-state svg { width: 64px; height: 64px; color: #94a3b8; margin-bottom: 1rem; }\n    .empty-title { font-size: 1.125rem; color: #64748b; margin: 0 0 1.5rem 0; }\n    .back-link { color: #16A34A; font-weight: 600; text-decoration: none; }\n    .back-link:hover { text-decoration: underline; }\n    .clients-list { display: flex; flex-direction: column; gap: 1.5rem; }\n    .client-block { background: white; border-radius: 16px; padding: 1.25rem; border: 1px solid #e2e8f0; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }\n    .client-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; flex-wrap: wrap; gap: 0.75rem; }\n    .client-info { display: flex; flex-direction: column; gap: 0.25rem; }\n    .client-name { font-size: 1.125rem; font-weight: 600; color: #0f172a; text-decoration: none; }\n    .client-name:hover { color: #16A34A; }\n    .client-phone { font-size: 0.875rem; color: #64748b; font-family: 'Courier New', monospace; }\n    .wa-icon { width: 18px; height: 18px; }\n    .groups-table-wrap { overflow-x: auto; }\n    .groups-table { width: 100%; border-collapse: collapse; font-size: 0.875rem; }\n    .groups-table th { text-align: left; padding: 0.75rem; background: #f8fafc; color: #64748b; font-weight: 600; border-bottom: 1px solid #e2e8f0; }\n    .groups-table td { padding: 0.75rem; border-bottom: 1px solid #f1f5f9; }\n    .groups-table tr.expiring-soon { background: #fef3c7; }\n    .groups-table tr.notified { background: #f0fdf4; }\n    .days-badge { padding: 0.25rem 0.5rem; border-radius: 8px; background: #dcfce7; color: #166534; font-weight: 500; }\n    .days-badge.urgent { background: #fef3c7; color: #92400e; }\n    .status-badge { font-size: 0.8125rem; font-weight: 500; color: #92400e; }\n    .status-badge.notified { color: #166534; }\n    .notified-label { color: #94a3b8; font-size: 0.875rem; }\n    .notify-content { display: flex; flex-direction: column; gap: 1.25rem; }\n    .section-label { font-size: 0.875rem; font-weight: 600; color: #475569; display: block; margin-bottom: 0.5rem; }\n    .template-card { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1rem; }\n    .template-name { margin: 0 0 0.5rem 0; font-size: 1rem; font-weight: 600; color: #1f2937; }\n    .template-content { margin: 0; font-size: 0.9375rem; color: #475569; white-space: pre-wrap; }\n    .template-not-found { padding: 1rem; background: #fef3c7; border-radius: 12px; color: #92400e; font-size: 0.875rem; }\n    .phone-display { padding: 0.75rem 1rem; background: #f8fafc; border-radius: 10px; font-family: 'Courier New', monospace; font-weight: 500; }\n    .group-info { padding: 0.5rem 0; }\n    .group-summary { font-size: 0.875rem; color: #64748b; }\n    .message-box { padding: 1rem; background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 12px; font-size: 0.9375rem; white-space: pre-wrap; max-height: 200px; overflow-y: auto; }\n    .notify-actions { margin-top: 0.5rem; }\n    .send-btn { width: 100%; }\n    .send-btn ::ng-deep button { width: 100%; justify-content: center; }\n  `]\n})\nexport class BonusExpiringPageComponent implements OnInit {\n  private bonusesService = inject(BonusesService);\n  private messageTemplatesService = inject(MessageTemplatesService);\n  private messagesService = inject(MessagesService);\n  private toastService = inject(ToastService);\n  private pageHeaderService = inject(PageHeaderService);\n\n  isLoading = true;\n  data: BonusesExpiringSoon | null = null;\n\n  showNotifyModal = false;\n  selectedClient: ClientBonusExpiring | null = null;\n  selectedGroup: ExpiryGroup | null = null;\n  selectedTemplate: MessageTemplate | null = null;\n  populatedContent = '';\n  loadingTemplate = false;\n  isSending = false;\n\n  ngOnInit(): void {\n    this.pageHeaderService.setPageHeader('Бонусы истекают скоро', [\n      { label: 'Главная', route: '/home' },\n      { label: 'Бонусы истекают скоро' }\n    ]);\n    this.loadData();\n  }\n\n  loadData(): void {\n    this.bonusesService.getBonusesExpiringSoon().subscribe({\n      next: (d) => {\n        this.data = d;\n        this.isLoading = false;\n      },\n      error: () => {\n        this.isLoading = false;\n      }\n    });\n  }\n\n  formatAmount(amount: number): string {\n    return typeof amount === 'number' ? amount.toLocaleString('ru-RU', { minimumFractionDigits: 0, maximumFractionDigits: 2 }) : '0';\n  }\n\n  formatDate(dateStr: string): string {\n    if (!dateStr) return '—';\n    const d = new Date(dateStr);\n    return d.toLocaleDateString('ru-RU', { day: '2-digit', month: '2-digit', year: 'numeric' });\n  }\n\n  daysText(days: number): string {\n    if (days === 1) return 'день';\n    if (days >= 2 && days <= 4) return 'дня';\n    return 'дней';\n  }\n\n  openNotifyModal(client: ClientBonusExpiring, group: ExpiryGroup): void {\n    this.selectedClient = client;\n    this.selectedGroup = group;\n    this.showNotifyModal = true;\n    this.selectedTemplate = null;\n    this.populatedContent = '';\n    this.loadingTemplate = true;\n    this.messageTemplatesService.getAllTemplates('BONUS_EXPIRY').subscribe({\n      next: (templates) => {\n        this.loadingTemplate = false;\n        if (templates && templates.length > 0) {\n          this.selectedTemplate = templates[0];\n          this.messageTemplatesService.getPopulatedTemplate('BONUS_EXPIRY', client.clientId, undefined, group.expiryDate).subscribe({\n            next: (pop) => {\n              this.populatedContent = pop.populatedContent;\n            },\n            error: () => {\n              this.populatedContent = this.selectedTemplate?.content ?? '';\n            }\n          });\n        }\n      },\n      error: () => {\n        this.loadingTemplate = false;\n      }\n    });\n  }\n\n  closeNotifyModal(): void {\n    this.showNotifyModal = false;\n    this.selectedClient = null;\n    this.selectedGroup = null;\n    this.selectedTemplate = null;\n    this.populatedContent = '';\n    this.isSending = false;\n  }\n\n  sendAndOpenWhatsApp(): void {\n    if (!this.selectedClient || !this.selectedGroup || this.isSending) return;\n    const message = this.populatedContent || this.selectedTemplate?.content || '';\n    if (!message) {\n      this.toastService.error('Нет текста сообщения');\n      return;\n    }\n    this.isSending = true;\n    const clientId = this.selectedClient.clientId;\n    const expiryDate = this.selectedGroup.expiryDate;\n    this.messagesService.sendMessage({\n      clientId,\n      messageContent: message,\n      channel: 'WHATSAPP'\n    }).subscribe({\n      next: (response) => {\n        this.bonusesService.recordBonusExpiryNotified({\n          clientId,\n          expiryDate,\n          messageRecordId: response.id != null ? Number(response.id) : undefined\n        }).subscribe({\n          next: () => {\n            this.openWhatsAppWeb(this.selectedClient!.phone, message);\n            this.toastService.success('Сообщение записано, открывается WhatsApp');\n            this.loadData();\n            this.closeNotifyModal();\n          },\n          error: (err) => {\n            this.toastService.error(err.error?.message || 'Ошибка при записи уведомления');\n          }\n        });\n        this.isSending = false;\n      },\n      error: (err) => {\n        this.toastService.error(err.error?.message || 'Ошибка при отправке');\n        this.isSending = false;\n      }\n    });\n  }\n\n  private openWhatsAppWeb(phone: string, message: string): void {\n    let clean = phone.replace(/[\\s\\-\\(\\)\\+]/g, '');\n    if (clean.startsWith('8')) clean = '7' + clean.substring(1);\n    const url = `https://wa.me/${clean}?text=${encodeURIComponent(message)}`;\n    window.open(url, '_blank');\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
