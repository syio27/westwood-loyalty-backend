import{a as ee}from"./chunk-JCX6YG6R.js";import{a as Z}from"./chunk-7CZMHW45.js";import{a as te}from"./chunk-LIWOR7OK.js";import{a as Q}from"./chunk-JC2TURCA.js";import{a as X}from"./chunk-WSEVFZJE.js";import{a as Y}from"./chunk-3B24VZJ2.js";import{a as W}from"./chunk-ZRSRS3RM.js";import{c as H,e as $,g as q,t as J,v as K}from"./chunk-G63S2A5N.js";import{a as G}from"./chunk-AT45Y5NE.js";import{$ as v,Aa as t,Ba as n,Bb as L,Ca as x,Cb as R,Ga as h,Gb as j,Ha as P,Ia as s,K as T,P as A,Pa as r,Qa as _,Ra as f,S as D,Sa as B,T as E,Ua as w,Va as b,Wa as y,Z as p,Za as O,_ as m,aa as C,d as I,ib as z,jb as F,la as o,oa as V,pb as N,sa as g,sb as U,wa as l,ya as k}from"./chunk-3MIZCW4Q.js";var ne=(()=>{class i{http;apiUrl=`${Y.apiUrl}/user/profile`;constructor(e){this.http=e,console.log("[ProfileService] Initialized with API URL:",this.apiUrl)}getProfile(){return console.log("[ProfileService] GET",this.apiUrl),this.http.get(this.apiUrl)}updateProfile(e){return this.http.put(this.apiUrl,e)}changePassword(e){return this.http.put(`${this.apiUrl}/password`,e)}getUserTransactions(){return this.http.get(`${this.apiUrl}/transactions`)}static \u0275fac=function(a){return new(a||i)(D(U))};static \u0275prov=A({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ie=i=>["/clients",i];function ae(i,u){i&1&&(t(0,"div",5),x(1,"app-loader",6),n()),i&2&&(o(),l("visible",!0)("overlay",!1))}function re(i,u){if(i&1&&(t(0,"p",64),r(1),n()),i&2){let e=s(2);o(),_(e.profile.phone)}}function de(i,u){if(i&1){let e=h();t(0,"app-icon-button",65),P("onClick",function(){p(e);let d=s(2);return m(d.startEditPersonal())}),v(),t(1,"svg",66),x(2,"path",67)(3,"path",68),n()()}}function se(i,u){if(i&1){let e=h();t(0,"div",69)(1,"app-button",70),P("onClick",function(){p(e);let d=s(2);return m(d.cancelEditPersonal())}),r(2," \u041E\u0442\u043C\u0435\u043D\u0430 "),n(),t(3,"app-button",71),P("onClick",function(){p(e);let d=s(2);return m(d.savePersonal())}),r(4," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),n()()}if(i&2){let e=s(2);o(),l("disabled",e.isSavingPersonal),o(2),l("loading",e.isSavingPersonal)}}function le(i,u){if(i&1&&(t(0,"span",41),r(1),n()),i&2){let e=s(2);o(),_(e.profile.firstName)}}function ue(i,u){if(i&1){let e=h();t(0,"input",72),y("ngModelChange",function(d){p(e);let c=s(2);return b(c.editedPersonal.firstName,d)||(c.editedPersonal.firstName=d),m(d)}),n()}if(i&2){let e=s(2);w("ngModel",e.editedPersonal.firstName)}}function ce(i,u){if(i&1&&(t(0,"span",41),r(1),n()),i&2){let e=s(2);o(),_(e.profile.lastName)}}function pe(i,u){if(i&1){let e=h();t(0,"input",73),y("ngModelChange",function(d){p(e);let c=s(2);return b(c.editedPersonal.lastName,d)||(c.editedPersonal.lastName=d),m(d)}),n()}if(i&2){let e=s(2);w("ngModel",e.editedPersonal.lastName)}}function me(i,u){if(i&1&&(t(0,"span",41),r(1),n()),i&2){let e=s(2);o(),_(e.profile.email)}}function ge(i,u){if(i&1){let e=h();t(0,"input",74),y("ngModelChange",function(d){p(e);let c=s(2);return b(c.editedPersonal.email,d)||(c.editedPersonal.email=d),m(d)}),n()}if(i&2){let e=s(2);w("ngModel",e.editedPersonal.email)}}function fe(i,u){if(i&1&&(t(0,"span",41),r(1),n()),i&2){let e=s(2);o(),_(e.profile.phone||"\u2014")}}function _e(i,u){if(i&1){let e=h();t(0,"input",75),y("ngModelChange",function(d){p(e);let c=s(2);return b(c.editedPersonal.phone,d)||(c.editedPersonal.phone=d),m(d)}),n()}if(i&2){let e=s(2);w("ngModel",e.editedPersonal.phone)}}function xe(i,u){if(i&1){let e=h();t(0,"app-icon-button",76),P("onClick",function(){p(e);let d=s(2);return m(d.startEditPassword())}),v(),t(1,"svg",66),x(2,"path",67)(3,"path",68),n()()}}function he(i,u){if(i&1){let e=h();t(0,"div",69)(1,"app-button",70),P("onClick",function(){p(e);let d=s(2);return m(d.cancelEditPassword())}),r(2," \u041E\u0442\u043C\u0435\u043D\u0430 "),n(),t(3,"app-button",77),P("onClick",function(){p(e);let d=s(2);return m(d.savePassword())}),r(4," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),n()()}if(i&2){let e=s(2);o(),l("disabled",e.isSavingPassword),o(2),l("disabled",!e.isPasswordFormValid())("loading",e.isSavingPassword)}}function Pe(i,u){i&1&&(t(0,"div",33)(1,"div",34)(2,"span",35),r(3,"\u041F\u0430\u0440\u043E\u043B\u044C:"),n(),t(4,"span",41),r(5,"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"),n()()())}function ve(i,u){if(i&1&&(t(0,"div",86),r(1),n()),i&2){let e=s(3);o(),f(" ",e.passwordError," ")}}function Ce(i,u){i&1&&(t(0,"div",87),r(1," \u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442 "),n())}function we(i,u){if(i&1){let e=h();t(0,"div",78),g(1,ve,2,1,"div",79),t(2,"div",80)(3,"label",81),r(4,"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"),n(),t(5,"input",82),y("ngModelChange",function(d){p(e);let c=s(2);return b(c.passwordData.currentPassword,d)||(c.passwordData.currentPassword=d),m(d)}),n()(),t(6,"div",80)(7,"label",81),r(8,"\u041D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"),n(),t(9,"input",83),y("ngModelChange",function(d){p(e);let c=s(2);return b(c.passwordData.newPassword,d)||(c.passwordData.newPassword=d),m(d)}),n()(),t(10,"div",80)(11,"label",81),r(12,"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C"),n(),t(13,"input",84),y("ngModelChange",function(d){p(e);let c=s(2);return b(c.passwordData.confirmPassword,d)||(c.passwordData.confirmPassword=d),m(d)}),n(),g(14,Ce,2,0,"div",85),n()()}if(i&2){let e=s(2);o(),l("ngIf",e.passwordError),o(4),w("ngModel",e.passwordData.currentPassword),o(4),w("ngModel",e.passwordData.newPassword),o(4),w("ngModel",e.passwordData.confirmPassword),o(),l("ngIf",e.passwordData.newPassword&&e.passwordData.confirmPassword&&e.passwordData.newPassword!==e.passwordData.confirmPassword)}}function be(i,u){if(i&1&&(t(0,"app-badge",114),r(1),n()),i&2){let e=s().$implicit,a=s(2);o(),f(" +",a.formatAmount(e.bonusEarned)," ")}}function ye(i,u){if(i&1&&(t(0,"app-badge",115),r(1),n()),i&2){let e=s().$implicit,a=s(2);o(),f(" -",a.formatAmount(e.bonusUsed)," ")}}function Me(i,u){if(i&1&&(t(0,"app-badge",116),r(1),n()),i&2){let e=s().$implicit,a=s(2);o(),f(" -",a.formatAmount(e.bonusRevoked)," ")}}function Ee(i,u){i&1&&(t(0,"span",117),r(1,"\u2014"),n())}function Se(i,u){if(i&1){let e=h();t(0,"tr",88)(1,"td",89)(2,"span",90),P("click",function(){let d=p(e).$implicit,c=s(2);return m(c.openPaymentView(d.txId))}),r(3),n()(),t(4,"td",91)(5,"div",92)(6,"div",93),r(7),n(),t(8,"div",94)(9,"a",95)(10,"span",96),r(11),n()(),t(12,"span",97),r(13),n()()()(),t(14,"td",98)(15,"span",99),r(16),n()(),t(17,"td",100)(18,"div",101),g(19,be,2,1,"app-badge",102)(20,ye,2,1,"app-badge",103)(21,Me,2,1,"app-badge",104)(22,Ee,2,0,"span",105),n()(),t(23,"td",106),x(24,"app-badge",107),n(),t(25,"td",108)(26,"app-badge",109),r(27),n()(),t(28,"td",110)(29,"div",111)(30,"span",112),r(31),n(),t(32,"span",113),r(33),n()()()()}if(i&2){let e=u.$implicit,a=s(2);o(3),f("#",e.txId,""),o(4),f(" ",a.getInitials(e.clientName)," "),o(2),l("routerLink",O(16,ie,e.clientId)),o(2),_(e.clientName),o(2),_(e.clientPhone),o(3),f("",a.formatAmount(e.amount)," \u20B8"),o(3),l("ngIf",e.bonusEarned>0),o(),l("ngIf",e.bonusUsed>0),o(),l("ngIf",e.bonusRevoked>0),o(),l("ngIf",e.bonusEarned===0&&e.bonusUsed===0&&e.bonusRevoked===0),o(2),l("paymentMethod",a.getPaymentMethodForBadge(e.paymentMethod)),o(2),l("badgeType",e.isRefund?"refund":"payment")("icon",e.isRefund?"refund":"payment"),o(),f(" ",e.isRefund?"\u0412\u043E\u0437\u0432\u0440\u0430\u0442":"\u041E\u043F\u043B\u0430\u0447\u0435\u043D\u043E"," "),o(4),_(e.date),o(2),_(e.time)}}function ke(i,u){i&1&&(t(0,"div",118),v(),t(1,"svg",20),x(2,"path",119)(3,"rect",120)(4,"path",121),n(),C(),t(5,"span"),r(6,"\u041D\u0435\u0442 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439"),n()())}function Oe(i,u){if(i&1&&(t(0,"app-badge",140),r(1),n()),i&2){let e=s().$implicit,a=s(2);o(),f("+",a.formatAmount(e.bonusEarned),"")}}function Ie(i,u){if(i&1&&(t(0,"app-badge",141),r(1),n()),i&2){let e=s().$implicit,a=s(2);o(),f("-",a.formatAmount(e.bonusUsed),"")}}function Te(i,u){if(i&1&&(t(0,"app-badge",142),r(1),n()),i&2){let e=s().$implicit,a=s(2);o(),f("-",a.formatAmount(e.bonusRevoked),"")}}function Ae(i,u){i&1&&(t(0,"span"),r(1,"\u2014"),n())}function De(i,u){if(i&1){let e=h();t(0,"div",122)(1,"div",123),P("click",function(){let d=p(e).$implicit,c=s(2);return m(c.toggleMobilePaymentCard(d.id))}),t(2,"div",124)(3,"div")(4,"div",125),P("click",function(d){let c=p(e).$implicit;return s(2).openPaymentView(c.txId),m(d.stopPropagation())}),r(5),n(),t(6,"div",126),r(7),n()()(),t(8,"div",127),v(),t(9,"svg",66),x(10,"path",128),n()()(),C(),t(11,"div",129)(12,"div",130)(13,"span",131),r(14,"\u041A\u043B\u0438\u0435\u043D\u0442:"),n(),t(15,"a",132),r(16),n()(),t(17,"div",130)(18,"span",131),r(19,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D:"),n(),t(20,"span",133),r(21),n()(),t(22,"div",130)(23,"span",131),r(24,"\u0411\u043E\u043D\u0443\u0441\u044B:"),n(),t(25,"div",134),g(26,Oe,2,1,"app-badge",135)(27,Ie,2,1,"app-badge",136)(28,Te,2,1,"app-badge",137)(29,Ae,2,0,"span",138),n()(),t(30,"div",130)(31,"span",131),r(32,"\u0421\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B:"),n(),t(33,"span",133),x(34,"app-badge",139),n()(),t(35,"div",130)(36,"span",131),r(37,"\u0414\u0430\u0442\u0430:"),n(),t(38,"span",133),r(39),n()()()()}if(i&2){let e=u.$implicit,a=s(2);o(5),f("#",e.txId,""),o(2),f("",a.formatAmount(e.amount)," \u20B8"),o(),k("expanded",a.isMobilePaymentExpanded(e.id)),o(3),k("expanded",a.isMobilePaymentExpanded(e.id)),o(4),l("routerLink",O(16,ie,e.clientId)),o(),f(" ",e.clientName," "),o(5),_(e.clientPhone),o(5),l("ngIf",e.bonusEarned>0),o(),l("ngIf",e.bonusUsed>0),o(),l("ngIf",e.bonusRevoked>0),o(),l("ngIf",e.bonusEarned===0&&e.bonusUsed===0&&e.bonusRevoked===0),o(5),l("paymentMethod",a.getPaymentMethodForBadge(e.paymentMethod)),o(5),B("",e.date," ",e.time,"")}}function Ve(i,u){i&1&&(t(0,"div",143),v(),t(1,"svg",20),x(2,"path",119)(3,"rect",120)(4,"path",121),n(),C(),t(5,"span"),r(6,"\u041D\u0435\u0442 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439"),n()())}function Be(i,u){if(i&1&&(t(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"div",11),r(5),n(),x(6,"div",12),n(),t(7,"div",13)(8,"div",14)(9,"h1",15),r(10),n(),t(11,"app-badge",16),r(12),n()(),t(13,"p",17),r(14),n(),g(15,re,2,1,"p",18),t(16,"div",19),v(),t(17,"svg",20),x(18,"path",21)(19,"path",22)(20,"path",23),n(),C(),t(21,"span"),r(22),n()()()()(),t(23,"div",24)(24,"div",25)(25,"div",26)(26,"div",27),v(),t(27,"svg",20),x(28,"path",28)(29,"circle",29),n()(),C(),t(30,"h3",30),r(31,"\u041B\u0438\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"),n()(),g(32,de,4,0,"app-icon-button",31)(33,se,5,2,"div",32),n(),t(34,"div",33)(35,"div",34)(36,"span",35),r(37,"\u0418\u043C\u044F:"),n(),g(38,le,2,1,"span",36)(39,ue,1,1,"input",37),n(),t(40,"div",34)(41,"span",35),r(42,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F:"),n(),g(43,ce,2,1,"span",36)(44,pe,1,1,"input",38),n(),t(45,"div",34)(46,"span",35),r(47,"Email:"),n(),g(48,me,2,1,"span",36)(49,ge,1,1,"input",39),n(),t(50,"div",34)(51,"span",35),r(52,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D:"),n(),g(53,fe,2,1,"span",36)(54,_e,1,1,"input",40),n(),t(55,"div",34)(56,"span",35),r(57,"\u0420\u043E\u043B\u044C:"),n(),t(58,"span",41),r(59),n()(),t(60,"div",42)(61,"span",35),r(62,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:"),n(),t(63,"span",41),r(64),n()()()(),t(65,"div",24)(66,"div",25)(67,"div",26)(68,"div",27),v(),t(69,"svg",20),x(70,"rect",43)(71,"path",44),n()(),C(),t(72,"h3",30),r(73,"\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u044C"),n()(),g(74,xe,4,0,"app-icon-button",45)(75,he,5,3,"div",32),n(),g(76,Pe,6,0,"div",46)(77,we,15,5,"div",47),n(),t(78,"div",48)(79,"div",25)(80,"div",26)(81,"div",27),v(),t(82,"svg",20),x(83,"path",49),n()(),C(),t(84,"h3",30),r(85,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439"),n()()(),t(86,"div",50)(87,"table",51)(88,"thead")(89,"tr")(90,"th",52),r(91,"ID \u043F\u043B\u0430\u0442\u0435\u0436\u0430"),n(),t(92,"th",53),r(93,"\u041A\u043B\u0438\u0435\u043D\u0442"),n(),t(94,"th",54),r(95,"\u0421\u0443\u043C\u043C\u0430"),n(),t(96,"th",55),r(97,"\u0411\u043E\u043D\u0443\u0441\u044B"),n(),t(98,"th",56),r(99,"\u0421\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B"),n(),t(100,"th",57),r(101,"\u0421\u0442\u0430\u0442\u0443\u0441"),n(),t(102,"th",58),r(103,"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F"),n()()(),t(104,"tbody"),g(105,Se,34,18,"tr",59),n()(),g(106,ke,7,0,"div",60),n(),t(107,"div",61),g(108,De,40,18,"div",62)(109,Ve,7,0,"div",63),n()()()),i&2){let e=s();o(5),f(" ",e.getInitials()," "),o(),k("active",e.profile.active),o(4),_(e.getFullName()),o(),l("badgeType",e.getStatusBadgeType(e.profile.active)),o(),f(" ",e.getStatusLabel(e.profile.active)," "),o(2),_(e.profile.email),o(),l("ngIf",e.profile.phone),o(7),_(e.getRoleLabel(e.profile.roles)),o(10),l("ngIf",!e.isEditingPersonal),o(),l("ngIf",e.isEditingPersonal),o(5),l("ngIf",!e.isEditingPersonal),o(),l("ngIf",e.isEditingPersonal),o(4),l("ngIf",!e.isEditingPersonal),o(),l("ngIf",e.isEditingPersonal),o(4),l("ngIf",!e.isEditingPersonal),o(),l("ngIf",e.isEditingPersonal),o(4),l("ngIf",!e.isEditingPersonal),o(),l("ngIf",e.isEditingPersonal),o(5),_(e.getRoleLabel(e.profile.roles)),o(5),_(e.formatDate(e.profile.createdAt)),o(10),l("ngIf",!e.isEditingPassword),o(),l("ngIf",e.isEditingPassword),o(),l("ngIf",!e.isEditingPassword),o(),l("ngIf",e.isEditingPassword),o(28),l("ngForOf",e.userPayments),o(),l("ngIf",e.userPayments.length===0),o(2),l("ngForOf",e.userPayments),o(),l("ngIf",e.userPayments.length===0)}}var it=(()=>{class i{pageHeaderService=E(X);profileService=E(ne);toastService=E(W);transactionModalService=E(Q);router=E(L);destroy$=new I;profile=null;isLoading=!0;userPayments=[];expandedMobilePaymentCards=new Set;isEditingPersonal=!1;isSavingPersonal=!1;editedPersonal={firstName:"",lastName:"",email:"",phone:""};isEditingPassword=!1;isSavingPassword=!1;passwordData={currentPassword:"",newPassword:"",confirmPassword:""};passwordError=null;ngOnInit(){this.pageHeaderService.setPageHeader("\u041B\u0438\u0447\u043D\u044B\u0439 \u043A\u0430\u0431\u0438\u043D\u0435\u0442",[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",route:"/home"},{label:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C"}]),this.loadProfile(),this.transactionModalService.transactionComplete$.pipe(T(this.destroy$)).subscribe(()=>{let e=this.router.url;(e==="/profile"||e.startsWith("/profile"))&&this.loadProfile()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadProfile(){this.isLoading=!0,this.profileService.getProfile().subscribe({next:e=>{console.log("[AccountPage] Profile loaded:",e),console.log("[AccountPage] Profile firstName:",e.firstName),console.log("[AccountPage] Profile lastName:",e.lastName),console.log("[AccountPage] Profile email:",e.email),this.profile=e,this.isLoading=!1,this.loadUserTransactions()},error:e=>{console.error("[AccountPage] Error loading profile:",e);let a=e.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043F\u0440\u043E\u0444\u0438\u043B\u044F";this.toastService.error(a),this.isLoading=!1}})}getFullName(){return this.profile?`${this.profile.firstName} ${this.profile.lastName}`:""}getInitials(e){return e?e.split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2):this.profile?`${this.profile.firstName.charAt(0)}${this.profile.lastName.charAt(0)}`.toUpperCase():""}getStatusBadgeType(e){return e?"success":"danger"}getStatusLabel(e){return e?"\u0410\u043A\u0442\u0438\u0432\u043D\u044B\u0439":"\u041D\u0435\u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0439"}getRoleLabel(e){return e.includes("ADMIN")?"\u0410\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440":e.includes("MANAGER")?"\u041C\u0435\u043D\u0435\u0434\u0436\u0435\u0440":"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C"}formatDate(e){return new Date(e).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}formatAmount(e){return e.toLocaleString("ru-RU")}getPaymentMethodForBadge(e){if(!e)return null;let a=e.toUpperCase();return a==="CASH"||a==="CARD"||a==="TRANSFER"?a:null}getPaymentMethodLabel(e){switch(e){case"cash":return"\u041D\u0430\u043B\u0438\u0447\u043D\u044B\u0435";case"card":return"\u041A\u0430\u0440\u0442\u0430";case"transfer":return"\u041F\u0435\u0440\u0435\u0432\u043E\u0434";default:return e}}startEditPersonal(){this.profile&&(this.editedPersonal={firstName:this.profile.firstName,lastName:this.profile.lastName,email:this.profile.email,phone:this.profile.phone||""},this.isEditingPersonal=!0)}savePersonal(){if(!this.profile)return;this.isSavingPersonal=!0;let e={email:this.editedPersonal.email,firstName:this.editedPersonal.firstName,lastName:this.editedPersonal.lastName,phone:this.editedPersonal.phone||void 0};this.profileService.updateProfile(e).subscribe({next:a=>{this.profile=a,this.isEditingPersonal=!1,this.isSavingPersonal=!1,this.toastService.success("\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D")},error:a=>{let d=a.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F \u043F\u0440\u043E\u0444\u0438\u043B\u044F";this.toastService.error(d),this.isSavingPersonal=!1}})}cancelEditPersonal(){this.isEditingPersonal=!1,this.editedPersonal={firstName:"",lastName:"",email:"",phone:""}}startEditPassword(){this.passwordData={currentPassword:"",newPassword:"",confirmPassword:""},this.isEditingPassword=!0,this.passwordError=null}savePassword(){if(!this.isPasswordFormValid())return;this.isSavingPassword=!0,this.passwordError=null;let e={currentPassword:this.passwordData.currentPassword,newPassword:this.passwordData.newPassword,confirmPassword:this.passwordData.confirmPassword};this.profileService.changePassword(e).subscribe({next:()=>{this.isEditingPassword=!1,this.isSavingPassword=!1,this.passwordData={currentPassword:"",newPassword:"",confirmPassword:""},this.toastService.success("\u041F\u0430\u0440\u043E\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0438\u0437\u043C\u0435\u043D\u0435\u043D")},error:a=>{let d=a.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043C\u0435\u043D\u044B \u043F\u0430\u0440\u043E\u043B\u044F";this.passwordError=d,this.toastService.error(d),this.isSavingPassword=!1}})}cancelEditPassword(){this.isEditingPassword=!1,this.passwordError=null,this.passwordData={currentPassword:"",newPassword:"",confirmPassword:""}}isPasswordFormValid(){return!!(this.passwordData.currentPassword&&this.passwordData.newPassword&&this.passwordData.confirmPassword&&this.passwordData.newPassword===this.passwordData.confirmPassword&&this.passwordData.newPassword.length>=6)}loadUserTransactions(){this.profileService.getUserTransactions().subscribe({next:e=>{console.log("[AccountPage] User transactions loaded:",e),this.userPayments=e.map(a=>this.mapTransactionToPayment(a))},error:e=>{console.error("[AccountPage] Error loading user transactions:",e),this.userPayments=[]}})}mapTransactionToPayment(e){let a=new Date(e.createdAt),d=a.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),c=a.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"}),M="cash";if(e.paymentMethod){let S=e.paymentMethod.toLowerCase();S.includes("card")||S.includes("\u043A\u0430\u0440\u0442")?M="card":(S.includes("transfer")||S.includes("\u043F\u0435\u0440\u0435\u0432\u043E\u0434"))&&(M="transfer")}return{id:e.txId,txId:e.txId,clientId:e.clientId,clientName:e.clientName,clientPhone:e.clientPhone,amount:e.amount,bonusEarned:e.bonusGranted,bonusUsed:e.bonusUsed,bonusRevoked:e.bonusRevoked||0,paymentMethod:M,isRefund:e.status==="REFUNDED"||e.refundedPaymentTxId!==null,date:d,time:c}}toggleMobilePaymentCard(e){this.expandedMobilePaymentCards.has(e)?this.expandedMobilePaymentCards.delete(e):this.expandedMobilePaymentCards.add(e)}isMobilePaymentExpanded(e){return this.expandedMobilePaymentCards.has(e)}showPaymentViewModal=!1;selectedPaymentTxId=null;selectedPaymentSearchResult=null;openPaymentView(e){let a=this.userPayments.find(d=>d.txId===e);a&&(this.selectedPaymentSearchResult={txId:a.txId,clientId:a.clientId,clientName:a.clientName,clientPhone:a.clientPhone,clientEmail:null,amount:a.amount,status:a.isRefund?"REFUNDED":"COMPLETED",paymentMethod:a.paymentMethod?.toUpperCase(),initiatedBy:null,createdAt:a.date+"T"+a.time,refundedPaymentTxId:null,bonusGranted:a.bonusEarned,bonusUsed:a.bonusUsed,bonusRevoked:a.bonusRevoked,refundReason:null}),this.selectedPaymentTxId=e,this.showPaymentViewModal=!0}closePaymentView(){this.showPaymentViewModal=!1,this.selectedPaymentTxId=null,this.selectedPaymentSearchResult=null}onPaymentUpdated(){this.loadUserTransactions()}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=V({type:i,selectors:[["app-account-page"]],decls:5,vars:5,consts:[[1,"page-wrapper"],[1,"profile-container-wrapper"],["class","page-loading-container",4,"ngIf"],["class","profile-container",4,"ngIf"],[3,"visibleChange","paymentUpdated","refundedPaymentClick","visible","paymentTxId","paymentSearchResult"],[1,"page-loading-container"],["type","logo","size","large",3,"visible","overlay"],[1,"profile-container"],[1,"profile-header-card"],[1,"profile-header-content"],[1,"avatar-wrapper"],[1,"avatar-large"],[1,"status-indicator"],[1,"profile-main-info"],[1,"name-row"],[1,"profile-name"],["size","medium",3,"badgeType"],[1,"profile-email"],["class","profile-phone",4,"ngIf"],[1,"role-badge"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none"],["d","M12 2L2 7l10 5 10-5-10-5z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2 17l10 5 10-5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2 12l10 5 10-5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"info-card"],[1,"card-header"],[1,"card-header-left"],[1,"card-icon"],["d","M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2","stroke","currentColor","stroke-width","1.5"],["cx","12","cy","7","r","4","stroke","currentColor","stroke-width","1.5"],[1,"card-title"],["iconButtonType","edit","size","large","tooltip","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",3,"onClick",4,"ngIf"],["class","card-actions",4,"ngIf"],[1,"info-content"],[1,"info-row"],[1,"info-label"],["class","info-value",4,"ngIf"],["class","info-input","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F",3,"ngModel","ngModelChange",4,"ngIf"],["class","info-input","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043C\u0438\u043B\u0438\u044E",3,"ngModel","ngModelChange",4,"ngIf"],["class","info-input","type","email","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",3,"ngModel","ngModelChange",4,"ngIf"],["class","info-input","type","tel","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D",3,"ngModel","ngModelChange",4,"ngIf"],[1,"info-value"],[1,"info-row","readonly"],["x","3","y","11","width","18","height","11","rx","2","stroke","currentColor","stroke-width","1.5"],["d","M7 11V7a5 5 0 0110 0v4","stroke","currentColor","stroke-width","1.5"],["iconButtonType","edit","size","large","tooltip","\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C",3,"onClick",4,"ngIf"],["class","info-content",4,"ngIf"],["class","password-form",4,"ngIf"],[1,"activity-card"],["d","M22 12h-4l-3 9L9 3l-3 9H2","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"payments-table-container","desktop-view"],[1,"payments-table"],[1,"th-id"],[1,"th-client"],[1,"th-amount"],[1,"th-bonuses"],[1,"th-method"],[1,"th-status"],[1,"th-date"],["class","payment-row",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"mobile-payments-cards","mobile-view"],["class","mobile-payment-card",4,"ngFor","ngForOf"],["class","empty-state mobile-view",4,"ngIf"],[1,"profile-phone"],["iconButtonType","edit","size","large","tooltip","\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",3,"onClick"],["viewBox","0 0 24 24","fill","none"],["d","M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"card-actions"],["buttonType","ghost","size","medium",3,"onClick","disabled"],["buttonType","primary","size","medium",3,"onClick","loading"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F",1,"info-input",3,"ngModelChange","ngModel"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043C\u0438\u043B\u0438\u044E",1,"info-input",3,"ngModelChange","ngModel"],["type","email","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email",1,"info-input",3,"ngModelChange","ngModel"],["type","tel","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043B\u0435\u0444\u043E\u043D",1,"info-input",3,"ngModelChange","ngModel"],["iconButtonType","edit","size","large","tooltip","\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u0430\u0440\u043E\u043B\u044C",3,"onClick"],["buttonType","primary","size","medium",3,"onClick","disabled","loading"],[1,"password-form"],["class","error-message server-error",4,"ngIf"],[1,"form-group"],[1,"form-label"],["type","password","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",1,"form-input",3,"ngModelChange","ngModel"],["type","password","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C (\u043C\u0438\u043D\u0438\u043C\u0443\u043C 6 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432)",1,"form-input",3,"ngModelChange","ngModel"],["type","password","placeholder","\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u0435 \u043D\u043E\u0432\u044B\u0439 \u043F\u0430\u0440\u043E\u043B\u044C",1,"form-input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"error-message","server-error"],[1,"error-message"],[1,"payment-row"],[1,"td-id"],[1,"payment-id","clickable",3,"click"],[1,"td-client"],[1,"client-cell"],[1,"client-avatar"],[1,"client-info"],[1,"client-name-link",3,"routerLink"],[1,"client-name"],[1,"client-phone"],[1,"td-amount"],[1,"amount-value"],[1,"td-bonuses"],[1,"bonus-info"],["badgeType","bonusGranted","size","medium","icon","star","class","bonus-badge",4,"ngIf"],["badgeType","bonusUsed","size","medium","icon","check","class","bonus-badge",4,"ngIf"],["badgeType","refund","size","medium","icon","refund","class","bonus-badge",4,"ngIf"],["class","bonus-none",4,"ngIf"],[1,"td-method"],["badgeType","paymentMethod","size","medium",3,"paymentMethod"],[1,"td-status"],["size","medium",3,"badgeType","icon"],[1,"td-date"],[1,"date-info"],[1,"date-text"],[1,"time-text"],["badgeType","bonusGranted","size","medium","icon","star",1,"bonus-badge"],["badgeType","bonusUsed","size","medium","icon","check",1,"bonus-badge"],["badgeType","refund","size","medium","icon","refund",1,"bonus-badge"],[1,"bonus-none"],[1,"empty-state"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2","stroke","currentColor","stroke-width","1.5"],["x","9","y","3","width","6","height","4","rx","1","stroke","currentColor","stroke-width","1.5"],["d","M9 12h6M9 16h6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],[1,"mobile-payment-card"],[1,"mobile-payment-card-header",3,"click"],[1,"mobile-payment-card-main"],[1,"mobile-payment-id","clickable",3,"click"],[1,"mobile-payment-amount"],[1,"mobile-payment-expand"],["d","M6 9l6 6 6-6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"mobile-payment-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value","link",3,"routerLink"],[1,"detail-value"],[1,"detail-value","bonus-info"],["badgeType","bonusGranted","size","small",4,"ngIf"],["badgeType","bonusUsed","size","small",4,"ngIf"],["badgeType","refund","size","small",4,"ngIf"],[4,"ngIf"],["badgeType","paymentMethod","size","small",3,"paymentMethod"],["badgeType","bonusGranted","size","small"],["badgeType","bonusUsed","size","small"],["badgeType","refund","size","small"],[1,"empty-state","mobile-view"]],template:function(a,d){a&1&&(t(0,"div",0)(1,"div",1),g(2,ae,2,2,"div",2)(3,Be,110,29,"div",3),n()(),t(4,"app-payment-view-modal",4),P("visibleChange",function(){return d.closePaymentView()})("paymentUpdated",function(){return d.onPaymentUpdated()})("refundedPaymentClick",function(M){return d.openPaymentView(M)}),n()),a&2&&(o(2),l("ngIf",d.isLoading),o(),l("ngIf",d.profile&&!d.isLoading),o(),l("visible",d.showPaymentViewModal)("paymentTxId",d.selectedPaymentTxId)("paymentSearchResult",d.selectedPaymentSearchResult))},dependencies:[N,z,F,J,H,$,q,j,R,Z,K,G,te,ee],styles:[".page-wrapper[_ngcontent-%COMP%]{min-height:100%;margin:-2rem;padding:2rem;background:linear-gradient(180deg,#f0fdf4,#f8fafc 50% 100%)}.profile-container-wrapper[_ngcontent-%COMP%]{position:relative;min-height:400px}.page-loading-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:60vh;width:100%}.profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;flex-direction:column;gap:1.5rem}.profile-header-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem;box-shadow:0 1px 3px #0000000d}.profile-header-content[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:flex-start}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.avatar-large[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:20px;background:linear-gradient(135deg,#16a34a,#22c55e);display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:700;color:#fff}.status-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:24px;height:24px;border-radius:50%;background:#94a3b8;border:3px solid white}.status-indicator.active[_ngcontent-%COMP%]{background:#22c55e}.profile-main-info[_ngcontent-%COMP%]{flex:1}.name-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}.profile-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0}.profile-email[_ngcontent-%COMP%], .profile-phone[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;margin:.5rem 0}.role-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:#f0fdf4;color:#16a34a;padding:.5rem 1rem;border-radius:12px;font-weight:600;font-size:.9375rem;margin-top:.75rem}.role-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem;box-shadow:0 1px 3px #0000000d}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.card-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.card-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,#f0fdf4,#dcfce7);display:flex;align-items:center;justify-content:center;color:#16a34a}.card-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem 0;border-bottom:1px solid #f1f5f9}.info-row.readonly[_ngcontent-%COMP%]{opacity:.7}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-label[_ngcontent-%COMP%]{font-weight:600;color:#64748b;min-width:150px;font-size:.9375rem}.info-value[_ngcontent-%COMP%]{color:#1f2937;font-size:.9375rem}.info-input[_ngcontent-%COMP%]{flex:1;max-width:300px;padding:.625rem 1rem;border:1.5px solid #e2e8f0;border-radius:10px;font-size:.9375rem;font-family:inherit;background:linear-gradient(to bottom,#fff,#f8fafc);color:#1f2937;font-weight:500;transition:all .2s ease;box-shadow:0 1px 2px #0000000a}.info-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;background:linear-gradient(to bottom,#fff,#f1f5f9)}.info-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#22c55e;background:#fff;box-shadow:0 0 0 4px #22c55e1f,0 2px 4px #0000000d}.info-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-label[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#475569}.form-input[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:.75rem 1rem;border:1.5px solid #e2e8f0;border-radius:10px;font-size:.9375rem;font-family:inherit;background:linear-gradient(to bottom,#fff,#f8fafc);color:#1f2937;font-weight:500;transition:all .2s ease;box-shadow:0 1px 2px #0000000a}.form-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;background:linear-gradient(to bottom,#fff,#f1f5f9)}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#22c55e;background:#fff;box-shadow:0 0 0 4px #22c55e1f,0 2px 4px #0000000d}.form-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.error-message[_ngcontent-%COMP%]{font-size:.8rem;color:#dc2626;margin-top:.25rem}.error-message.server-error[_ngcontent-%COMP%]{padding:.75rem 1rem;background:#fef2f2;border:1px solid #fecaca;border-radius:8px;margin-bottom:1rem}.activity-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem;box-shadow:0 1px 3px #0000000d}.payments-table-container[_ngcontent-%COMP%]{overflow-x:auto}.payments-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.payments-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8fafc}.payments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-size:.875rem;font-weight:600;color:#64748b;border-bottom:1px solid #e2e8f0}.payments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f1f5f9}.payments-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8fafc}.payment-id[_ngcontent-%COMP%]{font-family:monospace;font-weight:600;color:#64748b;font-size:.875rem}.payment-id.clickable[_ngcontent-%COMP%]{color:#64748b;cursor:pointer;text-decoration:underline;transition:color .2s}.payment-id.clickable[_ngcontent-%COMP%]:hover{color:#475569}.mobile-payment-id.clickable[_ngcontent-%COMP%]{color:#64748b;cursor:pointer;text-decoration:underline}.client-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.client-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,#f0fdf4,#dcfce7);display:flex;align-items:center;justify-content:center;font-weight:600;color:#16a34a;font-size:.875rem;flex-shrink:0}.client-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.client-name-link[_ngcontent-%COMP%]{text-decoration:none;color:#1f2937;font-weight:600;font-size:.9375rem;transition:color .2s;cursor:pointer;display:inline-block}.client-name-link[_ngcontent-%COMP%]:hover{color:#16a34a}.client-name-link[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]{cursor:pointer}.client-phone[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b}.amount-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#16a34a}.bonus-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.bonus-badge[_ngcontent-%COMP%]{display:inline-block}.bonus-none[_ngcontent-%COMP%]{color:#94a3b8;font-size:.875rem}.date-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.date-text[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:500}.time-text[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;color:#94a3b8;gap:1rem}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px}.empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9375rem}.mobile-payments-cards[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:1rem}.mobile-payment-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1rem;box-shadow:0 1px 3px #0000000d;border:1px solid #e5e7eb}.mobile-payment-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer}.mobile-payment-card-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.mobile-payment-id[_ngcontent-%COMP%]{font-family:monospace;font-size:.875rem;font-weight:600;color:#64748b}.mobile-payment-amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#16a34a}.mobile-payment-expand[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;color:#64748b;transition:transform .2s}.mobile-payment-expand.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.mobile-payment-details[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #e5e7eb;display:none;flex-direction:column;gap:.75rem}.mobile-payment-details.expanded[_ngcontent-%COMP%]{display:flex}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500;flex-shrink:0}.detail-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:500;text-align:right;flex:1}.detail-value.link[_ngcontent-%COMP%]{color:#16a34a;text-decoration:none}.detail-value.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.detail-value.bonus-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;justify-content:flex-end;flex-wrap:wrap}@media (max-width: 768px){.page-wrapper[_ngcontent-%COMP%]{margin:-1rem;padding:1rem}.profile-header-card[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:1rem}.profile-header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:1.5rem 1rem}.avatar-large[_ngcontent-%COMP%]{width:80px;height:80px;font-size:1.5rem}.profile-main-info[_ngcontent-%COMP%]{width:100%;text-align:center}.name-row[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}.profile-name[_ngcontent-%COMP%]{font-size:1.25rem}.info-card[_ngcontent-%COMP%], .activity-card[_ngcontent-%COMP%]{border-radius:12px;padding:1.25rem 1rem}.card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.125rem}.info-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem;padding:.75rem 0}.info-label[_ngcontent-%COMP%]{min-width:auto;font-size:.875rem}.info-value[_ngcontent-%COMP%]{font-size:.875rem}.info-input[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]{max-width:100%}.desktop-view[_ngcontent-%COMP%]{display:none!important}.mobile-view[_ngcontent-%COMP%]{display:flex!important}.payments-table-container[_ngcontent-%COMP%]{padding:0}}@media (min-width: 769px){.mobile-view[_ngcontent-%COMP%]{display:none!important}.desktop-view[_ngcontent-%COMP%]{display:block!important}}"]})}return i})();export{it as AccountPageComponent};
