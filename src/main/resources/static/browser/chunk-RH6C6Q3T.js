import{a as I}from"./chunk-QA7ABRFW.js";import{$ as u,Aa as b,Ca as t,Da as e,Db as z,Ea as l,Fa as _,Ga as x,Hb as T,Ia as v,Ja as M,Ka as s,Sa as r,T as f,Ta as g,Ua as O,Va as S,Z as h,_ as C,aa as P,ma as a,mb as y,nb as E,pa as w,ua as m,ub as k,ya as p}from"./chunk-SDVY3Z22.js";function j(n,c){n&1&&(t(0,"div",14)(1,"form",15)(2,"div",16)(3,"label",17)(4,"span",18),r(5,"Program name *"),e(),l(6,"input",19),e(),t(7,"label",20)(8,"span",18),r(9,"Auto update"),e(),l(10,"input",21),e()(),t(11,"div",16)(12,"label",22)(13,"span",18),r(14,"Description"),e(),l(15,"textarea",23),e()(),t(16,"div",24)(17,"p",25),r(18,"Auto update"),e(),t(19,"p",26),r(20," Auto update will keep this program active and allow you to adjust rules after launch without recreating the campaign. "),e()(),t(21,"div",27)(22,"label",17)(23,"span",18),r(24,"Start date"),e(),l(25,"input",28),e(),t(26,"label",17)(27,"span",18),r(28,"End date"),e(),l(29,"input",28),e()(),t(30,"div",29)(31,"label",30),l(32,"input",21),t(33,"span"),r(34,"New customers will auto-join once any earning rule is fulfilled"),e()(),t(35,"label",30),l(36,"input",21),t(37,"span"),r(38,"Customers can join this campaign only once"),e()()()()())}function N(n,c){n&1&&(t(0,"div",14)(1,"p",31),r(2,"This step will be implemented with backend."),e()())}function D(n,c){n&1&&(_(0),u(),t(1,"svg",39),l(2,"path",40),e(),x())}function F(n,c){if(n&1&&(_(0),r(1),x()),n&2){let o=s().$implicit;a(),g(o.num)}}function H(n,c){if(n&1){let o=v();t(0,"button",44),M("click",function(){h(o);let i=s(3);return C(i.continue())}),r(1,"Next step"),e()}}function L(n,c){if(n&1&&(t(0,"div",41)(1,"p",42),r(2),e(),m(3,H,2,0,"button",43),e()),n&2){let o=s().$implicit,d=s();a(2),g(o.hint),a(),p("ngIf",d.currentStep<d.STEPS.length)}}function R(n,c){n&1&&l(0,"div",45)}function V(n,c){if(n&1&&(t(0,"li",32)(1,"div",33)(2,"span",34),m(3,D,3,0,"ng-container",35)(4,F,2,1,"ng-container",35),e(),t(5,"span",36),r(6),e()(),m(7,L,4,2,"div",37)(8,R,1,0,"div",38),e()),n&2){let o=c.$implicit,d=c.last,i=s();b("active",i.currentStep===o.num)("done",i.currentStep>o.num)("future",i.currentStep<o.num),a(3),p("ngIf",i.currentStep>o.num),a(),p("ngIf",i.currentStep<=o.num),a(2),g(o.label),a(),p("ngIf",i.currentStep===o.num),a(),p("ngIf",!d)}}var W=[{num:1,label:"Program details",hint:"Define basic information and validity for this reward program."},{num:2,label:"Earning rules",hint:"Configure when and how customers earn rewards."},{num:3,label:"Rewards catalog",hint:"Set up what customers can redeem their points or bonuses for."},{num:4,label:"Tiers (optional)",hint:"Optionally add tiers to differentiate customer groups."},{num:5,label:"Notifications (optional)",hint:"Configure messages sent to customers about this program."},{num:6,label:"Summary",hint:"Review all settings before activating the program."}],K=(()=>{class n{pageHeaderService=f(I);route=f(z);STEPS=W;currentStep=1;draftUuid="";ngOnInit(){this.route.paramMap.subscribe(o=>{this.draftUuid=o.get("uuid")??""}),this.pageHeaderService.setPageHeader("Create Program",[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",route:"/home"},{label:"Reward Programs",route:"/bonus-program"},{label:"Create Program"}])}back(){this.currentStep>1&&this.currentStep--}continue(){this.currentStep<W.length&&this.currentStep++}static \u0275fac=function(d){return new(d||n)};static \u0275cmp=w({type:n,selectors:[["app-create-program-wizard"]],decls:19,vars:8,consts:[[1,"wizard-wrapper"],[1,"wizard-layout"],[1,"wizard-main"],[1,"step-number"],["class","step-content",4,"ngIf"],[1,"steps-sidebar"],[1,"sidebar-title"],[1,"steps-list"],["class","step-item",3,"active","done","future",4,"ngFor","ngForOf"],[1,"sidebar-footer"],["routerLink","/bonus-program",1,"btn-cancel"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M18 6L6 18M6 6l12 12"],["type","button",1,"btn-save-draft"],[1,"step-content"],[1,"details-form"],[1,"form-row"],[1,"field"],[1,"field-label"],["type","text","placeholder","e.g. Weekend cashback",1,"field-input"],[1,"field","field-inline-toggle"],["type","checkbox"],[1,"field","full-width"],["rows","3","placeholder","Describe this reward program for your team.",1,"field-textarea"],[1,"helper-banner"],[1,"helper-title"],[1,"helper-text"],[1,"form-row","two-columns"],["type","date",1,"field-input"],[1,"form-row","toggles-row"],[1,"toggle-field"],[1,"step-placeholder"],[1,"step-item"],[1,"step-row"],[1,"step-num"],[4,"ngIf"],[1,"step-label"],["class","step-active-detail",4,"ngIf"],["class","step-connector",4,"ngIf"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3"],["d","M5 13l4 4L19 7"],[1,"step-active-detail"],[1,"step-hint"],["type","button","class","btn-next-step",3,"click",4,"ngIf"],["type","button",1,"btn-next-step",3,"click"],[1,"step-connector"]],template:function(d,i){d&1&&(t(0,"div",0)(1,"div",1)(2,"main",2)(3,"h2",3),r(4),e(),m(5,j,39,0,"div",4)(6,N,3,0,"div",4),e(),t(7,"aside",5)(8,"h3",6),r(9,"New reward program"),e(),t(10,"ul",7),m(11,V,9,11,"li",8),e(),t(12,"div",9)(13,"a",10),u(),t(14,"svg",11),l(15,"path",12),e(),r(16," Cancel "),e(),P(),t(17,"button",13),r(18),e()()()()()),d&2&&(a(4),S("",i.currentStep,". ",i.STEPS[i.currentStep-1].label,""),a(),p("ngIf",i.currentStep===1),a(),p("ngIf",i.currentStep>1),a(5),p("ngForOf",i.STEPS),a(6),b("btn-create",i.currentStep===i.STEPS.length),a(),O(" ",i.currentStep===i.STEPS.length?"Create":"Save draft"," "))},dependencies:[k,y,E,T],styles:["[_nghost-%COMP%]{display:block;height:100%}.wizard-wrapper[_ngcontent-%COMP%]{min-height:100%;margin:-2rem;padding:2rem;background:#f8fafc}.wizard-layout[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:flex-start}.wizard-main[_ngcontent-%COMP%]{flex:1;min-width:0;background:#fff;border-radius:12px;border:1px solid #e2e8f0;padding:2rem 2.5rem;box-shadow:0 1px 3px #0000000a}.step-number[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#0f172a;margin:0 0 1.5rem;padding-bottom:1rem;border-bottom:1px solid #e2e8f0}.step-placeholder[_ngcontent-%COMP%]{font-size:.9rem;color:#94a3b8;margin:0}.details-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.25rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start}.form-row.two-columns[_ngcontent-%COMP%] > .field[_ngcontent-%COMP%]{flex:1}.form-row[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{flex:1}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.35rem;flex:1}.field-label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#475569}.field-input[_ngcontent-%COMP%], .field-textarea[_ngcontent-%COMP%]{width:100%;border-radius:8px;border:1px solid #cbd5e1;padding:.5rem .75rem;font-size:.9rem;color:#0f172a;background:#fff}.field-input[_ngcontent-%COMP%]:focus, .field-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#16a34a;box-shadow:0 0 0 1px #16a34a22}.field-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:72px}.field-inline-toggle[_ngcontent-%COMP%]{max-width:220px;align-self:flex-end}.helper-banner[_ngcontent-%COMP%]{border-radius:8px;border:1px solid #fed7aa;background:#fff7ed;padding:.75rem .9rem;font-size:.8rem;color:#9a3412}.helper-title[_ngcontent-%COMP%]{margin:0 0 .15rem;font-weight:600}.helper-text[_ngcontent-%COMP%]{margin:0;line-height:1.4}.toggles-row[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.toggle-field[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#475569}.toggle-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:16px;height:16px}.steps-sidebar[_ngcontent-%COMP%]{flex-shrink:0;width:320px;background:#fff;border-radius:12px;border:1px solid #e2e8f0;box-shadow:0 1px 3px #0000000a;padding:1.75rem;display:flex;flex-direction:column}.sidebar-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#0f172a;margin:0 0 1.5rem;padding-bottom:1.1rem;border-bottom:1px solid #e2e8f0}.steps-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;flex:1}.step-item[_ngcontent-%COMP%]{position:relative}.step-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.85rem}.step-num[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.875rem;font-weight:700;flex-shrink:0;background:#f1f5f9;color:#94a3b8;transition:all .2s}.step-num[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.step-item.active[_ngcontent-%COMP%]   .step-num[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.step-item.done[_ngcontent-%COMP%]   .step-num[_ngcontent-%COMP%]{background:#dcfce7;color:#16a34a}.step-label[_ngcontent-%COMP%]{font-size:.95rem;color:#94a3b8;font-weight:500}.step-item.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#0f172a;font-weight:600}.step-item.done[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#64748b}.step-active-detail[_ngcontent-%COMP%]{margin-left:calc(36px + .85rem);padding:.5rem 0 .25rem}.step-hint[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;line-height:1.45;margin:0 0 .85rem}.btn-next-step[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1.25rem;background:#0f172a;color:#fff;border:none;border-radius:6px;font-size:.85rem;font-weight:600;cursor:pointer;transition:background .15s}.btn-next-step[_ngcontent-%COMP%]:hover{background:#1e293b}.step-connector[_ngcontent-%COMP%]{width:2px;height:20px;background:#e2e8f0;margin:4px 0 4px 17px;border-radius:1px}.step-item.done[_ngcontent-%COMP%]   .step-connector[_ngcontent-%COMP%]{background:#bbf7d0}.sidebar-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;margin-top:1.5rem;padding-top:1rem;border-top:1px solid #e2e8f0}.btn-cancel[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.4rem;font-size:.85rem;font-weight:600;color:#ef4444;text-decoration:none;cursor:pointer;background:none;border:none;transition:color .15s}.btn-cancel[_ngcontent-%COMP%]:hover{color:#dc2626}.btn-cancel[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:15px;height:15px}.btn-save-draft[_ngcontent-%COMP%]{padding:.5rem 1.25rem;border:1px solid #e2e8f0;border-radius:6px;background:#fff;color:#0f172a;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .15s}.btn-save-draft[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#cbd5e1}.btn-save-draft.btn-create[_ngcontent-%COMP%]{background:#16a34a;color:#fff;border-color:#16a34a}.btn-save-draft.btn-create[_ngcontent-%COMP%]:hover{background:#15803d;border-color:#15803d}@media (max-width: 768px){.wizard-layout[_ngcontent-%COMP%]{flex-direction:column}.steps-sidebar[_ngcontent-%COMP%]{width:100%;order:-1}.section-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}return n})();export{K as CreateProgramWizardComponent};
