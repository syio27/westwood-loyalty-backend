import{a as ke}from"./chunk-QQH7BD7Q.js";import"./chunk-Z4ERVR4P.js";import{a as Te}from"./chunk-RDYXBXMP.js";import{a as Pe}from"./chunk-K75VVJZK.js";import{a as ve}from"./chunk-RYDIYJIA.js";import{a as Ee}from"./chunk-AGNFQHI7.js";import{a as Me}from"./chunk-BCZBO4CN.js";import{a as Se}from"./chunk-GGGFEIDT.js";import{a as we}from"./chunk-H3FDCG34.js";import{a as Oe}from"./chunk-ALSAQHEB.js";import{a as xe,b as ye}from"./chunk-SHORH3Q6.js";import{a as he}from"./chunk-SAYKV6Z7.js";import{a as Ce}from"./chunk-3B24VZJ2.js";import{a as re}from"./chunk-BQSGCHPY.js";import{c as le,e as de,g as ue,i as ce,m as pe,n as me,o as ge,p as _e,q as fe,t as be}from"./chunk-TY5JFZC6.js";import{a as se}from"./chunk-LMI7DRHQ.js";import{$ as b,$a as R,Aa as $,Ba as n,Ca as i,Cb as ie,Da as g,Db as oe,Ea as q,Fa as K,Ha as h,Hb as ae,Ia as f,Ja as l,K as j,P as G,Pa as B,Qa as s,Ra as v,S as H,Sa as x,T as k,Ta as V,Va as E,Wa as S,Xa as O,Z as p,_ as m,_a as A,aa as P,ab as F,d as L,db as Y,jb as X,kb as J,la as r,oa as W,q as N,qb as Q,sb as Z,ta as _,tb as ee,wb as te,xa as d,za as T,zb as ne}from"./chunk-SR6TZKDI.js";var Be=(()=>{class o{http;apiUrl=`${Ce.apiUrl}/bonuses`;constructor(e){this.http=e}getClientBonusHistory(e,t=0,a=100){let u=new Z().set("page",t.toString()).set("size",a.toString());return this.http.get(`${this.apiUrl}/client/${e}/history`,{params:u})}getClientBonusBalance(e){return this.http.get(`${this.apiUrl}/client/${e}/balance`)}grantBonus(e,t){return this.http.post(`${this.apiUrl}/client/${e}/grant`,t)}revokeBonus(e,t){return this.http.post(`${this.apiUrl}/client/${e}/revoke`,t)}static \u0275fac=function(t){return new(t||o)(H(ee))};static \u0275prov=G({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var De=o=>["/users",o];function Le(o,c){o&1&&(n(0,"div",10),g(1,"app-loader",11),i()),o&2&&(r(),d("visible",!0)("overlay",!1))}function Ne(o,c){o&1&&g(0,"app-not-found-state",12)}function je(o,c){o&1&&(b(),n(0,"svg",16),g(1,"path",135)(2,"path",136),i())}function Ge(o,c){o&1&&(b(),n(0,"svg",16),g(1,"path",137)(2,"circle",138),i())}function He(o,c){if(o&1){let e=h();n(0,"button",141),f("click",function(){p(e);let a=l().index,u=l(2);return m(u.removeTag(a))}),b(),n(1,"svg",16),g(2,"path",142),i()()}}function We(o,c){if(o&1&&(n(0,"span",139),s(1),_(2,He,3,0,"button",140),i()),o&2){let e=c.$implicit,t=l(2);r(),x(" ",e," "),r(),d("ngIf",t.isEditingTags)}}function $e(o,c){if(o&1){let e=h();n(0,"button",146),f("click",function(){p(e);let a=l(3);return m(a.addTag())}),b(),n(1,"svg",16),g(2,"path",147),i()()}}function qe(o,c){if(o&1){let e=h();n(0,"div",143)(1,"input",144),O("ngModelChange",function(a){p(e);let u=l(2);return S(u.newTagInput,a)||(u.newTagInput=a),m(a)}),f("keydown.enter",function(){p(e);let a=l(2);return m(a.addTag())})("focus",function(){p(e);let a=l(2);return m(a.showTagsDropdown=!0)}),i(),_(2,$e,3,0,"button",145),i()}if(o&2){let e=l(2);r(),E("ngModel",e.newTagInput),r(),d("ngIf",e.newTagInput.trim())}}function Ke(o,c){if(o&1){let e=h();n(0,"button",154),f("click",function(){let a=p(e).$implicit,u=l(3);return m(u.addTagFromDropdown(a))}),s(1),i()}if(o&2){let e=c.$implicit;r(),x(" ",e," ")}}function Ye(o,c){o&1&&(n(0,"div",155),s(1," \u0412\u0441\u0435 \u043F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0435 \u0442\u0435\u0433\u0438 \u0443\u0436\u0435 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u044B "),i())}function Xe(o,c){if(o&1){let e=h();n(0,"div",148)(1,"div",149)(2,"span"),s(3,"\u041F\u043E\u043F\u0443\u043B\u044F\u0440\u043D\u044B\u0435 \u0442\u044D\u0433\u0438"),i(),n(4,"button",150),f("click",function(){p(e);let a=l(2);return m(a.showTagsDropdown=!1)}),s(5,"\xD7"),i()(),n(6,"div",151),_(7,Ke,2,1,"button",152)(8,Ye,2,0,"div",153),i()()}if(o&2){let e=l(2);r(7),d("ngForOf",e.getFilteredTags()),r(),d("ngIf",e.getFilteredTags().length===0&&e.availableTags.length>0)}}function Je(o,c){if(o&1){let e=h();n(0,"button",156),f("click",function(){p(e);let a=l(2);return m(a.startEditTags())}),b(),n(1,"svg",16),g(2,"path",100),i()()}}function Qe(o,c){if(o&1){let e=h();n(0,"div",157)(1,"button",158),f("click",function(){p(e);let a=l(2);return m(a.saveTags())}),b(),n(2,"svg",16),g(3,"path",147),i()(),P(),n(4,"button",159),f("click",function(){p(e);let a=l(2);return m(a.cancelEditTags())}),b(),n(5,"svg",16),g(6,"path",142),i()()()}if(o&2){let e=l(2);r(),d("disabled",e.isSavingTags),r(3),d("disabled",e.isSavingTags)}}function Ze(o,c){if(o&1){let e=h();n(0,"button",160),f("click",function(){p(e);let a=l(2);return m(a.startEditComment())}),b(),n(1,"svg",16),g(2,"path",161)(3,"path",162),i()()}}function et(o,c){if(o&1){let e=h();n(0,"div",163)(1,"button",164),f("click",function(){p(e);let a=l(2);return m(a.saveComment())}),s(2,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i(),n(3,"button",165),f("click",function(){p(e);let a=l(2);return m(a.cancelEditComment())}),s(4,"\u041E\u0442\u043C\u0435\u043D\u0430"),i()()}if(o&2){let e=l(2);r(),d("disabled",e.isSavingComment),r(2),d("disabled",e.isSavingComment)}}function tt(o,c){if(o&1&&(n(0,"p",166),s(1),i()),o&2){let e=l(2);r(),v(e.client.comment||"\u041D\u0435\u0442 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u044F")}}function nt(o,c){if(o&1){let e=h();n(0,"textarea",167),O("ngModelChange",function(a){p(e);let u=l(2);return S(u.editedComment,a)||(u.editedComment=a),m(a)}),i()}if(o&2){let e=l(2);E("ngModel",e.editedComment)}}function it(o,c){if(o&1){let e=h();n(0,"button",168),f("click",function(){p(e);let a=l(2);return m(a.startEditPersonal())}),b(),n(1,"svg",16),g(2,"path",161)(3,"path",162),i()()}}function ot(o,c){if(o&1){let e=h();n(0,"div",169)(1,"button",164),f("click",function(){p(e);let a=l(2);return m(a.savePersonal())}),s(2,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i(),n(3,"button",165),f("click",function(){p(e);let a=l(2);return m(a.cancelEditPersonal())}),s(4,"\u041E\u0442\u043C\u0435\u043D\u0430"),i()()}if(o&2){let e=l(2);r(),d("disabled",e.isSavingPersonal),r(2),d("disabled",e.isSavingPersonal)}}function at(o,c){if(o&1&&(n(0,"span",170),s(1),i()),o&2){let e=l(2);r(),v(e.client.firstName)}}function rt(o,c){if(o&1){let e=h();n(0,"input",171),O("ngModelChange",function(a){p(e);let u=l(2);return S(u.editedPersonal.firstName,a)||(u.editedPersonal.firstName=a),m(a)}),i()}if(o&2){let e=l(2);E("ngModel",e.editedPersonal.firstName)}}function st(o,c){if(o&1&&(n(0,"span",170),s(1),i()),o&2){let e=l(2);r(),v(e.client.lastName)}}function lt(o,c){if(o&1){let e=h();n(0,"input",171),O("ngModelChange",function(a){p(e);let u=l(2);return S(u.editedPersonal.lastName,a)||(u.editedPersonal.lastName=a),m(a)}),i()}if(o&2){let e=l(2);E("ngModel",e.editedPersonal.lastName)}}function dt(o,c){if(o&1&&(n(0,"span",170),s(1),i()),o&2){let e=l(2);r(),v(e.client.type==="business"?"\u0411\u0438\u0437\u043D\u0435\u0441":"\u0418\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0439")}}function ut(o,c){if(o&1){let e=h();n(0,"select",172),O("ngModelChange",function(a){p(e);let u=l(2);return S(u.editedPersonal.type,a)||(u.editedPersonal.type=a),m(a)}),n(1,"option",173),s(2,"\u0418\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0439"),i(),n(3,"option",174),s(4,"\u0411\u0438\u0437\u043D\u0435\u0441"),i()()}if(o&2){let e=l(2);E("ngModel",e.editedPersonal.type)}}function ct(o,c){if(o&1){let e=h();n(0,"button",168),f("click",function(){p(e);let a=l(2);return m(a.startEditContacts())}),b(),n(1,"svg",16),g(2,"path",161)(3,"path",162),i()()}}function pt(o,c){if(o&1){let e=h();n(0,"div",169)(1,"button",164),f("click",function(){p(e);let a=l(2);return m(a.saveContacts())}),s(2,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),i(),n(3,"button",165),f("click",function(){p(e);let a=l(2);return m(a.cancelEditContacts())}),s(4,"\u041E\u0442\u043C\u0435\u043D\u0430"),i()()}if(o&2){let e=l(2);r(),d("disabled",e.isSavingContacts),r(2),d("disabled",e.isSavingContacts)}}function mt(o,c){if(o&1&&(n(0,"span",170),s(1),R(2,"phoneFormat"),i()),o&2){let e=l(2);r(),v(F(2,1,e.client.phone))}}function gt(o,c){if(o&1){let e=h();n(0,"input",175),O("ngModelChange",function(a){p(e);let u=l(2);return S(u.editedContacts.phone,a)||(u.editedContacts.phone=a),m(a)}),i()}if(o&2){let e=l(2);E("ngModel",e.editedContacts.phone)}}function _t(o,c){if(o&1&&(n(0,"span",176),s(1),i()),o&2){let e=l(2);r(),v(e.client.email||"\u2014")}}function ft(o,c){if(o&1){let e=h();n(0,"input",177),O("ngModelChange",function(a){p(e);let u=l(2);return S(u.editedContacts.email,a)||(u.editedContacts.email=a),m(a)}),i()}if(o&2){let e=l(2);E("ngModel",e.editedContacts.email),d("disabled",!0)}}function bt(o,c){if(o&1&&(n(0,"app-badge",199),s(1),i()),o&2){let e=l().$implicit,t=l(4);r(),x(" -",t.formatAmount(e.amount)," ")}}function xt(o,c){if(o&1&&(n(0,"app-badge",200),s(1),i()),o&2){let e=l().$implicit,t=l(4);r(),x(" ",t.formatAmount(e.amount)," ")}}function ht(o,c){if(o&1&&(n(0,"app-badge",201),s(1),i()),o&2){let e=l().$implicit,t=l(4);r(),x(" ",t.formatAmount(e.amount)," ")}}function vt(o,c){if(o&1&&(n(0,"app-badge",202),s(1),i()),o&2){let e=l().$implicit,t=l(4);r(),x(" +",t.formatAmount(e.amount)," ")}}function Ct(o,c){o&1&&(n(0,"app-badge",203),s(1," \u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u043E "),i())}function Pt(o,c){o&1&&(n(0,"app-badge",204),s(1," \u041E\u0442\u043E\u0437\u0432\u0430\u043D\u043E "),i())}function yt(o,c){if(o&1&&(n(0,"app-badge",205),s(1),i()),o&2){let e=l().$implicit,t=l(4);d("badgeType",t.getDaysUntilExpiry(e.expiresAt)<=7?"warning":"success"),r(),V(" ",t.getDaysUntilExpiry(e.expiresAt)," ",t.getDaysText(t.getDaysUntilExpiry(e.expiresAt))," ")}}function Mt(o,c){o&1&&(n(0,"app-badge",206),s(1," \u0418\u0441\u0442\u0435\u043A "),i())}function wt(o,c){if(o&1&&(n(0,"div",219),s(1),i()),o&2){let e=l(2).$implicit;r(),x(" ",e.refundReason," ")}}function Et(o,c){o&1&&(n(0,"div",220),s(1," \u041F\u0440\u0438\u0447\u0438\u043D\u0430 \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 "),i())}function St(o,c){if(o&1&&(n(0,"a",221),s(1),i()),o&2){let e=l(2).$implicit;d("routerLink",A(2,De,e.initiatedById)),r(),x(" ",e.initiatedBy," ")}}function Ot(o,c){if(o&1&&(n(0,"div",222),s(1),i()),o&2){let e=l(2).$implicit;r(),x(" ",e.initiatedBy," ")}}function kt(o,c){o&1&&(n(0,"div",223),s(1," \u041D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D "),i())}function Tt(o,c){if(o&1&&(n(0,"tr",207)(1,"td",208)(2,"div",209)(3,"div",210)(4,"div",211)(5,"span",212),s(6,"\u041F\u0440\u0438\u0447\u0438\u043D\u0430 \u0432\u043E\u0437\u0432\u0440\u0430\u0442\u0430:"),i(),_(7,wt,2,1,"div",213)(8,Et,2,0,"div",214),i(),n(9,"div",215)(10,"span",212),s(11,"\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u043E\u0440:"),i(),_(12,St,2,4,"a",216)(13,Ot,2,1,"div",217)(14,kt,2,0,"div",218),i()()()()()),o&2){let e=l().$implicit;r(7),d("ngIf",e.refundReason),r(),d("ngIf",!e.refundReason),r(4),d("ngIf",e.initiatedBy&&e.initiatedById),r(),d("ngIf",e.initiatedBy&&!e.initiatedById),r(),d("ngIf",!e.initiatedBy)}}function Bt(o,c){if(o&1){let e=h();q(0),n(1,"tr")(2,"td")(3,"span",183),s(4),i()(),n(5,"td")(6,"div",184),_(7,bt,2,1,"app-badge",185)(8,xt,2,1,"app-badge",186)(9,ht,2,1,"app-badge",187)(10,vt,2,1,"app-badge",188),i()(),n(11,"td")(12,"span",189),s(13),i()(),n(14,"td")(15,"span",190),s(16),i()(),n(17,"td"),_(18,Ct,2,0,"app-badge",191)(19,Pt,2,0,"app-badge",192)(20,yt,2,3,"app-badge",193)(21,Mt,2,0,"app-badge",194),i(),n(22,"td")(23,"div",195)(24,"app-icon-button",196),f("onClick",function(){let a=p(e).$implicit,u=l(4);return m(u.toggleBonusRow(a.id))}),b(),n(25,"svg",16),g(26,"path",197),i()()()()(),_(27,Tt,15,5,"tr",198),K()}if(o&2){let e=c.$implicit,t=l(4);r(),T("expired",t.getDaysUntilExpiry(e.expiresAt)<=0&&!e.used&&e.type!=="refund")("expiring-soon",t.getDaysUntilExpiry(e.expiresAt)<=7&&t.getDaysUntilExpiry(e.expiresAt)>0)("used",e.used)("refund",e.type==="refund"),r(2),$("bonus-type-"+e.type),r(),x(" ",t.getBonusTypeLabel(e.type)," "),r(3),d("ngIf",e.used),r(),d("ngIf",e.type==="refund"),r(),d("ngIf",e.type!=="refund"&&!e.used&&t.getDaysUntilExpiry(e.expiresAt)<=0),r(),d("ngIf",e.type!=="refund"&&!e.used&&t.getDaysUntilExpiry(e.expiresAt)>0),r(3),v(t.formatDate(e.issuedAt)),r(3),v(t.formatDate(e.expiresAt)),r(2),d("ngIf",e.used),r(),d("ngIf",e.type==="refund"),r(),d("ngIf",e.type!=="refund"&&!e.used&&t.getDaysUntilExpiry(e.expiresAt)>0),r(),d("ngIf",e.type!=="refund"&&!e.used&&t.getDaysUntilExpiry(e.expiresAt)<=0),r(3),d("tooltip",t.isBonusRowExpanded(e.id)?"\u0421\u043A\u0440\u044B\u0442\u044C \u0434\u0435\u0442\u0430\u043B\u0438":"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0434\u0435\u0442\u0430\u043B\u0438"),r(),T("rotated",t.isBonusRowExpanded(e.id)),r(2),d("ngIf",t.isBonusRowExpanded(e.id))}}function Dt(o,c){if(o&1&&(n(0,"div",123)(1,"table",181)(2,"thead")(3,"tr")(4,"th"),s(5,"\u0422\u0438\u043F \u0431\u043E\u043D\u0443\u0441\u0430"),i(),n(6,"th"),s(7,"\u0421\u0443\u043C\u043C\u0430"),i(),n(8,"th"),s(9,"\u041D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u043E"),i(),n(10,"th"),s(11,"\u0418\u0441\u0442\u0435\u043A\u0430\u0435\u0442"),i(),n(12,"th"),s(13,"\u041E\u0441\u0442\u0430\u043B\u043E\u0441\u044C"),i(),n(14,"th"),s(15,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F"),i()()(),n(16,"tbody"),_(17,Bt,28,25,"ng-container",182),i()()()),o&2){l();let e=B(2);r(17),d("ngForOf",e.paginatedData)}}function It(o,c){o&1&&(n(0,"div",224),b(),n(1,"svg",16),g(2,"path",55),i(),P(),n(3,"span"),s(4,"\u041D\u0435\u0442 \u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0445 \u0431\u043E\u043D\u0443\u0441\u043E\u0432"),i()())}function Vt(o,c){if(o&1&&(n(0,"div",178)(1,"app-paginated-table-wrapper",179,1),_(3,Dt,18,1,"div",180)(4,It,5,0,"div",133),i()()),o&2){let e=l(2);r(),d("paginationEnabled",!0)("data",e.bonusesDetails)("defaultPageSize",10),r(2),d("ngIf",e.bonusesDetails.length>0),r(),d("ngIf",e.bonusesDetails.length===0)}}function At(o,c){o&1&&(n(0,"span"),s(1,"-"),i())}function Rt(o,c){o&1&&g(0,"span")}function Ft(o,c){o&1&&(n(0,"span"),s(1,"+"),i())}function zt(o,c){o&1&&(n(0,"span"),s(1,"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u043E"),i())}function Ut(o,c){o&1&&(n(0,"span"),s(1,"\u041E\u0442\u043E\u0437\u0432\u0430\u043D\u043E"),i())}function Lt(o,c){if(o&1&&(n(0,"span"),s(1),i()),o&2){let e=l().$implicit,t=l(3);r(),V(" ",t.getDaysUntilExpiry(e.expiresAt)," ",t.getDaysText(t.getDaysUntilExpiry(e.expiresAt))," ")}}function Nt(o,c){o&1&&(n(0,"span"),s(1,"\u0418\u0441\u0442\u0435\u043A"),i())}function jt(o,c){if(o&1&&(n(0,"div",235)(1,"span",236),s(2,"\u041F\u0440\u0438\u0447\u0438\u043D\u0430 \u0432\u043E\u0437\u0432\u0440\u0430\u0442\u0430:"),i(),n(3,"span",237),s(4),i()()),o&2){let e=l().$implicit;r(4),v(e.refundReason)}}function Gt(o,c){if(o&1&&(n(0,"a",240),s(1),i()),o&2){let e=l(2).$implicit;d("routerLink",A(2,De,e.initiatedById)),r(),v(e.initiatedBy)}}function Ht(o,c){if(o&1&&(n(0,"span"),s(1),i()),o&2){let e=l(2).$implicit;r(),v(e.initiatedBy)}}function Wt(o,c){if(o&1&&(n(0,"div",235)(1,"span",236),s(2,"\u0418\u043D\u0438\u0446\u0438\u0430\u0442\u043E\u0440:"),i(),n(3,"span",237),_(4,Gt,2,4,"a",239)(5,Ht,2,1,"span",232),i()()),o&2){let e=l().$implicit;r(4),d("ngIf",e.initiatedById),r(),d("ngIf",!e.initiatedById)}}function $t(o,c){if(o&1){let e=h();n(0,"div",227)(1,"div",228),f("click",function(){let a=p(e).$implicit,u=l(3);return m(u.toggleMobileBonusCard(a.id))}),n(2,"div",229)(3,"div")(4,"div",230),s(5),i(),n(6,"div",231),_(7,At,2,0,"span",232)(8,Rt,1,0,"span",232)(9,Ft,2,0,"span",232),s(10),i()()(),n(11,"div",233),b(),n(12,"svg",16),g(13,"path",87),i()()(),P(),n(14,"div",234)(15,"div",235)(16,"span",236),s(17,"\u041D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u043E:"),i(),n(18,"span",237),s(19),i()(),n(20,"div",235)(21,"span",236),s(22,"\u0418\u0441\u0442\u0435\u043A\u0430\u0435\u0442:"),i(),n(23,"span",237),s(24),i()(),n(25,"div",235)(26,"span",236),s(27,"\u0421\u0442\u0430\u0442\u0443\u0441:"),i(),n(28,"span",237),_(29,zt,2,0,"span",232)(30,Ut,2,0,"span",232)(31,Lt,2,2,"span",232)(32,Nt,2,0,"span",232),i()(),_(33,jt,5,1,"div",238)(34,Wt,6,2,"div",238),i()()}if(o&2){let e=c.$implicit,t=l(3);r(5),v(t.getBonusTypeLabel(e.type)),r(2),d("ngIf",e.used),r(),d("ngIf",e.type==="refund"),r(),d("ngIf",e.type!=="refund"&&!e.used),r(),x(" ",t.formatAmount(e.amount)," \u20B8 "),r(),T("expanded",t.isMobileBonusExpanded(e.id)),r(3),T("expanded",t.isMobileBonusExpanded(e.id)),r(5),v(t.formatDate(e.issuedAt)),r(5),v(t.formatDate(e.expiresAt)),r(5),d("ngIf",e.used),r(),d("ngIf",e.type==="refund"),r(),d("ngIf",e.type!=="refund"&&!e.used&&t.getDaysUntilExpiry(e.expiresAt)>0),r(),d("ngIf",e.type!=="refund"&&!e.used&&t.getDaysUntilExpiry(e.expiresAt)<=0),r(),d("ngIf",e.refundReason),r(),d("ngIf",e.initiatedBy)}}function qt(o,c){if(o&1&&(n(0,"div",225),_(1,$t,35,17,"div",226),i()),o&2){let e=l(2);r(),d("ngForOf",e.bonusesDetails)}}function Kt(o,c){o&1&&(b(),n(0,"svg",16),g(1,"path",100),i())}function Yt(o,c){o&1&&g(0,"span",241)}function Xt(o,c){o&1&&(b(),n(0,"svg",16),g(1,"path",114),i())}function Jt(o,c){o&1&&g(0,"span",241)}function Qt(o,c){if(o&1&&(n(0,"app-badge",202),s(1),i()),o&2){let e=l().$implicit,t=l(2);r(),x(" +",t.formatAmount(e.bonusEarned)," ")}}function Zt(o,c){if(o&1&&(n(0,"app-badge",199),s(1),i()),o&2){let e=l().$implicit,t=l(2);r(),x(" -",t.formatAmount(e.bonusUsed)," ")}}function en(o,c){if(o&1&&(n(0,"app-badge",200),s(1),i()),o&2){let e=l().$implicit,t=l(2);r(),x(" -",t.formatAmount(e.bonusRevoked)," ")}}function tn(o,c){o&1&&(n(0,"span",261),s(1,"\u2014"),i())}function nn(o,c){if(o&1){let e=h();n(0,"tr",242)(1,"td",243)(2,"span",244),f("click",function(){let a=p(e).$implicit,u=l(2);return m(u.openPaymentView(a.id))}),s(3),i()(),n(4,"td",245)(5,"span",246),s(6),i()(),n(7,"td",247)(8,"div",184),_(9,Qt,2,1,"app-badge",188)(10,Zt,2,1,"app-badge",185)(11,en,2,1,"app-badge",186)(12,tn,2,0,"span",248),i()(),n(13,"td",249),g(14,"app-badge",250),i(),n(15,"td",251)(16,"app-badge",252),s(17),i()(),n(18,"td",253)(19,"div",254)(20,"span",255),s(21),i(),n(22,"span",256),s(23),i()()(),n(24,"td",257)(25,"div",195)(26,"app-icon-button",258),f("onClick",function(){let a=p(e).$implicit,u=l(2);return m(u.openRefundModal(a))}),b(),n(27,"svg",259),g(28,"path",260),i()()()()()}if(o&2){let e=c.$implicit,t=l(2);r(3),v(e.id),r(3),x("",t.formatAmount(e.amount)," \u20B8"),r(3),d("ngIf",e.bonusEarned>0),r(),d("ngIf",e.bonusUsed>0),r(),d("ngIf",e.bonusRevoked>0),r(),d("ngIf",e.bonusEarned===0&&e.bonusUsed===0&&e.bonusRevoked===0),r(2),d("paymentMethod",t.getPaymentMethodForBadge(e.paymentMethod)),r(2),d("badgeType",e.isRefund?"refund":"payment")("icon",e.isRefund?"refund":"payment"),r(),x(" ",e.isRefund?"\u0412\u043E\u0437\u0432\u0440\u0430\u0442":"\u041E\u043F\u043B\u0430\u0447\u0435\u043D\u043E"," "),r(4),v(e.date),r(2),v(e.time),r(3),d("disabled",e.isRefund)}}function on(o,c){o&1&&(n(0,"div",224),b(),n(1,"svg",259),g(2,"path",262)(3,"rect",47),i(),P(),n(4,"span"),s(5,"\u041F\u043B\u0430\u0442\u0435\u0436\u0438 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B"),i()())}function an(o,c){if(o&1&&(n(0,"div",272)(1,"span",273),s(2,"\u0411\u043E\u043D\u0443\u0441\u043E\u0432 \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u043E:"),i(),n(3,"span",274),s(4),i()()),o&2){let e=l().$implicit,t=l(3);r(4),x("+",t.formatAmount(e.bonusEarned),"")}}function rn(o,c){if(o&1&&(n(0,"div",272)(1,"span",273),s(2,"\u0411\u043E\u043D\u0443\u0441\u043E\u0432 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u043E:"),i(),n(3,"span",274),s(4),i()()),o&2){let e=l().$implicit,t=l(3);r(4),x("-",t.formatAmount(e.bonusUsed),"")}}function sn(o,c){if(o&1){let e=h();n(0,"div",272)(1,"button",276),f("click",function(a){p(e);let u=l().$implicit;return l(3).openRefundModal(u),m(a.stopPropagation())}),b(),n(2,"svg",16),g(3,"path",260),i(),s(4," \u0412\u043E\u0437\u0432\u0440\u0430\u0442 "),i()()}}function ln(o,c){if(o&1){let e=h();n(0,"div",265)(1,"div",266),f("click",function(){let a=p(e).$implicit,u=l(3);return m(u.toggleMobilePaymentCard(a.id))}),n(2,"div",267)(3,"div")(4,"div",268),f("click",function(a){let u=p(e).$implicit;return l(3).openPaymentView(u.id),m(a.stopPropagation())}),s(5),i(),n(6,"div",269),s(7),i()()(),n(8,"div",270),b(),n(9,"svg",16),g(10,"path",87),i()()(),P(),n(11,"div",271)(12,"div",272)(13,"span",273),s(14,"\u0414\u0430\u0442\u0430:"),i(),n(15,"span",274),s(16),i()(),n(17,"div",272)(18,"span",273),s(19,"\u0412\u0440\u0435\u043C\u044F:"),i(),n(20,"span",274),s(21),i()(),_(22,an,5,1,"div",275)(23,rn,5,1,"div",275),n(24,"div",272)(25,"span",273),s(26,"\u0421\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B:"),i(),n(27,"span",274),s(28),i()(),n(29,"div",272)(30,"span",273),s(31,"\u0421\u0442\u0430\u0442\u0443\u0441:"),i(),n(32,"span",274),s(33),i()(),_(34,sn,5,0,"div",275),i()()}if(o&2){let e=c.$implicit,t=l(3);r(5),v(e.id),r(2),x("",t.formatAmount(e.amount)," \u20B8"),r(),T("expanded",t.isMobilePaymentExpanded(e.id)),r(3),T("expanded",t.isMobilePaymentExpanded(e.id)),r(5),v(e.date),r(5),v(e.time),r(),d("ngIf",e.bonusEarned>0),r(),d("ngIf",e.bonusUsed>0),r(5),v(t.getPaymentMethodLabel(e.paymentMethod)),r(5),v(e.isRefund?"\u0412\u043E\u0437\u0432\u0440\u0430\u0442":"\u041E\u043F\u043B\u0430\u0447\u0435\u043D\u043E"),r(),d("ngIf",!e.isRefund)}}function dn(o,c){if(o&1&&(n(0,"div",263),_(1,ln,35,13,"div",264),i()),o&2){l();let e=B(237);r(),d("ngForOf",e.paginatedData)}}function un(o,c){if(o&1){let e=h();n(0,"div",13)(1,"div",14)(2,"button",15),f("click",function(){p(e);let a=l();return m(a.openDeleteModal())}),b(),n(3,"svg",16),g(4,"path",17),i()(),P(),n(5,"div",18)(6,"div",19)(7,"div",20),s(8),i()(),n(9,"div",21)(10,"div",22)(11,"h1",23),s(12),i(),n(13,"span",24),_(14,je,3,0,"svg",25)(15,Ge,3,0,"svg",25),s(16),i()(),n(17,"p",26),s(18),R(19,"phoneFormat"),i(),n(20,"div",27)(21,"div",28),_(22,We,3,2,"span",29)(23,qe,3,2,"div",30),i(),_(24,Xe,9,2,"div",31)(25,Je,3,0,"button",32)(26,Qe,7,2,"div",33),i()()()(),n(27,"div",34)(28,"div",35)(29,"div",36),b(),n(30,"svg",16),g(31,"path",37),i(),P(),n(32,"span"),s(33,"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u043E \u043A\u043B\u0438\u0435\u043D\u0442\u0435"),i()(),_(34,Ze,4,0,"button",38)(35,et,5,2,"div",39),i(),n(36,"div",40),_(37,tt,2,1,"p",41)(38,nt,1,1,"textarea",42),i()(),n(39,"div",43)(40,"div",44)(41,"div",45),b(),n(42,"svg",16),g(43,"path",46)(44,"rect",47)(45,"path",48),i()(),P(),n(46,"div",49)(47,"span",50),s(48),i(),n(49,"span",51),s(50,"\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0439"),i()()(),n(51,"div",44)(52,"div",52),b(),n(53,"svg",16),g(54,"path",53),i()(),P(),n(55,"div",49)(56,"span",50),s(57),i(),n(58,"span",51),s(59,"\u041E\u0431\u0449\u0430\u044F \u0441\u0443\u043C\u043C\u0430"),i()()(),n(60,"div",44)(61,"div",54),b(),n(62,"svg",16),g(63,"path",55),i()(),P(),n(64,"div",49)(65,"span",50),s(66),i(),n(67,"span",51),s(68,"\u0411\u043E\u043D\u0443\u0441\u043E\u0432 \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u043E"),i()()(),n(69,"div",44)(70,"div",56),b(),n(71,"svg",16),g(72,"circle",57)(73,"path",58),i()(),P(),n(74,"div",49)(75,"span",50),s(76),i(),n(77,"span",51),s(78,"\u0411\u043E\u043D\u0443\u0441\u043E\u0432 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u043E"),i()()()(),n(79,"div",59)(80,"div",60)(81,"div",61)(82,"div",62)(83,"div",63),b(),n(84,"svg",16),g(85,"path",64),i()(),P(),n(86,"h3",65),s(87,"\u041B\u0438\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"),i()(),_(88,it,4,0,"button",66)(89,ot,5,2,"div",67),i(),n(90,"div",68)(91,"div",69)(92,"span",70),s(93,"\u0418\u043C\u044F"),i(),_(94,at,2,1,"span",71)(95,rt,1,1,"input",72),i(),n(96,"div",69)(97,"span",70),s(98,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"),i(),_(99,st,2,1,"span",71)(100,lt,1,1,"input",72),i(),n(101,"div",69)(102,"span",70),s(103,"\u0422\u0438\u043F \u043A\u043B\u0438\u0435\u043D\u0442\u0430"),i(),_(104,dt,2,1,"span",71)(105,ut,5,1,"select",73),i()()(),n(106,"div",60)(107,"div",61)(108,"div",62)(109,"div",63),b(),n(110,"svg",16),g(111,"path",74),i()(),P(),n(112,"h3",65),s(113,"\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u044B"),i()(),_(114,ct,4,0,"button",66)(115,pt,5,2,"div",67),i(),n(116,"div",68)(117,"div",69)(118,"span",70),s(119,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D"),i(),_(120,mt,3,3,"span",71)(121,gt,1,1,"input",75),i(),n(122,"div",69)(123,"span",70),s(124,"Email"),i(),_(125,_t,2,1,"span",76)(126,ft,1,2,"input",77),i()()()(),n(127,"div",78)(128,"div",79),f("click",function(){p(e);let a=l();return m(a.toggleBonusesExpanded())}),n(129,"div",62)(130,"div",63),b(),n(131,"svg",16),g(132,"path",55),i()(),P(),n(133,"div",80)(134,"h3",65),s(135,"\u0414\u0435\u0442\u0430\u043B\u0438 \u0431\u043E\u043D\u0443\u0441\u043E\u0432"),i(),n(136,"div",81)(137,"div",82)(138,"span",51),s(139,"\u041E\u0441\u0442\u0430\u043B\u043E\u0441\u044C:"),i(),n(140,"span",83),s(141),i()(),n(142,"div",82)(143,"span",51),s(144,"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u043E:"),i(),n(145,"span",84),s(146),i()(),n(147,"div",82)(148,"span",51),s(149,"\u0421\u0433\u043E\u0440\u0435\u043B\u043E:"),i(),n(150,"span",85),s(151),i()()()()(),n(152,"button",86),b(),n(153,"svg",16),g(154,"path",87),i()()(),_(155,Vt,5,5,"div",88)(156,qt,2,1,"div",89),i(),P(),n(157,"div",90)(158,"div",91)(159,"div",92),b(),n(160,"svg",16),g(161,"path",55),i(),P(),n(162,"span"),s(163,"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0431\u043E\u043D\u0443\u0441\u0430\u043C\u0438"),i()(),n(164,"div",93)(165,"span",94),s(166,"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u0431\u0430\u043B\u0430\u043D\u0441:"),i(),n(167,"span",95),s(168),i()()(),n(169,"div",96)(170,"div",97)(171,"div",98)(172,"div",99),b(),n(173,"svg",16),g(174,"path",100),i()(),P(),n(175,"div",101)(176,"h4"),s(177,"\u041D\u0430\u0447\u0438\u0441\u043B\u0438\u0442\u044C \u0431\u043E\u043D\u0443\u0441\u044B"),i(),n(178,"p"),s(179,"\u0412\u0440\u0443\u0447\u043D\u0443\u044E \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0431\u043E\u043D\u0443\u0441\u044B \u043A\u043B\u0438\u0435\u043D\u0442\u0443"),i()()(),n(180,"div",102)(181,"div",103)(182,"div",104)(183,"label"),s(184,"\u0421\u0443\u043C\u043C\u0430"),i(),n(185,"div",105)(186,"input",106),O("ngModelChange",function(a){p(e);let u=l();return S(u.grantBonusAmount,a)||(u.grantBonusAmount=a),m(a)}),i(),n(187,"span",107),s(188,"\u20B8"),i()()()(),n(189,"div",108)(190,"label"),s(191,"\u041F\u0440\u0438\u0447\u0438\u043D\u0430"),i(),n(192,"input",109),O("ngModelChange",function(a){p(e);let u=l();return S(u.grantBonusReason,a)||(u.grantBonusReason=a),m(a)}),i()(),n(193,"button",110),f("click",function(){p(e);let a=l();return m(a.grantBonus())}),_(194,Kt,2,0,"svg",25)(195,Yt,1,0,"span",111),s(196),i()()(),n(197,"div",112)(198,"div",98)(199,"div",113),b(),n(200,"svg",16),g(201,"path",114),i()(),P(),n(202,"div",101)(203,"h4"),s(204,"\u0421\u043F\u0438\u0441\u0430\u0442\u044C \u0431\u043E\u043D\u0443\u0441\u044B"),i(),n(205,"p"),s(206,"\u0412\u0440\u0443\u0447\u043D\u0443\u044E \u0441\u043F\u0438\u0441\u0430\u0442\u044C \u0431\u043E\u043D\u0443\u0441\u044B \u0443 \u043A\u043B\u0438\u0435\u043D\u0442\u0430"),i()()(),n(207,"div",102)(208,"div",103)(209,"div",104)(210,"label"),s(211,"\u0421\u0443\u043C\u043C\u0430 "),n(212,"span",115),s(213),i()(),n(214,"div",105)(215,"input",116),O("ngModelChange",function(a){p(e);let u=l();return S(u.revokeBonusAmount,a)||(u.revokeBonusAmount=a),m(a)}),i(),n(216,"span",107),s(217,"\u20B8"),i()()()(),n(218,"div",108)(219,"label"),s(220,"\u041F\u0440\u0438\u0447\u0438\u043D\u0430"),i(),n(221,"input",117),O("ngModelChange",function(a){p(e);let u=l();return S(u.revokeBonusReason,a)||(u.revokeBonusReason=a),m(a)}),i()(),n(222,"button",118),f("click",function(){p(e);let a=l();return m(a.revokeBonus())}),_(223,Xt,2,0,"svg",25)(224,Jt,1,0,"span",111),s(225),i()()()()(),n(226,"div",119)(227,"div",61)(228,"div",62)(229,"div",63),b(),n(230,"svg",16),g(231,"path",120),i()(),P(),n(232,"h3",65),s(233,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043F\u043B\u0430\u0442\u0435\u0436\u0435\u0439"),i()(),n(234,"span",121),s(235),i()(),n(236,"app-paginated-table-wrapper",122,0)(238,"div",123)(239,"table",124)(240,"thead")(241,"tr")(242,"th",125),s(243,"ID \u043F\u043B\u0430\u0442\u0435\u0436\u0430"),i(),n(244,"th",126),s(245,"\u0421\u0443\u043C\u043C\u0430"),i(),n(246,"th",127),s(247,"\u0411\u043E\u043D\u0443\u0441\u044B"),i(),n(248,"th",128),s(249,"\u0421\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B"),i(),n(250,"th",129),s(251,"\u0421\u0442\u0430\u0442\u0443\u0441"),i(),n(252,"th",130),s(253,"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F"),i(),n(254,"th",131),s(255,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F"),i()()(),n(256,"tbody"),_(257,nn,29,13,"tr",132),i()(),_(258,on,6,0,"div",133),i()(),_(259,dn,2,1,"div",134),i()()}if(o&2){let e=B(237),t=l();r(8),x(" ",t.getInitials()," "),r(4),v(t.getFullName()),r(),T("business",t.client.type==="business"),r(),d("ngIf",t.client.type==="business"),r(),d("ngIf",t.client.type==="individual"),r(),x(" ",t.client.type==="business"?"\u0411\u0438\u0437\u043D\u0435\u0441":"\u0418\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0439"," "),r(2),v(F(19,64,t.client.phone)),r(4),d("ngForOf",t.client.tags),r(),d("ngIf",t.isEditingTags),r(),d("ngIf",t.isEditingTags&&t.showTagsDropdown&&t.availableTags.length>0),r(),d("ngIf",!t.isEditingTags),r(),d("ngIf",t.isEditingTags),r(8),d("ngIf",!t.isEditingComment),r(),d("ngIf",t.isEditingComment),r(2),d("ngIf",!t.isEditingComment),r(),d("ngIf",t.isEditingComment),r(10),v(t.clientTotals.totalPayments),r(9),x("",t.formatAmount(t.clientTotals.totalRevenue)," \u20B8"),r(9),v(t.formatAmount(t.clientTotals.totalBonusesGranted)),r(10),v(t.formatAmount(t.clientTotals.totalBonusesUsed)),r(12),d("ngIf",!t.isEditingPersonal),r(),d("ngIf",t.isEditingPersonal),r(5),d("ngIf",!t.isEditingPersonal),r(),d("ngIf",t.isEditingPersonal),r(4),d("ngIf",!t.isEditingPersonal),r(),d("ngIf",t.isEditingPersonal),r(4),d("ngIf",!t.isEditingPersonal),r(),d("ngIf",t.isEditingPersonal),r(9),d("ngIf",!t.isEditingContacts),r(),d("ngIf",t.isEditingContacts),r(5),d("ngIf",!t.isEditingContacts),r(),d("ngIf",t.isEditingContacts),r(4),d("ngIf",!t.isEditingContacts),r(),d("ngIf",t.isEditingContacts),r(15),x("",t.formatAmount(t.bonusBalance)," \u20B8"),r(5),x("",t.formatAmount(t.getUsedBonusesTotal())," \u20B8"),r(5),x("",t.formatAmount(t.getExpiredBonusesTotal())," \u20B8"),r(),T("collapsed",!t.isBonusesExpanded),r(3),d("ngIf",t.isBonusesExpanded),r(),d("ngIf",t.isBonusesExpanded&&t.bonusesDetails.length>0),r(12),x("",t.formatAmount(t.bonusBalance)," \u20B8"),r(18),E("ngModel",t.grantBonusAmount),r(6),E("ngModel",t.grantBonusReason),r(),d("disabled",!t.grantBonusAmount||t.grantBonusAmount<=0||t.isGrantingBonus),r(),d("ngIf",!t.isGrantingBonus),r(),d("ngIf",t.isGrantingBonus),r(),x(" ",t.isGrantingBonus?"\u041D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0435...":"\u041D\u0430\u0447\u0438\u0441\u043B\u0438\u0442\u044C"," "),r(17),x("(\u043C\u0430\u043A\u0441. ",t.formatAmount(t.bonusBalance),")"),r(2),E("ngModel",t.revokeBonusAmount),d("max",t.bonusBalance),r(6),E("ngModel",t.revokeBonusReason),r(),d("disabled",!t.revokeBonusAmount||t.revokeBonusAmount<=0||t.revokeBonusAmount>t.bonusBalance||t.isRevokingBonus||t.bonusBalance<=0),r(),d("ngIf",!t.isRevokingBonus),r(),d("ngIf",t.isRevokingBonus),r(),x(" ",t.isRevokingBonus?"\u0421\u043F\u0438\u0441\u0430\u043D\u0438\u0435...":"\u0421\u043F\u0438\u0441\u0430\u0442\u044C"," "),r(10),x("",t.payments.length," \u043F\u043B\u0430\u0442\u0435\u0436\u0435\u0439"),r(),d("paginationEnabled",!0)("data",t.payments)("defaultPageSize",15),r(21),d("ngForOf",e.paginatedData),r(),d("ngIf",t.payments.length===0),r(),d("ngIf",t.payments.length>0)}}function cn(o,c){if(o&1){let e=h();n(0,"div",280)(1,"div",281),b(),n(2,"svg",16),g(3,"path",282),i()(),P(),n(4,"h3",283),s(5,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043A\u043B\u0438\u0435\u043D\u0442\u0430?"),i(),n(6,"p",284),s(7," \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u043A\u043B\u0438\u0435\u043D\u0442\u0430 "),n(8,"strong"),s(9),i(),s(10,"?"),g(11,"br"),s(12," \u042D\u0442\u043E \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043D\u0435\u043B\u044C\u0437\u044F \u043E\u0442\u043C\u0435\u043D\u0438\u0442\u044C. \u0412\u0441\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u043A\u043B\u0438\u0435\u043D\u0442\u0430, \u0432\u043A\u043B\u044E\u0447\u0430\u044F \u0438\u0441\u0442\u043E\u0440\u0438\u044E \u043F\u043B\u0430\u0442\u0435\u0436\u0435\u0439 \u0438 \u0431\u043E\u043D\u0443\u0441\u043E\u0432, \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u044B. "),i(),n(13,"div",285)(14,"button",286),f("click",function(){p(e);let a=l(2);return m(a.closeDeleteModal())}),s(15,"\u041E\u0442\u043C\u0435\u043D\u0430"),i(),n(16,"button",287),f("click",function(){p(e);let a=l(2);return m(a.proceedToDeleteStep2())}),s(17,"\u0414\u0430, \u0443\u0434\u0430\u043B\u0438\u0442\u044C"),i()()()}if(o&2){let e=l(2);r(9),v(e.getFullName())}}function pn(o,c){o&1&&(n(0,"span"),s(1,"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043D\u0430\u0432\u0441\u0435\u0433\u0434\u0430"),i())}function mn(o,c){o&1&&(n(0,"span"),s(1,"\u0423\u0434\u0430\u043B\u0435\u043D\u0438\u0435..."),i())}function gn(o,c){if(o&1){let e=h();n(0,"div",280)(1,"div",288),b(),n(2,"svg",16),g(3,"path",289),i()(),P(),n(4,"h3",283),s(5,"\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0435"),i(),n(6,"p",284),s(7," \u0414\u043B\u044F \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u044F \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043B\u043E\u0432\u043E "),n(8,"strong",290),s(9,"\u0443\u0434\u0430\u043B\u0438\u0442\u044C"),i()(),n(10,"input",291),O("ngModelChange",function(a){p(e);let u=l(2);return S(u.deleteConfirmationWord,a)||(u.deleteConfirmationWord=a),m(a)}),f("keydown.enter",function(){p(e);let a=l(2);return m(a.confirmDelete())}),i(),n(11,"div",285)(12,"button",286),f("click",function(){p(e);let a=l(2);return m(a.closeDeleteModal())}),s(13,"\u041E\u0442\u043C\u0435\u043D\u0430"),i(),n(14,"button",292),f("click",function(){p(e);let a=l(2);return m(a.confirmDelete())}),_(15,pn,2,0,"span",232)(16,mn,2,0,"span",232),i()()()}if(o&2){let e=l(2);r(10),E("ngModel",e.deleteConfirmationWord),r(4),d("disabled",e.deleteConfirmationWord!=="\u0443\u0434\u0430\u043B\u0438\u0442\u044C"||e.isDeletingClient),r(),d("ngIf",!e.isDeletingClient),r(),d("ngIf",e.isDeletingClient)}}function _n(o,c){if(o&1){let e=h();n(0,"div",277),f("click",function(){p(e);let a=l();return m(a.closeDeleteModal())}),n(1,"div",278),f("click",function(a){return p(e),m(a.stopPropagation())}),_(2,cn,18,1,"div",279)(3,gn,17,4,"div",279),i()()}if(o&2){let e=l();r(2),d("ngIf",e.deleteStep===1),r(),d("ngIf",e.deleteStep===2)}}var Kn=(()=>{class o{pageHeaderService=k(he);route=k(ne);router=k(ie);titleService=k(te);clientsService=k(Pe);paymentsService=k(ye);bonusesService=k(Be);analyticsService=k(Me);toastService=k(re);transactionModalService=k(xe);cdr=k(Y);destroy$=new L;clientId="";isLoading=!0;clientNotFound=!1;client=null;clientDetails=null;clientTotals={totalPayments:0,totalRevenue:0,totalBonusesGranted:0,totalBonusesUsed:0};bonusBalance=0;grantBonusAmount=null;grantBonusReason="";revokeBonusAmount=null;revokeBonusReason="";isGrantingBonus=!1;isRevokingBonus=!1;isEditingComment=!1;editedComment="";isSavingComment=!1;isEditingTags=!1;editedTags=[];newTagInput="";showTagsDropdown=!1;isSavingTags=!1;availableTags=[];isEditingPersonal=!1;isSavingPersonal=!1;editedPersonal={firstName:"",lastName:"",type:"individual"};isEditingContacts=!1;isSavingContacts=!1;editedContacts={phone:"",email:""};isBonusesExpanded=!1;bonusesDetails=[];expandedBonusRows=new Set;expandedMobileBonusCards=new Set;expandedMobilePaymentCards=new Set;payments=[];showRefundModal=!1;selectedPaymentForRefund=null;showPaymentViewModal=!1;selectedPaymentTxId=null;selectedPaymentSearchResult=null;showDeleteModal=!1;deleteStep=1;deleteConfirmationWord="";isDeletingClient=!1;ngOnInit(){this.pageHeaderService.setPageHeader("\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043A\u043B\u0438\u0435\u043D\u0442\u0430",[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",route:"/home"},{label:"\u041A\u043B\u0438\u0435\u043D\u0442\u044B",route:"/clients"},{label:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043A\u043B\u0438\u0435\u043D\u0442\u0430"}]),this.route.params.subscribe(e=>{this.clientId=e.id,this.clientId&&this.loadClientData()}),this.transactionModalService.transactionComplete$.pipe(j(this.destroy$)).subscribe(()=>{this.router.url.startsWith("/clients/")&&this.clientId&&this.loadClientData()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadClientData(){this.isLoading=!0;let e=this.clientsService.getClientById(this.clientId),t=this.paymentsService.getClientPayments(this.clientId,0,100),a=this.bonusesService.getClientBonusHistory(this.clientId,0,100),u=this.bonusesService.getClientBonusBalance(this.clientId),M=this.analyticsService.getClientTotals(this.clientId),z=this.clientsService.getTags();N({client:e,payments:t,bonusHistory:a,bonusBalance:u,totals:M,tags:z}).subscribe({next:({client:y,payments:D,bonusHistory:Ie,bonusBalance:Ve,totals:Ae,tags:U})=>{this.clientDetails=y;let Re=`${y.name}${y.surname?" "+y.surname:""}`.trim();this.titleService.setTitle(`Westwood - Client - ${Re}`),this.client={id:y.id,firstName:y.name,lastName:y.surname||"",phone:y.phone,email:y.email,tags:y.tags||[],comment:y.notes,type:y.clientType==="BUSINESS"?"business":"individual"};let Fe=D?.content||[];this.payments=Fe.map(C=>{try{return this.mapPaymentToItem(C)}catch(w){return console.error("Error mapping payment:",C,w),null}}).filter(C=>C!==null).sort((C,w)=>{try{let I=new Date(`${C.date} ${C.time}`);return new Date(`${w.date} ${w.time}`).getTime()-I.getTime()}catch(I){return console.error("Error sorting payments:",I),0}});let ze=Ie?.content||[];this.bonusesDetails=ze.map(C=>{try{let w="purchase";return C.grantReason==="WELCOME"?w="welcome":C.eventType==="GRANTED"||C.eventType==="USED"?w="purchase":C.eventType==="REVOKED"?w="refund":C.eventType==="EXPIRED"&&(w="loyalty"),{id:String(C.id),type:w,amount:C.bonusAmount,issuedAt:new Date(C.createdAt),expiresAt:C.expiresAt?new Date(C.expiresAt):new Date(Date.now()+90*24*60*60*1e3),used:C.eventType==="USED",refundReason:C.revokeReason||void 0,initiatedBy:void 0,initiatedById:void 0}}catch(w){return console.error("Error mapping bonus:",C,w),null}}).filter(C=>C!==null),this.bonusBalance=Ve?.currentBalance??0,this.clientTotals=Ae||{totalPayments:0,totalRevenue:0,totalBonusesGranted:0,totalBonusesUsed:0},this.availableTags=Array.isArray(U)?U:[],console.log("Loaded available tags:",this.availableTags),this.isLoading=!1,this.cdr.detectChanges()},error:y=>{if(console.error("Error loading client data:",y),console.error("Error details:",{status:y.status,statusText:y.statusText,url:y.url,error:y.error,clientId:this.clientId}),y.status===404){this.clientNotFound=!0,this.isLoading=!1;return}this.loadClientDataIndividually();let D=y.error?.message||`\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445 \u043A\u043B\u0438\u0435\u043D\u0442\u0430 (${y.status||"unknown"})`;this.toastService.error(D)}})}loadClientDataIndividually(){this.clientsService.getClientById(this.clientId).subscribe({next:e=>{this.clientDetails=e;let t=`${e.name}${e.surname?" "+e.surname:""}`.trim();this.titleService.setTitle(`Westwood - Client - ${t}`),this.client={id:e.id,firstName:e.name,lastName:e.surname||"",phone:e.phone,email:e.email,tags:e.tags||[],comment:e.notes,type:e.clientType==="BUSINESS"?"business":"individual"},this.isLoading=!1,this.cdr.detectChanges()},error:e=>{console.error("Error loading client:",e),e.status===404&&(this.clientNotFound=!0),this.isLoading=!1}}),this.paymentsService.getClientPayments(this.clientId,0,100).subscribe({next:e=>{let t=e?.content||[];this.payments=t.map(a=>{try{return this.mapPaymentToItem(a)}catch(u){return console.error("Error mapping payment:",a,u),null}}).filter(a=>a!==null).sort((a,u)=>{try{let M=new Date(`${a.date} ${a.time}`);return new Date(`${u.date} ${u.time}`).getTime()-M.getTime()}catch{return 0}}),this.cdr.detectChanges()},error:e=>{console.error("Error loading payments:",e),this.payments=[]}}),this.bonusesService.getClientBonusHistory(this.clientId,0,100).subscribe({next:e=>{let t=e?.content||[];this.bonusesDetails=t.map(a=>{try{let u="purchase";return a.grantReason==="WELCOME"?u="welcome":a.eventType==="GRANTED"||a.eventType==="USED"?u="purchase":a.eventType==="REVOKED"?u="refund":a.eventType==="EXPIRED"&&(u="loyalty"),{id:String(a.id),type:u,amount:a.bonusAmount,issuedAt:new Date(a.createdAt),expiresAt:a.expiresAt?new Date(a.expiresAt):new Date(Date.now()+90*24*60*60*1e3),used:a.eventType==="USED",refundReason:a.revokeReason||void 0,initiatedBy:void 0,initiatedById:void 0}}catch(u){return console.error("Error mapping bonus:",a,u),null}}).filter(a=>a!==null),this.cdr.detectChanges()},error:e=>{console.error("Error loading bonus history:",e),this.bonusesDetails=[]}}),this.bonusesService.getClientBonusBalance(this.clientId).subscribe({next:e=>{this.bonusBalance=e?.currentBalance??0,this.cdr.detectChanges()},error:e=>{console.error("Error loading bonus balance:",e),this.bonusBalance=0}}),this.analyticsService.getClientTotals(this.clientId).subscribe({next:e=>{this.clientTotals=e||{totalPayments:0,totalRevenue:0,totalBonusesGranted:0,totalBonusesUsed:0},this.cdr.detectChanges()},error:e=>{console.error("Error loading client totals:",e),this.clientTotals={totalPayments:0,totalRevenue:0,totalBonusesGranted:0,totalBonusesUsed:0}}}),this.clientsService.getTags().subscribe({next:e=>{this.availableTags=Array.isArray(e)?e:[],this.cdr.detectChanges()},error:e=>{console.error("Error loading tags:",e),this.availableTags=[]}})}mapPaymentToItem(e){if(!e)return console.warn("Invalid payment data: payment is null/undefined"),null;if(!e.createdAt){console.warn("Invalid payment data: missing createdAt",e);let t=new Date;return{id:e.txId||"unknown",clientId:e.clientId||"",clientName:e.clientName||"\u2014",clientPhone:e.clientPhone||"\u2014",amount:e.amount||0,bonusEarned:e.bonusGranted||0,bonusUsed:e.bonusUsed||0,bonusRevoked:e.bonusRevoked||0,paymentMethod:e.paymentMethod?.toLowerCase()||"cash",isRefund:e.status==="REFUNDED"||!!e.refundedPaymentTxId,date:this.formatDate(t),time:this.formatTime(t)}}try{let t=new Date(e.createdAt);if(isNaN(t.getTime())){console.warn("Invalid date format:",e.createdAt);let M=new Date;return{id:e.txId,clientId:e.clientId||"",clientName:e.clientName||"\u2014",clientPhone:e.clientPhone||"\u2014",amount:e.amount||0,bonusEarned:e.bonusGranted||0,bonusUsed:e.bonusUsed||0,bonusRevoked:e.bonusRevoked||0,paymentMethod:e.paymentMethod?.toLowerCase()||"cash",isRefund:e.status==="REFUNDED"||!!e.refundedPaymentTxId,date:this.formatDate(M),time:this.formatTime(M)}}let a=this.formatDate(t),u=this.formatTime(t);return{id:e.txId,clientId:e.clientId||"",clientName:e.clientName||"\u2014",clientPhone:e.clientPhone||"\u2014",amount:e.amount||0,bonusEarned:e.bonusGranted||0,bonusUsed:e.bonusUsed||0,bonusRevoked:e.bonusRevoked||0,paymentMethod:e.paymentMethod?.toLowerCase()||"cash",isRefund:e.status==="REFUNDED"||!!e.refundedPaymentTxId,date:a,time:u}}catch(t){console.error("Error mapping payment:",t,e);let a=new Date;return{id:e.txId||"unknown",clientId:e.clientId||"",clientName:e.clientName||"\u2014",clientPhone:e.clientPhone||"\u2014",amount:e.amount||0,bonusEarned:e.bonusGranted||0,bonusUsed:e.bonusUsed||0,bonusRevoked:e.bonusRevoked||0,paymentMethod:"cash",isRefund:!1,date:this.formatDate(a),time:this.formatTime(a)}}}ngAfterViewInit(){let e=document.querySelector(".sidebar-content");e&&(e.scrollTop=0),window.scrollTo(0,0)}getFullName(){return this.client?`${this.client.firstName} ${this.client.lastName}`.trim():""}getInitials(e){if(e)return e.split(" ").map(M=>M.charAt(0)).join("").toUpperCase().slice(0,2);if(!this.client)return"";let t=this.client.firstName.charAt(0).toUpperCase(),a=this.client.lastName?this.client.lastName.charAt(0).toUpperCase():"";return t+a}startEditTags(){this.client&&(this.editedTags=[...this.client.tags],this.isEditingTags=!0,this.newTagInput="",this.showTagsDropdown=!1,console.log("Started editing tags. Available tags:",this.availableTags))}addTag(){!this.client||!this.newTagInput.trim()||(this.client.tags.includes(this.newTagInput.trim())||this.client.tags.push(this.newTagInput.trim()),this.newTagInput="")}addTagFromDropdown(e){this.client&&(this.client.tags.includes(e)||this.client.tags.push(e),this.showTagsDropdown=!1)}getFilteredTags(){if(!this.client)return[];if(!this.availableTags||this.availableTags.length===0)return console.warn("Available tags is empty:",this.availableTags),[];let e=this.newTagInput.toLowerCase(),t=this.availableTags.filter(a=>!this.client.tags.includes(a)&&(e===""||a.toLowerCase().includes(e)));return console.log("Filtered tags:",{availableTags:this.availableTags,clientTags:this.client.tags,searchTerm:e,filtered:t}),t}removeTag(e){this.client&&this.client.tags.splice(e,1)}saveTags(){if(!this.client)return;this.isSavingTags=!0;let e={tags:this.client.tags};console.log("Update Client Tags - Request Payload:",{clientId:this.clientId,payload:e}),this.clientsService.updateClientTags(this.clientId,e).subscribe({next:()=>{this.toastService.success("\u0422\u0435\u0433\u0438 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B"),this.isEditingTags=!1,this.newTagInput="",this.showTagsDropdown=!1,this.isSavingTags=!1},error:t=>{let a=t.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u0442\u0435\u0433\u043E\u0432";this.toastService.error(a),this.cancelEditTags(),this.isSavingTags=!1}})}cancelEditTags(){this.client&&(this.client.tags=[...this.editedTags],this.isEditingTags=!1,this.newTagInput="",this.showTagsDropdown=!1)}startEditComment(){this.client&&(this.editedComment=this.client.comment||"",this.isEditingComment=!0)}saveComment(){if(!this.client)return;this.isSavingComment=!0;let e={notes:this.editedComment};console.log("Update Client Notes - Request Payload:",{clientId:this.clientId,payload:e}),this.clientsService.updateClientNotes(this.clientId,e).subscribe({next:()=>{this.client.comment=this.editedComment,this.toastService.success("\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D"),this.isEditingComment=!1,this.isSavingComment=!1},error:t=>{let a=t.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u044F";this.toastService.error(a),this.isSavingComment=!1}})}cancelEditComment(){this.isEditingComment=!1,this.editedComment=""}grantBonus(){!this.grantBonusAmount||this.grantBonusAmount<=0||(this.isGrantingBonus=!0,this.bonusesService.grantBonus(this.clientId,{amount:this.grantBonusAmount,reason:this.grantBonusReason||void 0}).subscribe({next:e=>{this.bonusBalance=e.currentBalance,this.toastService.success(`\u0423\u0441\u043F\u0435\u0448\u043D\u043E \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u043E ${this.formatAmount(this.grantBonusAmount)} \u20B8 \u0431\u043E\u043D\u0443\u0441\u043E\u0432`),this.grantBonusAmount=null,this.grantBonusReason="",this.isGrantingBonus=!1,this.loadBonusHistory()},error:e=>{let t=e.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0438 \u0431\u043E\u043D\u0443\u0441\u043E\u0432";this.toastService.error(t),this.isGrantingBonus=!1}}))}revokeBonus(){!this.revokeBonusAmount||this.revokeBonusAmount<=0||this.revokeBonusAmount>this.bonusBalance||(this.isRevokingBonus=!0,this.bonusesService.revokeBonus(this.clientId,{amount:this.revokeBonusAmount,reason:this.revokeBonusReason||void 0}).subscribe({next:e=>{this.bonusBalance=e.currentBalance,this.toastService.success(`\u0423\u0441\u043F\u0435\u0448\u043D\u043E \u0441\u043F\u0438\u0441\u0430\u043D\u043E ${this.formatAmount(this.revokeBonusAmount)} \u20B8 \u0431\u043E\u043D\u0443\u0441\u043E\u0432`),this.revokeBonusAmount=null,this.revokeBonusReason="",this.isRevokingBonus=!1,this.loadBonusHistory()},error:e=>{let t=e.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0438 \u0431\u043E\u043D\u0443\u0441\u043E\u0432";this.toastService.error(t),this.isRevokingBonus=!1}}))}loadBonusHistory(){this.bonusesService.getClientBonusHistory(this.clientId).subscribe({next:e=>{let t=e?.content||[];this.bonusesDetails=t.map(a=>{try{let u="purchase";return a.grantReason==="WELCOME"?u="welcome":a.grantReason?.startsWith("MANUAL")?u="manual":a.eventType==="GRANTED"||a.eventType==="USED"?u="purchase":a.eventType==="REVOKED"&&(u="refund"),{id:a.id.toString(),type:u,amount:a.bonusAmount,used:a.eventType==="USED",issuedAt:new Date(a.createdAt),expiresAt:a.expiresAt?new Date(a.expiresAt):new Date(new Date(a.createdAt).getTime()+365*24*60*60*1e3)}}catch(u){return console.error("Error mapping bonus history item:",u,a),null}}).filter(a=>a!==null),this.cdr.detectChanges()},error:e=>{console.error("Error loading bonus history:",e)}})}startEditPersonal(){this.client&&(this.editedPersonal={firstName:this.client.firstName,lastName:this.client.lastName,type:this.client.type},this.isEditingPersonal=!0)}savePersonal(){if(!this.client||!this.clientDetails)return;this.isSavingPersonal=!0;let e={phone:this.clientDetails.phone,name:this.editedPersonal.firstName,surname:this.editedPersonal.lastName,dateOfBirth:this.clientDetails.dateOfBirth,notes:this.clientDetails.notes,tags:this.clientDetails.tags||[],clientType:this.editedPersonal.type==="business"?"BUSINESS":"INDIVIDUAL",referrerId:this.clientDetails.referrerId};console.log("Update Client (Personal Data) - Request Payload:",{clientId:this.clientId,payload:e}),this.clientsService.updateClient(this.clientId,e).subscribe({next:t=>{this.clientDetails=t,this.client.firstName=t.name,this.client.lastName=t.surname||"",this.client.type=t.clientType==="BUSINESS"?"business":"individual",this.toastService.success("\u041B\u0438\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B"),this.isEditingPersonal=!1,this.isSavingPersonal=!1},error:t=>{let a=t.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043B\u0438\u0447\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445";this.toastService.error(a),this.isSavingPersonal=!1}})}cancelEditPersonal(){this.isEditingPersonal=!1}startEditContacts(){this.client&&(this.editedContacts={phone:this.client.phone,email:this.client.email||""},this.isEditingContacts=!0)}saveContacts(){if(!this.client||!this.clientDetails)return;this.isSavingContacts=!0;let e={phone:this.editedContacts.phone,name:this.clientDetails.name,surname:this.clientDetails.surname||"",dateOfBirth:this.clientDetails.dateOfBirth,notes:this.clientDetails.notes,tags:this.clientDetails.tags||[],clientType:this.clientDetails.clientType,referrerId:this.clientDetails.referrerId};console.log("Update Client (Contacts) - Request Payload:",{clientId:this.clientId,payload:e}),this.clientsService.updateClient(this.clientId,e).subscribe({next:t=>{this.clientDetails=t,this.client.phone=t.phone,this.toastService.success("\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u044B"),this.isEditingContacts=!1,this.isSavingContacts=!1},error:t=>{let a=t.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0438 \u043A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u044B\u0445 \u0434\u0430\u043D\u043D\u044B\u0445";this.toastService.error(a),this.isSavingContacts=!1}})}cancelEditContacts(){this.isEditingContacts=!1}formatPaymentId(e){return e}formatAmount(e){return e.toLocaleString("ru-RU")}getPaymentMethodForBadge(e){if(!e)return null;let t=e.toUpperCase();return t==="CASH"||t==="CARD"||t==="TRANSFER"?t:null}getPaymentMethodLabel(e){return{cash:"\u041D\u0430\u043B\u0438\u0447\u043D\u044B\u0435",card:"\u041A\u0430\u0440\u0442\u0430",transfer:"\u041F\u0435\u0440\u0435\u0432\u043E\u0434"}[e]||e}openRefundModal(e){this.client&&(this.selectedPaymentForRefund={id:e.id,clientId:this.clientId,clientName:this.getFullName(),clientPhone:this.client.phone,amount:e.amount,bonusEarned:e.bonusEarned,bonusUsed:e.bonusUsed,bonusRevoked:e.bonusRevoked,paymentMethod:e.paymentMethod,isRefund:e.isRefund,date:e.date,time:e.time},this.showRefundModal=!0)}closeRefundModal(){this.showRefundModal=!1,this.selectedPaymentForRefund=null}openPaymentView(e){let t=this.payments.find(a=>a.id===e);t&&(this.selectedPaymentSearchResult={txId:t.id,clientId:this.clientId,clientName:this.getFullName(),clientPhone:this.client?.phone||"",clientEmail:this.client?.email||null,amount:t.amount,status:t.isRefund?"REFUNDED":"COMPLETED",paymentMethod:t.paymentMethod?.toUpperCase(),initiatedBy:null,createdAt:t.date+"T"+t.time,refundedPaymentTxId:null,bonusGranted:t.bonusEarned,bonusUsed:t.bonusUsed,bonusRevoked:t.bonusRevoked,refundReason:null}),this.selectedPaymentTxId=e,this.showPaymentViewModal=!0}onPaymentUpdated(){this.loadClientData()}confirmRefund(e){this.selectedPaymentForRefund&&this.paymentsService.refundPayment(this.selectedPaymentForRefund.id,{notes:e}).subscribe({next:()=>{this.toastService.success("\u0412\u043E\u0437\u0432\u0440\u0430\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D"),this.closeRefundModal(),this.loadClientData()},error:t=>{let a=t.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u0438\u0438 \u0432\u043E\u0437\u0432\u0440\u0430\u0442\u0430";this.toastService.error(a)}})}formatTime(e){let t=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return`${t}:${a}`}getBonusTypeLabel(e){return{welcome:"\u041F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u044B\u0439",referral:"\u0420\u0435\u0444\u0435\u0440\u0430\u043B\u044C\u043D\u044B\u0439",purchase:"\u0417\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443",promotion:"\u0410\u043A\u0446\u0438\u044F",loyalty:"\u041B\u043E\u044F\u043B\u044C\u043D\u043E\u0441\u0442\u044C",refund:"\u041E\u0442\u043E\u0437\u0432\u0430\u043D\u043E",used:"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u043E",granted:"\u041D\u0430\u0447\u0438\u0441\u043B\u0435\u043D\u043E"}[e]||e}getDaysUntilExpiry(e){let t=new Date,u=new Date(e).getTime()-t.getTime();return Math.ceil(u/(1e3*60*60*24))}getDaysText(e){return e===1?"\u0434\u0435\u043D\u044C":e>=2&&e<=4?"\u0434\u043D\u044F":"\u0434\u043D\u0435\u0439"}formatDate(e){return(typeof e=="string"?new Date(e):e).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}toggleBonusesExpanded(){this.isBonusesExpanded=!this.isBonusesExpanded}getActiveBonusesTotal(){let e=new Date;return this.bonusesDetails.filter(t=>!t.used&&new Date(t.expiresAt)>e).reduce((t,a)=>t+a.amount,0)}getUsedBonusesTotal(){return this.bonusesDetails.filter(e=>e.used).reduce((e,t)=>e+t.amount,0)}getExpiredBonusesTotal(){let e=new Date;return this.bonusesDetails.filter(t=>!t.used&&t.type!=="refund"&&new Date(t.expiresAt)<=e).reduce((t,a)=>t+a.amount,0)}toggleBonusRow(e){this.expandedBonusRows.has(e)?this.expandedBonusRows.delete(e):this.expandedBonusRows.add(e)}isBonusRowExpanded(e){return this.expandedBonusRows.has(e)}toggleMobileBonusCard(e){this.expandedMobileBonusCards.has(e)?this.expandedMobileBonusCards.delete(e):this.expandedMobileBonusCards.add(e)}isMobileBonusExpanded(e){return this.expandedMobileBonusCards.has(e)}toggleMobilePaymentCard(e){this.expandedMobilePaymentCards.has(e)?this.expandedMobilePaymentCards.delete(e):this.expandedMobilePaymentCards.add(e)}isMobilePaymentExpanded(e){return this.expandedMobilePaymentCards.has(e)}openDeleteModal(){this.showDeleteModal=!0,this.deleteStep=1,this.deleteConfirmationWord="",this.isDeletingClient=!1}closeDeleteModal(){this.showDeleteModal=!1,this.deleteStep=1,this.deleteConfirmationWord="",this.isDeletingClient=!1}proceedToDeleteStep2(){this.deleteStep=2}confirmDelete(){if(this.deleteConfirmationWord!=="\u0443\u0434\u0430\u043B\u0438\u0442\u044C"){this.toastService.error('\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043B\u043E\u0432\u043E "\u0443\u0434\u0430\u043B\u0438\u0442\u044C" \u0434\u043B\u044F \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F');return}this.isDeletingClient=!0,this.clientsService.deleteClient(this.clientId).subscribe({next:()=>{this.toastService.success("\u041A\u043B\u0438\u0435\u043D\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D"),this.closeDeleteModal(),this.router.navigate(["/clients"])},error:e=>{let t=e.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0443\u0434\u0430\u043B\u0435\u043D\u0438\u0438 \u043A\u043B\u0438\u0435\u043D\u0442\u0430";this.toastService.error(t),this.isDeletingClient=!1}})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=W({type:o,selectors:[["app-profile-page"]],decls:8,vars:9,consts:[["paginatedTable",""],["paginatedBonuses",""],[1,"page-wrapper"],[1,"profile-container-wrapper"],["class","page-loading-container",4,"ngIf"],["title","\u041A\u043B\u0438\u0435\u043D\u0442 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D","description","\u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u0437\u0430\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043A\u043B\u0438\u0435\u043D\u0442 \u043D\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043B\u0438 \u0431\u044B\u043B \u0443\u0434\u0430\u043B\u0435\u043D.","backLink","/clients","backText","\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u043A\u043B\u0438\u0435\u043D\u0442\u0430\u043C",4,"ngIf"],["class","profile-container",4,"ngIf"],[3,"visibleChange","confirm","visible","payment"],[3,"visibleChange","paymentUpdated","visible","paymentTxId","paymentSearchResult"],["class","delete-modal-overlay",3,"click",4,"ngIf"],[1,"page-loading-container"],["type","logo","size","large",3,"visible","overlay"],["title","\u041A\u043B\u0438\u0435\u043D\u0442 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D","description","\u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u0437\u0430\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043A\u043B\u0438\u0435\u043D\u0442 \u043D\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043B\u0438 \u0431\u044B\u043B \u0443\u0434\u0430\u043B\u0435\u043D.","backLink","/clients","backText","\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u043A\u043B\u0438\u0435\u043D\u0442\u0430\u043C"],[1,"profile-container"],[1,"profile-header-card"],["title","\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u043A\u043B\u0438\u0435\u043D\u0442\u0430",1,"delete-client-btn",3,"click"],["viewBox","0 0 24 24","fill","none"],["d","M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6h14zM10 11v6M14 11v6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"profile-header-content"],[1,"avatar-wrapper"],[1,"avatar-large"],[1,"profile-main-info"],[1,"name-row"],[1,"profile-name"],[1,"client-type-badge"],["viewBox","0 0 24 24","fill","none",4,"ngIf"],[1,"profile-phone"],[1,"tags-row"],[1,"tags-container"],["class","client-tag",4,"ngFor","ngForOf"],["class","add-tag-wrapper",4,"ngIf"],["class","tags-dropdown",4,"ngIf"],["class","edit-tags-btn",3,"click",4,"ngIf"],["class","tags-actions",4,"ngIf"],[1,"comment-card"],[1,"comment-header"],[1,"comment-title"],["d","M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["class","edit-comment-btn",3,"click",4,"ngIf"],["class","comment-actions",4,"ngIf"],[1,"comment-body"],["class","comment-text",4,"ngIf"],["class","comment-textarea","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u043E \u043A\u043B\u0438\u0435\u043D\u0442\u0435...","rows","3",3,"ngModel","ngModelChange",4,"ngIf"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","transactions"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["x","9","y","3","width","6","height","4","rx","1","stroke","currentColor","stroke-width","1.5"],["d","M9 12h6M9 16h6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","total-sum"],["d","M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"stat-icon","bonuses-earned"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"stat-icon","bonuses-used"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","1.5"],["d","M8 12l3 3 5-6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"details-grid"],[1,"details-card"],[1,"card-header"],[1,"card-header-left"],[1,"card-icon"],["d","M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"card-title"],["class","card-edit-btn",3,"click",4,"ngIf"],["class","card-actions",4,"ngIf"],[1,"info-list"],[1,"info-row"],[1,"info-label"],["class","info-value",4,"ngIf"],["class","info-input",3,"ngModel","ngModelChange",4,"ngIf"],["class","info-select",3,"ngModel","ngModelChange",4,"ngIf"],["d","M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["class","info-input","type","tel",3,"ngModel","ngModelChange",4,"ngIf"],["class","info-value email",4,"ngIf"],["class","info-input","type","email","placeholder","Email \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"bonuses-details-card"],[1,"card-header",3,"click"],[1,"card-title-section"],[1,"bonuses-stats"],[1,"stat-item"],[1,"stat-value","active"],[1,"stat-value","used"],[1,"stat-value","expired"],[1,"collapse-btn"],["d","M6 9l6 6 6-6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","bonuses-content",4,"ngIf"],["class","mobile-bonuses-cards",4,"ngIf"],[1,"bonus-management-card"],[1,"bonus-management-header"],[1,"bonus-management-title"],[1,"bonus-balance-display"],[1,"balance-label"],[1,"balance-value"],[1,"bonus-actions-grid"],[1,"bonus-action-card","grant"],[1,"action-header"],[1,"action-icon","grant"],["d","M12 5v14M5 12h14","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"action-info"],[1,"action-form"],[1,"form-row"],[1,"form-field","amount-field"],[1,"input-wrapper"],["type","number","placeholder","0","min","1",1,"amount-input",3,"ngModelChange","ngModel"],[1,"currency"],[1,"form-field"],["type","text","placeholder","\u041D\u0430\u043F\u0440\u0438\u043C\u0435\u0440: \u041A\u043E\u043C\u043F\u0435\u043D\u0441\u0430\u0446\u0438\u044F \u0437\u0430 \u043D\u0435\u0443\u0434\u043E\u0431\u0441\u0442\u0432\u0430",1,"reason-input",3,"ngModelChange","ngModel"],[1,"action-btn","grant-btn",3,"click","disabled"],["class","spinner",4,"ngIf"],[1,"bonus-action-card","revoke"],[1,"action-icon","revoke"],["d","M5 12h14","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"max-hint"],["type","number","placeholder","0","min","1",1,"amount-input",3,"ngModelChange","ngModel","max"],["type","text","placeholder","\u041D\u0430\u043F\u0440\u0438\u043C\u0435\u0440: \u041A\u043E\u0440\u0440\u0435\u043A\u0442\u0438\u0440\u043E\u0432\u043A\u0430 \u0431\u0430\u043B\u0430\u043D\u0441\u0430",1,"reason-input",3,"ngModelChange","ngModel"],[1,"action-btn","revoke-btn",3,"click","disabled"],[1,"payments-card"],["d","M22 12h-4l-3 9L9 3l-3 9H2","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"payments-count"],["paginationKey","payments",3,"paginationEnabled","data","defaultPageSize"],[1,"table-container"],[1,"payments-table"],[1,"th-id"],[1,"th-amount"],[1,"th-bonuses"],[1,"th-method"],[1,"th-status"],[1,"th-date"],[1,"th-actions"],["class","payment-row",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],["class","mobile-payments-cards",4,"ngIf"],["d","M20 7H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V9a2 2 0 00-2-2z","stroke","currentColor","stroke-width","1.5"],["d","M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2","stroke","currentColor","stroke-width","1.5"],["d","M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2","stroke","currentColor","stroke-width","1.5"],["cx","12","cy","7","r","4","stroke","currentColor","stroke-width","1.5"],[1,"client-tag"],["class","remove-tag-btn",3,"click",4,"ngIf"],[1,"remove-tag-btn",3,"click"],["d","M18 6L6 18M6 6l12 12","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"add-tag-wrapper"],["type","text","placeholder","\u041D\u043E\u0432\u044B\u0439 \u0442\u044D\u0433...",1,"add-tag-input",3,"ngModelChange","keydown.enter","focus","ngModel"],["class","add-tag-confirm-btn",3,"click",4,"ngIf"],[1,"add-tag-confirm-btn",3,"click"],["d","M5 12l5 5L20 7","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"tags-dropdown"],[1,"tags-dropdown-header"],["type","button",1,"tags-dropdown-close",3,"click"],[1,"tags-dropdown-list"],["type","button","class","tag-option",3,"click",4,"ngFor","ngForOf"],["class","tags-dropdown-empty",4,"ngIf"],["type","button",1,"tag-option",3,"click"],[1,"tags-dropdown-empty"],[1,"edit-tags-btn",3,"click"],[1,"tags-actions"],[1,"save-tags-btn",3,"click","disabled"],[1,"cancel-tags-btn",3,"click","disabled"],[1,"edit-comment-btn",3,"click"],["d","M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"comment-actions"],[1,"save-btn",3,"click","disabled"],[1,"cancel-btn",3,"click","disabled"],[1,"comment-text"],["placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439 \u043E \u043A\u043B\u0438\u0435\u043D\u0442\u0435...","rows","3",1,"comment-textarea",3,"ngModelChange","ngModel"],[1,"card-edit-btn",3,"click"],[1,"card-actions"],[1,"info-value"],[1,"info-input",3,"ngModelChange","ngModel"],[1,"info-select",3,"ngModelChange","ngModel"],["value","individual"],["value","business"],["type","tel",1,"info-input",3,"ngModelChange","ngModel"],[1,"info-value","email"],["type","email","placeholder","Email \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u0435\u043D \u0434\u043B\u044F \u0440\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F",1,"info-input",3,"ngModelChange","ngModel","disabled"],[1,"bonuses-content"],["paginationKey","bonuses",3,"paginationEnabled","data","defaultPageSize"],["class","table-container",4,"ngIf"],[1,"bonuses-table"],[4,"ngFor","ngForOf"],[1,"bonus-type-badge"],[1,"bonus-info"],["badgeType","bonusUsed","size","medium","icon","check","class","bonus-badge",4,"ngIf"],["badgeType","refund","size","medium","icon","refund","class","bonus-badge",4,"ngIf"],["badgeType","bonusExpired","size","medium","icon","expired","class","bonus-badge",4,"ngIf"],["badgeType","bonusGranted","size","medium","icon","star","class","bonus-badge",4,"ngIf"],[1,"bonus-date"],[1,"bonus-expiry-date"],["badgeType","bonusUsed","size","medium","icon","used",4,"ngIf"],["badgeType","refund","size","medium","icon","refund",4,"ngIf"],["size","medium",3,"badgeType",4,"ngIf"],["badgeType","bonusExpired","size","medium","icon","expired",4,"ngIf"],[1,"actions-cell"],["iconButtonType","ghost","size","medium",1,"view-svg-btn",3,"onClick","tooltip"],["d","M6 9l6 6 6-6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["class","bonus-details-row",4,"ngIf"],["badgeType","bonusUsed","size","medium","icon","check",1,"bonus-badge"],["badgeType","refund","size","medium","icon","refund",1,"bonus-badge"],["badgeType","bonusExpired","size","medium","icon","expired",1,"bonus-badge"],["badgeType","bonusGranted","size","medium","icon","star",1,"bonus-badge"],["badgeType","bonusUsed","size","medium","icon","used"],["badgeType","refund","size","medium","icon","refund"],["size","medium",3,"badgeType"],["badgeType","bonusExpired","size","medium","icon","expired"],[1,"bonus-details-row"],["colspan","6",1,"bonus-details-cell"],[1,"bonus-details-content"],[1,"bonus-details-grid"],[1,"refund-reason-section"],[1,"refund-reason-label"],["class","refund-reason-text",4,"ngIf"],["class","refund-reason-empty",4,"ngIf"],[1,"bonus-initiated-by-section"],["class","bonus-initiated-by-link",3,"routerLink",4,"ngIf"],["class","bonus-initiated-by-text",4,"ngIf"],["class","bonus-initiated-by-empty",4,"ngIf"],[1,"refund-reason-text"],[1,"refund-reason-empty"],[1,"bonus-initiated-by-link",3,"routerLink"],[1,"bonus-initiated-by-text"],[1,"bonus-initiated-by-empty"],[1,"empty-state"],[1,"mobile-bonuses-cards"],["class","mobile-bonus-card",4,"ngFor","ngForOf"],[1,"mobile-bonus-card"],[1,"mobile-bonus-card-header",3,"click"],[1,"mobile-bonus-card-main"],[1,"mobile-bonus-type"],[1,"mobile-bonus-amount"],[4,"ngIf"],[1,"mobile-bonus-expand"],[1,"mobile-bonus-details"],[1,"mobile-bonus-detail-row"],[1,"mobile-bonus-detail-label"],[1,"mobile-bonus-detail-value"],["class","mobile-bonus-detail-row",4,"ngIf"],[3,"routerLink",4,"ngIf"],[3,"routerLink"],[1,"spinner"],[1,"payment-row"],[1,"td-id"],[1,"payment-id","clickable",3,"click"],[1,"td-amount"],[1,"amount-value"],[1,"td-bonuses"],["class","bonus-none",4,"ngIf"],[1,"td-method"],["badgeType","paymentMethod","size","medium",3,"paymentMethod"],[1,"td-status"],["size","medium",3,"badgeType","icon"],[1,"td-date"],[1,"date-info"],[1,"date-text"],[1,"time-text"],[1,"td-actions"],["iconButtonType","refund","size","small","tooltip","\u0412\u043E\u0437\u0432\u0440\u0430\u0442",3,"onClick","disabled"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none"],["d","M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"bonus-none"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2","stroke","currentColor","stroke-width","1.5"],[1,"mobile-payments-cards"],["class","mobile-payment-card",4,"ngFor","ngForOf"],[1,"mobile-payment-card"],[1,"mobile-payment-card-header",3,"click"],[1,"mobile-payment-card-main"],[1,"mobile-payment-id","clickable",3,"click"],[1,"mobile-payment-amount"],[1,"mobile-payment-expand"],[1,"mobile-payment-details"],[1,"mobile-payment-detail-row"],[1,"mobile-payment-detail-label"],[1,"mobile-payment-detail-value"],["class","mobile-payment-detail-row",4,"ngIf"],[1,"mobile-refund-btn",3,"click"],[1,"delete-modal-overlay",3,"click"],[1,"delete-modal",3,"click"],["class","delete-modal-content",4,"ngIf"],[1,"delete-modal-content"],[1,"delete-modal-icon","warning"],["d","M12 9v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"delete-modal-title"],[1,"delete-modal-description"],[1,"delete-modal-actions"],[1,"delete-modal-btn","cancel",3,"click"],[1,"delete-modal-btn","confirm",3,"click"],[1,"delete-modal-icon","danger"],["d","M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6h14zM10 11v6M14 11v6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"confirm-word"],["type","text","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043B\u043E\u0432\u043E \u0434\u043B\u044F \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F",1,"delete-confirm-input",3,"ngModelChange","keydown.enter","ngModel"],[1,"delete-modal-btn","delete",3,"click","disabled"]],template:function(t,a){t&1&&(n(0,"div",2)(1,"div",3),_(2,Le,2,2,"div",4)(3,Ne,1,0,"app-not-found-state",5)(4,un,260,66,"div",6),i(),n(5,"app-refund-confirmation-modal",7),f("visibleChange",function(){return a.closeRefundModal()})("confirm",function(M){return a.confirmRefund(M.refundReason||"")}),i(),n(6,"app-payment-view-modal",8),f("visibleChange",function(M){return a.showPaymentViewModal=M})("paymentUpdated",function(){return a.onPaymentUpdated()}),i(),_(7,_n,4,2,"div",9),i()),t&2&&(r(2),d("ngIf",a.isLoading),r(),d("ngIf",!a.isLoading&&a.clientNotFound),r(),d("ngIf",a.client&&!a.isLoading&&!a.clientNotFound),r(),d("visible",a.showRefundModal)("payment",a.selectedPaymentForRefund),r(),d("visible",a.showPaymentViewModal)("paymentTxId",a.selectedPaymentTxId)("paymentSearchResult",a.selectedPaymentSearchResult),r(),d("ngIf",a.showDeleteModal))},dependencies:[Q,X,J,be,me,ge,le,ce,pe,de,fe,_e,ue,we,se,Ee,ae,oe,ke,Oe,Te,Se,ve],styles:[`.page-wrapper[_ngcontent-%COMP%]{min-height:100%;margin:-2rem;padding:2rem;background:linear-gradient(180deg,#f0fdf4,#f8fafc 50% 100%)}.profile-container-wrapper[_ngcontent-%COMP%]{position:relative;min-height:400px}.profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-loading-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:60vh;width:100%}.profile-header-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;margin-bottom:1rem;position:relative}.profile-header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;padding:1.5rem 2rem}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.avatar-large[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#16a34a,#22c55e);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.5rem;font-weight:600;letter-spacing:1px}.status-indicator[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:2px;width:14px;height:14px;border-radius:50%;background:#94a3b8;border:2px solid white}.status-indicator.active[_ngcontent-%COMP%]{background:#22c55e}.profile-main-info[_ngcontent-%COMP%]{flex:1;min-width:0;position:relative}.delete-client-btn[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;background:#fef2f2;border:1px solid #fecaca;width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#dc2626;transition:all .2s ease;z-index:10}.delete-client-btn[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5;color:#b91c1c}.delete-client-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.name-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.25rem}.profile-name[_ngcontent-%COMP%]{font-size:1.35rem;font-weight:600;color:#111827;margin:0}.client-type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .6rem;background:#f0fdf4;color:#16a34a;border-radius:6px;font-size:.75rem;font-weight:500}.client-type-badge.business[_ngcontent-%COMP%]{background:#dbeafe;color:#1d4ed8}.client-type-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.profile-phone[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;margin:0 0 .75rem}.tags-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.tags-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;align-items:center}.client-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.35rem;padding:.25rem .75rem;background:#dcfce7;color:#16a34a;border-radius:20px;font-size:.8rem;font-weight:500}.remove-tag-btn[_ngcontent-%COMP%]{background:none;border:none;padding:0;cursor:pointer;color:#16a34a;display:flex;align-items:center;justify-content:center;width:14px;height:14px;border-radius:50%;transition:all .15s}.remove-tag-btn[_ngcontent-%COMP%]:hover{background:#15803d33}.remove-tag-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:10px;height:10px}.add-tag-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.add-tag-input[_ngcontent-%COMP%]{padding:.35rem .75rem;border:1.5px solid #e2e8f0;border-radius:20px;font-size:.8rem;width:110px;outline:none;background:linear-gradient(to bottom,#fff,#f8fafc);color:#374151;font-weight:500;transition:all .2s ease;box-shadow:0 1px 2px #0000000a}.add-tag-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e1}.add-tag-input[_ngcontent-%COMP%]:focus{border-color:#22c55e;background:#fff;box-shadow:0 0 0 3px #22c55e1a}.add-tag-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.add-tag-confirm-btn[_ngcontent-%COMP%]{background:#16a34a;border:none;width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#fff}.add-tag-confirm-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.edit-tags-btn[_ngcontent-%COMP%]{background:#f0fdf4;border:1px dashed #16A34A;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#16a34a;transition:all .15s}.edit-tags-btn[_ngcontent-%COMP%]:hover{background:#dcfce7}.edit-tags-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.tags-actions[_ngcontent-%COMP%]{display:flex;gap:.35rem}.save-tags-btn[_ngcontent-%COMP%], .cancel-tags-btn[_ngcontent-%COMP%]{background:none;border:none;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .15s}.save-tags-btn[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.save-tags-btn[_ngcontent-%COMP%]:hover{background:#14532d}.cancel-tags-btn[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.cancel-tags-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.save-tags-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .cancel-tags-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.tags-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:500px;margin-top:6px;background:#fff;border:1px solid #e2e8f0;border-radius:10px;box-shadow:0 4px 12px #0000001a;overflow:hidden;z-index:100;animation:_ngcontent-%COMP%_dropdownFadeIn .15s ease}@keyframes _ngcontent-%COMP%_dropdownFadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.tags-dropdown-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:6px 10px;background:#f8fafc;border-bottom:1px solid #e2e8f0;font-size:.7rem;font-weight:700;color:#64748b}.tags-dropdown-close[_ngcontent-%COMP%]{background:none;border:none;font-size:1rem;color:#94a3b8;cursor:pointer;padding:0;line-height:1;width:18px;height:18px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .15s}.tags-dropdown-close[_ngcontent-%COMP%]:hover{color:#ef4444;background:#fef2f2}.tags-dropdown-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:6px;padding:8px;max-height:80px;overflow-y:auto}.tag-option[_ngcontent-%COMP%]{padding:.25rem .6rem;background:#dcfce7;border:1px solid #bbf7d0;color:#16a34a;border-radius:16px;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .15s ease}.tag-option[_ngcontent-%COMP%]:hover{background:#bbf7d0;border-color:#22c55e}.tags-row[_ngcontent-%COMP%]{position:relative}.comment-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;margin-bottom:1.5rem;padding:1.25rem 1.5rem}.comment-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.75rem}.comment-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem;font-weight:600;color:#374151}.comment-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px;color:#16a34a}.edit-comment-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.4rem;cursor:pointer;color:#6b7280;border-radius:6px;transition:all .15s}.edit-comment-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#16a34a}.edit-comment-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.comment-actions[_ngcontent-%COMP%], .card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.save-btn[_ngcontent-%COMP%], .cancel-btn[_ngcontent-%COMP%]{padding:.4rem .75rem;border-radius:6px;font-size:.8rem;font-weight:500;cursor:pointer;border:none}.save-btn[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.save-btn[_ngcontent-%COMP%]:hover{background:#14532d}.cancel-btn[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.cancel-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.comment-text[_ngcontent-%COMP%]{font-size:.9rem;color:#4b5563;margin:0;line-height:1.5}.comment-textarea[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:1.5px solid #e2e8f0;border-radius:12px;font-size:.9rem;font-family:inherit;resize:vertical;min-height:80px;background:linear-gradient(to bottom,#fff,#f8fafc);color:#374151;line-height:1.6;transition:all .2s ease;box-shadow:0 1px 2px #0000000a}.comment-textarea[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;background:linear-gradient(to bottom,#fff,#f1f5f9)}.comment-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#22c55e;background:#fff;box-shadow:0 0 0 4px #22c55e1f,0 2px 4px #0000000d}.comment-textarea[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.5rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.25rem;display:flex;align-items:center;gap:1rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center}.stat-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.stat-icon.transactions[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#16a34a}.stat-icon.total-sum[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1d4ed8}.stat-icon.bonuses-earned[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#d97706}.stat-icon.bonuses-used[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fce7f3,#fbcfe8);color:#db2777}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1f2937}.stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.bonuses-details-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;margin-bottom:1rem;overflow:hidden}.bonuses-details-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;transition:background .2s ease;padding:1.5rem;margin-bottom:0;border-bottom:none}.bonuses-details-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]:hover{background:#f8fafc}.card-title-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;flex:1}.bonuses-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;flex-wrap:wrap}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.stat-label[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b;font-weight:500}.stat-value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:700}.collapse-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;cursor:pointer;color:#64748b;border-radius:8px;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.collapse-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1f2937}.collapse-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px;transition:transform .2s ease}.collapse-btn.collapsed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(-90deg)}.bonuses-content[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem}.bonuses-content[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.bonuses-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.bonuses-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8fafc}.bonuses-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.875rem 1rem;text-align:left;font-size:.75rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;border-bottom:1px solid #e5e7eb}.bonuses-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.875rem 1rem;border-bottom:1px solid #f1f5f9}.bonuses-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child, .bonuses-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:80px;text-align:center}.bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .15s}.bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8fafc}.bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.expired[_ngcontent-%COMP%], .bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.expired[_ngcontent-%COMP%]:hover, .bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.expiring-soon[_ngcontent-%COMP%], .bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.expiring-soon[_ngcontent-%COMP%]:hover{background:transparent}.bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.used[_ngcontent-%COMP%]{background:transparent;opacity:1}.bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.refund[_ngcontent-%COMP%], .bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.refund[_ngcontent-%COMP%]:hover{background:transparent}.bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.bonus-details-row[_ngcontent-%COMP%]{background:transparent}.bonuses-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.bonus-details-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:none;padding:0}.bonus-details-cell[_ngcontent-%COMP%]{padding:0!important;background:transparent}.bonus-details-content[_ngcontent-%COMP%]{padding:1rem 1.5rem;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:300px}}.bonus-details-grid[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem}.refund-reason-section[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem;text-align:left}.bonus-initiated-by-section[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;flex-direction:column;gap:.5rem;text-align:right;min-width:200px}.refund-reason-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#475569}.refund-reason-text[_ngcontent-%COMP%]{padding:.75rem;background:transparent;border:none;border-radius:0;font-size:.875rem;color:#1f2937;line-height:1.6;white-space:pre-wrap;text-align:left}.refund-reason-empty[_ngcontent-%COMP%]{padding:.75rem;background:transparent;border:none;border-radius:0;font-size:.875rem;color:#94a3b8;font-style:italic;text-align:left}.bonus-initiated-by-link[_ngcontent-%COMP%]{display:inline-block;padding:.75rem 0;background:transparent;border:none;border-radius:0;font-size:.875rem;color:#1f2937;line-height:1.6;white-space:pre-wrap;text-align:right;text-decoration:none;cursor:pointer;transition:color .2s ease}.bonus-initiated-by-link[_ngcontent-%COMP%]:hover{color:#16a34a}.bonus-initiated-by-text[_ngcontent-%COMP%]{padding:.75rem 0;background:transparent;border:none;border-radius:0;font-size:.875rem;color:#1f2937;line-height:1.6;white-space:pre-wrap;text-align:right}.bonus-initiated-by-empty[_ngcontent-%COMP%]{padding:.75rem 0;background:transparent;border:none;border-radius:0;font-size:.875rem;color:#94a3b8;font-style:italic;text-align:right}.actions-cell[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .3s ease}.actions-cell[_ngcontent-%COMP%]   svg.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.bonus-type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;font-size:.875rem;font-weight:600;color:#1f2937}.bonus-type-badge.bonus-type-welcome[_ngcontent-%COMP%]{// color: #1e40af;color:#1f2937}.bonus-type-badge.bonus-type-referral[_ngcontent-%COMP%]{// color: #92400e;color:#1f2937}.bonus-type-badge.bonus-type-purchase[_ngcontent-%COMP%]{// color: #15803d;color:#1f2937}.bonus-type-badge.bonus-type-promotion[_ngcontent-%COMP%]{// color: #be185d;color:#1f2937}.bonus-type-badge.bonus-type-loyalty[_ngcontent-%COMP%]{// color: #3730a3;color:#1f2937}.bonus-type-badge.bonus-type-refund[_ngcontent-%COMP%]{// color: #dc2626;color:#1f2937}.bonus-amount[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#fbbf24;display:flex;align-items:center;gap:.5rem}.bonus-amount.expired-amount[_ngcontent-%COMP%]{color:#94a3b8;text-decoration:line-through}.bonus-date[_ngcontent-%COMP%], .bonus-expiry-date[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:500}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:1rem}.details-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.25rem;padding-bottom:1rem;border-bottom:1px solid #f1f5f9}.card-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.card-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,#dcfce7,#bbf7d0);display:flex;align-items:center;justify-content:center;color:#16a34a}.card-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.card-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1f2937;margin:0}.card-edit-btn[_ngcontent-%COMP%]{background:none;border:none;padding:.5rem;cursor:pointer;color:#6b7280;border-radius:8px;transition:all .15s}.card-edit-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#16a34a}.card-edit-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.875rem}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.info-label[_ngcontent-%COMP%]{font-size:.9rem;color:#64748b}.info-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:500;color:#1f2937}.info-value.email[_ngcontent-%COMP%]{color:#16a34a}.info-input[_ngcontent-%COMP%]{padding:.625rem 1rem;border:1.5px solid #e2e8f0;border-radius:10px;font-size:.9rem;font-family:inherit;text-align:right;width:200px;background:linear-gradient(to bottom,#fff,#f8fafc);color:#1f2937;font-weight:500;transition:all .2s ease;box-shadow:0 1px 2px #0000000a}.info-input[_ngcontent-%COMP%]:hover{border-color:#cbd5e1;background:linear-gradient(to bottom,#fff,#f1f5f9)}.info-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#22c55e;background:#fff;box-shadow:0 0 0 4px #22c55e1f,0 2px 4px #0000000d}.info-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8;font-weight:400}.info-input[_ngcontent-%COMP%]:disabled{background:#f1f5f9;color:#94a3b8;cursor:not-allowed;opacity:.6}.info-input[_ngcontent-%COMP%]:disabled:hover{border-color:#e2e8f0;background:#f1f5f9}.info-select[_ngcontent-%COMP%]{padding:.625rem 2.5rem .625rem 1rem;border:1.5px solid #e2e8f0;border-radius:10px;font-size:.9rem;font-family:inherit;width:200px;background:linear-gradient(to bottom,#fff,#f8fafc);color:#1f2937;font-weight:500;transition:all .2s ease;box-shadow:0 1px 2px #0000000a;cursor:pointer;appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2315803d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px}.info-select[_ngcontent-%COMP%]:hover{border-color:#22c55e;background-color:#f0fdf4;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2315803d' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E")}.info-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#22c55e;background-color:#fff;box-shadow:0 0 0 4px #22c55e1f,0 2px 4px #0000000d}.info-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.75rem 1rem;background:#fff;color:#1f2937;font-weight:500}.info-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover, .info-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked{background:linear-gradient(to right,#f0fdf4,#dcfce7);color:#16a34a}.bonus-management-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.bonus-management-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid #f1f5f9}.bonus-management-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;font-size:1.1rem;font-weight:600;color:#1f2937}.bonus-management-title[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;color:#16a34a}.bonus-balance-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:linear-gradient(135deg,#f0fdf4,#dcfce7);border-radius:10px}.balance-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.balance-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#16a34a}.bonus-actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.bonus-action-card[_ngcontent-%COMP%]{background:#fafafa;border-radius:12px;padding:1.25rem;border:1px solid #e5e7eb;transition:all .2s ease}.bonus-action-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000014}.bonus-action-card.grant[_ngcontent-%COMP%]{border-color:#bbf7d0;background:linear-gradient(180deg,#f0fdf4,#fafafa)}.bonus-action-card.revoke[_ngcontent-%COMP%]{border-color:#fed7aa;background:linear-gradient(180deg,#fff7ed,#fafafa)}.action-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1.25rem}.action-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.action-icon.grant[_ngcontent-%COMP%]{background:#dcfce7;color:#16a34a}.action-icon.revoke[_ngcontent-%COMP%]{background:#fed7aa;color:#ea580c}.action-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.action-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .25rem;font-size:1rem;font-weight:600;color:#1f2937}.action-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:#64748b}.action-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.375rem}.form-field.amount-field[_ngcontent-%COMP%]{flex:1}.form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.025em}.max-hint[_ngcontent-%COMP%]{font-weight:400;text-transform:none;color:#94a3b8}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.amount-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 1rem;border:1px solid #e2e8f0;border-radius:10px;font-size:1.125rem;font-weight:600;background:#fff;transition:all .2s}.amount-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#16a34a;box-shadow:0 0 0 3px #16a34a1a}.currency[_ngcontent-%COMP%]{position:absolute;right:1rem;color:#94a3b8;font-weight:500}.reason-input[_ngcontent-%COMP%]{width:100%;padding:.625rem 1rem;border:1px solid #e2e8f0;border-radius:10px;font-size:.875rem;background:#fff;transition:all .2s}.reason-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#16a34a;box-shadow:0 0 0 3px #16a34a1a}.reason-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.75rem 1.25rem;border:none;border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s;margin-top:.5rem}.action-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.action-btn.grant-btn[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.action-btn.grant-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#14532d}.action-btn.revoke-btn[_ngcontent-%COMP%]{background:#ea580c;color:#fff}.action-btn.revoke-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#c2410c}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.action-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.bonus-management-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.bonus-actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.bonus-balance-display[_ngcontent-%COMP%]{width:100%;justify-content:space-between}}.payments-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:1.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.payments-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.payments-count[_ngcontent-%COMP%]{font-size:.85rem;color:#64748b;font-weight:500}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.payments-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.payments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.875rem 1rem;text-align:left;font-size:.75rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.5px;background:#f8fafc;border-bottom:1px solid #e5e7eb}.payments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.875rem 1rem;border-bottom:1px solid #f1f5f9}.payment-row[_ngcontent-%COMP%]{transition:background .15s}.payment-row[_ngcontent-%COMP%]:hover{background:#f8fafc}.payment-row[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.td-id[_ngcontent-%COMP%]{min-width:100px}.payment-id[_ngcontent-%COMP%]{font-family:monospace;font-weight:600;color:#64748b;font-size:.875rem}.payment-id.clickable[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;transition:color .15s ease}.payment-id.clickable[_ngcontent-%COMP%]:hover{color:#475569}.td-client[_ngcontent-%COMP%]{min-width:200px}.client-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.client-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,#f0fdf4,#dcfce7);display:flex;align-items:center;justify-content:center;font-weight:600;color:#16a34a;font-size:.875rem;flex-shrink:0}.client-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.client-name-link[_ngcontent-%COMP%]{text-decoration:none;color:#1f2937;font-weight:600;font-size:.9375rem;transition:color .2s;cursor:pointer;display:inline-block}.client-name-link[_ngcontent-%COMP%]:hover{color:#16a34a}.client-phone[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b}.amount-value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#16a34a}.bonus-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.bonus-badge[_ngcontent-%COMP%]{display:inline-block}.bonus-none[_ngcontent-%COMP%]{font-size:.8rem;color:#94a3b8}.date-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.15rem}.date-text[_ngcontent-%COMP%]{font-size:.85rem;color:#1f2937;font-weight:500}.time-text[_ngcontent-%COMP%]{font-size:.75rem;color:#64748b}.th-actions[_ngcontent-%COMP%], .td-actions[_ngcontent-%COMP%]{width:60px;text-align:center}.actions-cell[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 2rem;color:#94a3b8}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem}@media (max-width: 1200px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.page-wrapper[_ngcontent-%COMP%]{margin:-1rem;padding:1rem}.profile-header-card[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:1rem}.profile-header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:1.5rem 1rem;position:relative}.avatar-wrapper[_ngcontent-%COMP%]{margin-bottom:.5rem}.avatar-large[_ngcontent-%COMP%]{width:80px;height:80px;font-size:1.5rem}.profile-main-info[_ngcontent-%COMP%]{width:100%;padding-right:0;padding-top:.5rem}.delete-client-btn[_ngcontent-%COMP%]{top:1rem;right:1rem}.name-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.5rem;padding-right:0;margin-top:.5rem}.profile-name[_ngcontent-%COMP%]{font-size:1.25rem;word-break:break-word;padding-right:0}.profile-phone[_ngcontent-%COMP%]{font-size:.9rem;margin:.5rem 0}.tags-row[_ngcontent-%COMP%]{flex-direction:column;align-items:center;gap:.75rem}.tags-container[_ngcontent-%COMP%]{justify-content:center;width:100%}.comment-card[_ngcontent-%COMP%], .details-card[_ngcontent-%COMP%]{border-radius:12px;padding:1.25rem 1rem}.card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.125rem}.info-list[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem;padding:.75rem 0}.info-label[_ngcontent-%COMP%]{min-width:auto;font-size:.875rem}.info-value[_ngcontent-%COMP%]{font-size:.875rem}.stats-grid[_ngcontent-%COMP%], .details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.bonuses-table[_ngcontent-%COMP%], .payments-table[_ngcontent-%COMP%]{display:none}.mobile-bonuses-cards[_ngcontent-%COMP%], .mobile-payments-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}}@media (min-width: 769px){.mobile-bonuses-cards[_ngcontent-%COMP%], .mobile-payments-cards[_ngcontent-%COMP%]{display:none}}.mobile-bonuses-cards[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:.75rem;width:100%}.mobile-bonus-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:1rem;box-shadow:0 1px 2px #0000000d;width:100%}.mobile-bonus-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer}.mobile-bonus-card-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.mobile-bonus-type[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937}.mobile-bonus-amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#d97706}.mobile-bonus-expand[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;color:#64748b;transition:transform .2s}.mobile-bonus-expand.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.mobile-bonus-details[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #e5e7eb;display:none}.mobile-bonus-details.expanded[_ngcontent-%COMP%]{display:block}.mobile-bonus-detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem;font-size:.875rem}.mobile-bonus-detail-label[_ngcontent-%COMP%]{color:#64748b}.mobile-bonus-detail-value[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.mobile-payment-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:1rem;box-shadow:0 1px 2px #0000000d}.mobile-payment-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer}.mobile-payment-card-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.mobile-payment-id[_ngcontent-%COMP%]{font-family:monospace;font-size:.875rem;font-weight:600;color:#64748b}.mobile-payment-amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#16a34a}.mobile-payment-expand[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;color:#64748b;transition:transform .2s}.mobile-payment-expand.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.mobile-payment-details[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #e5e7eb;display:none}.mobile-payment-details.expanded[_ngcontent-%COMP%]{display:block}.mobile-payment-detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem;font-size:.875rem}.mobile-payment-detail-label[_ngcontent-%COMP%]{color:#64748b}.mobile-payment-detail-value[_ngcontent-%COMP%]{color:#1f2937;font-weight:500}.mobile-refund-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;background:#fef2f2;border:1px solid #fecaca;border-radius:8px;color:#dc2626;font-weight:600;font-size:.875rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:.5rem;transition:all .2s}.mobile-refund-btn[_ngcontent-%COMP%]:hover{background:#fee2e2;border-color:#fca5a5}.mobile-refund-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.delete-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.delete-modal[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0003;max-width:420px;width:90%;animation:_ngcontent-%COMP%_slideUp .3s ease}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.delete-modal-content[_ngcontent-%COMP%]{padding:2rem;display:flex;flex-direction:column;align-items:center;text-align:center}.delete-modal-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:1.25rem}.delete-modal-icon.warning[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.delete-modal-icon.danger[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.delete-modal-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:32px;height:32px}.delete-modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0 0 .75rem}.delete-modal-description[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;line-height:1.6;margin:0 0 1.5rem}.delete-modal-description[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1f2937}.confirm-word[_ngcontent-%COMP%]{color:#dc2626;background:#fee2e2;padding:.125rem .5rem;border-radius:4px;font-family:monospace;font-size:.95rem}.delete-confirm-input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e5e7eb;border-radius:10px;font-size:1rem;font-family:inherit;text-align:center;margin-bottom:1.5rem;transition:all .2s ease}.delete-confirm-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#dc2626;box-shadow:0 0 0 3px #dc26261a}.delete-confirm-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.delete-modal-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;width:100%}.delete-modal-btn[_ngcontent-%COMP%]{flex:1;padding:.875rem 1.5rem;border-radius:10px;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s ease;border:none}.delete-modal-btn.cancel[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.delete-modal-btn.cancel[_ngcontent-%COMP%]:hover{background:#e5e7eb;color:#374151}.delete-modal-btn.confirm[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.delete-modal-btn.confirm[_ngcontent-%COMP%]:hover{background:#fde68a;color:#b45309}.delete-modal-btn.delete[_ngcontent-%COMP%]{background:#dc2626;color:#fff}.delete-modal-btn.delete[_ngcontent-%COMP%]:hover:not(:disabled){background:#b91c1c}.delete-modal-btn.delete[_ngcontent-%COMP%]:disabled{background:#fca5a5;cursor:not-allowed}`]})}return o})();export{Kn as ProfilePageComponent};
