import{a as c}from"./chunk-3B24VZJ2.js";import{P as r,S as s,d as i,e as l,rb as n,sb as a}from"./chunk-3MIZCW4Q.js";var f=(()=>{class o{visibleSource=new l(!1);visible$=this.visibleSource.asObservable();transactionCompleteSource=new i;transactionComplete$=this.transactionCompleteSource.asObservable();open(){this.visibleSource.next(!0)}close(){this.visibleSource.next(!1)}toggle(){this.visibleSource.next(!this.visibleSource.value)}emitTransactionComplete(t){this.transactionCompleteSource.next(t)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=r({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var S=(()=>{class o{http;apiUrl=`${c.apiUrl}/payments`;constructor(t){this.http=t}searchPayments(t){return this.http.post(`${this.apiUrl}/search`,t)}refundPayment(t,e){return this.http.post(`${this.apiUrl}/${t}/refund`,e)}getClientPayments(t,e=0,p=100){let h=new n().set("page",e.toString()).set("size",p.toString());return this.http.get(`${this.apiUrl}/client/${t}`,{params:h})}createDraftPayment(t){return console.log("=== CREATE DRAFT PAYMENT REQUEST ==="),console.log("URL:",`${this.apiUrl}/draft`),console.log("Method: POST"),console.log("Full Request Payload:",JSON.stringify(t,null,2)),console.log("Request Payload (object):",t),console.log("===================================="),this.http.post(`${this.apiUrl}/draft`,t)}completePayment(t,e){return console.log("=== COMPLETE PAYMENT REQUEST ==="),console.log("URL:",`${this.apiUrl}/${t}/complete`),console.log("Method: POST"),console.log("Payment TX ID:",t),console.log("Full Request Payload:",JSON.stringify(e,null,2)),console.log("Request Payload (object):",e),console.log("================================"),this.http.post(`${this.apiUrl}/${t}/complete`,e)}deleteDraftPayment(t){return console.log("=== DELETE DRAFT PAYMENT REQUEST ==="),console.log("URL:",`${this.apiUrl}/draft/${t}`),console.log("Method: DELETE"),console.log("Payment TX ID:",t),console.log("====================================="),this.http.delete(`${this.apiUrl}/draft/${t}`)}getPaymentByTxId(t){return this.http.get(`${this.apiUrl}/${t}`)}updatePaymentMethod(t,e){return this.http.put(`${this.apiUrl}/${t}/payment-method`,e)}static \u0275fac=function(e){return new(e||o)(s(a))};static \u0275prov=r({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{f as a,S as b};
