import{a as L}from"./chunk-QA7ABRFW.js";import{b as N,e as R,g as j,u as F}from"./chunk-OGICRJHM.js";import{$ as g,Aa as p,Ca as e,Da as t,Ea as c,Fa as k,Ga as M,Gb as D,Hb as H,Ia as S,Ja as m,Ka as f,Sa as o,T as C,Ta as h,Ua as y,Wa as O,Xa as E,Ya as T,Z as _,Za as B,_ as b,aa as x,ma as i,mb as A,nb as V,ob as I,pa as w,pb as z,ua as P,ub as G,ya as l}from"./chunk-SDVY3Z22.js";function W(a,u){a&1&&(g(),e(0,"svg",42),c(1,"path",43)(2,"rect",44)(3,"path",45)(4,"path",46)(5,"path",47),t())}function q(a,u){a&1&&(g(),e(0,"svg",42),c(1,"circle",48)(2,"circle",49)(3,"circle",50)(4,"path",51),t())}function $(a,u){a&1&&(g(),e(0,"svg",42),c(1,"path",52)(2,"path",53)(3,"path",54)(4,"circle",55)(5,"circle",56)(6,"circle",57),t())}function J(a,u){a&1&&(g(),e(0,"svg",42),c(1,"circle",58)(2,"circle",59)(3,"path",60),t())}function K(a,u){a&1&&(g(),e(0,"svg",42),c(1,"circle",61)(2,"path",62),t())}function Q(a,u){if(a&1&&(e(0,"span",63),o(1),t()),a&2){let r=f().$implicit;i(),h(r.statusDetail)}}function U(a,u){if(a&1){let r=S();e(0,"tr",29),m("click",function(){let n=_(r).$implicit,d=f();return b(d.goToProgram(n))}),e(1,"td")(2,"div",16)(3,"label",30),m("click",function(n){return _(r),b(n.stopPropagation())}),e(4,"input",31),m("change",function(){let n=_(r).$implicit,d=f();return b(d.toggleSelect(n.id))}),t(),c(5,"span",19),t(),e(6,"div",32),k(7,33),P(8,W,6,0,"svg",34)(9,q,5,0,"svg",34)(10,$,7,0,"svg",34)(11,J,4,0,"svg",34)(12,K,3,0,"svg",34),M(),t(),e(13,"div",35)(14,"span",36),o(15),t(),e(16,"span",37),o(17),t()()()(),e(18,"td"),o(19),t(),e(20,"td"),o(21),t(),e(22,"td"),P(23,Q,2,1,"span",38),e(24,"span",39),o(25),t()(),e(26,"td",40),g(),e(27,"svg",41),c(28,"path",28),t()()()}if(a&2){let r=u.$implicit,s=f();i(4),l("checked",s.selectedIds.has(r.id)),i(2),p("grey",r.status!=="Active"),i(),l("ngSwitch",r.icon),i(),l("ngSwitchCase","gift"),i(),l("ngSwitchCase","referral"),i(),l("ngSwitchCase","cake"),i(),l("ngSwitchCase","percent"),i(),l("ngSwitchCase","clock"),i(3),h(r.name),i(2),y("Type: ",r.type,""),i(2),h(r.reward),i(2),h(r.customers),i(2),l("ngIf",r.statusDetail),i(),p("active",r.status==="Active")("scheduled",r.status==="Scheduled"),i(),h(r.status)}}var oe=(()=>{class a{pageHeaderService=C(L);router=C(D);activeTab="All";selectAll=!1;selectedIds=new Set;currentPage=1;pageSize=10;Math=Math;programs=[{id:"1",name:"Welcome Bonus",type:"Acquisition",reward:"Acquisition",customers:"3000 bonus, 45% of new customers",status:"Active",icon:"gift"},{id:"2",name:"Referral Program",type:"Growth",reward:"Growth",customers:"500 bonus, 12% of customers",status:"Active",icon:"referral"},{id:"3",name:"Birthday Reward",type:"Event",reward:"Event",customers:"1500 bonus, 57% of active customers",status:"Active",icon:"cake"},{id:"4",name:"Weekend Cashback",type:"Cashback",reward:"5% cashback",customers:"5% cashback",status:"Scheduled",statusDetail:"Starts tomorrow",icon:"percent"},{id:"5",name:"Weekend Cashback",type:"Cashback",reward:"5% Cashback",customers:"",status:"Scheduled",icon:"clock"}];get filteredPrograms(){return this.activeTab==="All"?this.programs:this.programs.filter(r=>r.status===this.activeTab)}ngOnInit(){this.pageHeaderService.setPageHeader("Reward Programs",[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",route:"/home"},{label:"Reward Programs"}])}toggleSelectAll(){this.selectAll?this.filteredPrograms.forEach(r=>this.selectedIds.add(r.id)):this.filteredPrograms.forEach(r=>this.selectedIds.delete(r.id))}toggleSelect(r){this.selectedIds.has(r)?this.selectedIds.delete(r):this.selectedIds.add(r),this.selectAll=this.filteredPrograms.length>0&&this.filteredPrograms.every(s=>this.selectedIds.has(s.id))}goToProgram(r){}static \u0275fac=function(s){return new(s||a)};static \u0275cmp=w({type:a,selectors:[["app-bonus-program-page"]],decls:58,vars:18,consts:[[1,"page-wrapper"],[1,"programs-container"],[1,"header-actions-row"],["routerLink","/bonus-program/programs",1,"btn-create-program"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"btn-icon"],["d","M12 5v14M5 12h14"],[1,"tabs-row"],[1,"tabs"],["type","button",1,"tab",3,"click"],[1,"tab-count"],[1,"table-wrap"],[1,"programs-table"],[2,"width","40%"],[2,"width","15%"],[2,"width","25%"],[2,"width","5%"],[1,"cell-flex"],[1,"checkbox-wrap"],["type","checkbox",3,"ngModelChange","change","ngModel"],[1,"checkmark"],[1,"sort-indicator"],["class","program-row",3,"click",4,"ngFor","ngForOf"],[1,"pagination"],["type","button","aria-label","Previous",1,"page-btn",3,"disabled"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M15 18l-6-6 6-6"],[1,"page-info"],["type","button","aria-label","Next",1,"page-btn",3,"disabled"],["d","M9 18l6-6-6-6"],[1,"program-row",3,"click"],[1,"checkbox-wrap",3,"click"],["type","checkbox",3,"change","checked"],[1,"program-icon"],[3,"ngSwitch"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5",4,"ngSwitchCase"],[1,"program-info"],[1,"program-name"],[1,"program-type"],["class","status-detail",4,"ngIf"],[1,"status-pill"],[1,"td-action"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"row-arrow"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","1.5"],["d","M20 12v9H4v-9"],["x","2","y","7","width","20","height","5","rx","1"],["d","M12 22V7"],["d","M12 7c-2-2-4-2.5-4-4.5a2 2 0 0 1 4 0c0 1.5-2 2-4 4.5"],["d","M12 7c2-2 4-2.5 4-4.5a2 2 0 0 0-4 0c0 1.5 2 2 4 4.5"],["cx","18","cy","5","r","2.5"],["cx","6","cy","12","r","2.5"],["cx","18","cy","19","r","2.5"],["d","M8.5 13.5l7 4M15.5 6.5l-7 4"],["d","M20 21H4a1 1 0 0 1-1-1v-6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v6a1 1 0 0 1-1 1z"],["d","M3 16h18"],["d","M12 12V9m-4 3V10m8 2V10"],["cx","8","cy","6","r","1"],["cx","12","cy","6","r","1"],["cx","16","cy","6","r","1"],["cx","9","cy","9","r","2"],["cx","15","cy","15","r","2"],["d","M5 19L19 5"],["cx","12","cy","12","r","10"],["d","M12 6v6l4 2"],[1,"status-detail"]],template:function(s,n){s&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),g(),e(4,"svg",4),c(5,"path",5),t(),o(6," Create program "),t()(),x(),e(7,"div",6)(8,"div",7)(9,"button",8),m("click",function(){return n.activeTab="All"}),o(10,"All"),t(),e(11,"button",8),m("click",function(){return n.activeTab="Active"}),o(12,"Active"),t(),e(13,"button",8),m("click",function(){return n.activeTab="Draft"}),o(14,"Draft"),t(),e(15,"button",8),m("click",function(){return n.activeTab="Scheduled"}),o(16,"Scheduled"),t(),e(17,"button",8),m("click",function(){return n.activeTab="Archived"}),o(18,"Archived"),t()(),e(19,"span",9),o(20),t()(),e(21,"div",10)(22,"table",11)(23,"colgroup"),c(24,"col",12)(25,"col",13)(26,"col",14)(27,"col",13)(28,"col",15),t(),e(29,"thead")(30,"tr")(31,"th")(32,"div",16)(33,"label",17)(34,"input",18),B("ngModelChange",function(v){return T(n.selectAll,v)||(n.selectAll=v),v}),m("change",function(){return n.toggleSelectAll()}),t(),c(35,"span",19),t(),e(36,"span"),o(37,"Campaign"),t()()(),e(38,"th"),o(39,"Reward"),t(),e(40,"th"),o(41,"Customers"),t(),e(42,"th"),o(43,"Status "),e(44,"span",20),o(45,"\u25BE"),t()(),c(46,"th"),t()(),e(47,"tbody"),P(48,U,29,19,"tr",21),t()()(),e(49,"div",22)(50,"button",23),g(),e(51,"svg",24),c(52,"path",25),t()(),x(),e(53,"span",26),o(54),t(),e(55,"button",27),g(),e(56,"svg",24),c(57,"path",28),t()()()()()),s&2&&(i(9),p("active",n.activeTab==="All"),i(2),p("active",n.activeTab==="Active"),i(2),p("active",n.activeTab==="Draft"),i(2),p("active",n.activeTab==="Scheduled"),i(2),p("active",n.activeTab==="Archived"),i(3),h(n.filteredPrograms.length),i(14),E("ngModel",n.selectAll),i(14),l("ngForOf",n.filteredPrograms),i(2),l("disabled",n.currentPage<=1),i(4),O("",(n.currentPage-1)*n.pageSize+1,"-",n.Math.min(n.currentPage*n.pageSize,n.filteredPrograms.length)," of ",n.filteredPrograms.length,""),i(),l("disabled",n.currentPage*n.pageSize>=n.filteredPrograms.length))},dependencies:[G,A,V,I,z,F,N,R,j,H],styles:['[_nghost-%COMP%]{display:block;height:100%}.page-wrapper[_ngcontent-%COMP%]{min-height:100%;margin:-2rem;padding:2rem;background:#f8fafc}.programs-container[_ngcontent-%COMP%]{max-width:100%;margin:0 auto}.header-actions-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;margin-bottom:1rem}.btn-create-program[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#16a34a;color:#fff;border-radius:8px;font-size:.9rem;font-weight:600;text-decoration:none;transition:background .2s}.btn-create-program[_ngcontent-%COMP%]:hover{background:#15803d;color:#fff}.btn-icon[_ngcontent-%COMP%]{width:18px;height:18px}.tabs-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;gap:1rem;flex-wrap:wrap}.tabs[_ngcontent-%COMP%]{display:flex;gap:0;background:#f1f5f9;border-radius:8px;padding:2px}.tab[_ngcontent-%COMP%]{padding:.4rem 1rem;border:none;background:transparent;border-radius:6px;font-size:.875rem;font-weight:500;color:#64748b;cursor:pointer;transition:all .2s}.tab[_ngcontent-%COMP%]:hover{color:#475569}.tab.active[_ngcontent-%COMP%]{background:#16a34a;color:#fff}.tab-count[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}.table-wrap[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #e2e8f0;overflow:hidden;box-shadow:0 1px 3px #0000000f}.programs-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed}.programs-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .programs-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:.75rem 1rem;vertical-align:middle}.programs-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.05em;background:#f8fafc;border-bottom:1px solid #e2e8f0}.programs-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.875rem 1rem;border-bottom:1px solid #f1f5f9;font-size:.9rem;color:#475569}.program-row[_ngcontent-%COMP%]{cursor:pointer;transition:background .15s}.program-row[_ngcontent-%COMP%]:hover{background:#f8fafc}.program-row[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.cell-flex[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;min-width:0}.checkbox-wrap[_ngcontent-%COMP%]{display:inline-flex;align-items:center;cursor:pointer;flex-shrink:0}.checkbox-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;width:18px;height:18px;cursor:pointer}.checkmark[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid #cbd5e1;border-radius:4px;flex-shrink:0}.checkbox-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:#16a34a;border-color:#16a34a}.checkbox-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{content:"";display:block;width:5px;height:10px;border:solid white;border-width:0 2px 2px 0;margin:2px 0 0 5px;transform:rotate(45deg)}.program-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background:#dcfce7;color:#16a34a;display:flex;align-items:center;justify-content:center;flex-shrink:0}.program-icon.grey[_ngcontent-%COMP%]{background:#f1f5f9;color:#94a3b8}.program-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:22px;height:22px}.program-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.15rem;min-width:0;overflow:hidden}.program-name[_ngcontent-%COMP%]{font-weight:600;color:#0f172a;font-size:.95rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.program-type[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.status-detail[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:#64748b;margin-bottom:.15rem}.status-pill[_ngcontent-%COMP%]{display:inline-block;padding:.2rem .6rem;border-radius:9999px;font-size:.75rem;font-weight:600}.status-pill.active[_ngcontent-%COMP%]{background:#dcfce7;color:#16a34a}.status-pill.scheduled[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.status-pill[_ngcontent-%COMP%]:not(.active):not(.scheduled){background:#f1f5f9;color:#64748b}.sort-indicator[_ngcontent-%COMP%]{margin-left:.25rem;opacity:.6;font-size:.65rem}.td-action[_ngcontent-%COMP%]{text-align:right!important}.row-arrow[_ngcontent-%COMP%]{width:20px;height:20px;color:#94a3b8}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;margin-top:1.25rem}.page-btn[_ngcontent-%COMP%]{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:1px solid #e2e8f0;border-radius:8px;background:#fff;color:#475569;cursor:pointer}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f8fafc;border-color:#16a34a;color:#16a34a}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.page-info[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b}']})}return a})();export{oe as BonusProgramPageComponent};
