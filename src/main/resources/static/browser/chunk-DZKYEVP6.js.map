{
  "version": 3,
  "sources": ["src/app/core/services/bonus-types.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../environments/environment';\nimport {\n  BonusType,\n  CreateBonusTypeRequest,\n  UpdateBonusTypeRequest,\n  BonusTypeResponse,\n  PreconfiguredBonusType\n} from '../models/bonus-type.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BonusTypesService {\n  private readonly apiUrl = `${environment.apiUrl}/bonus-types`;\n\n  constructor(private http: HttpClient) {}\n\n  // Get all bonus types\n  getAllBonusTypes(): Observable<BonusTypeResponse[]> {\n    return this.http.get<BonusTypeResponse[]>(this.apiUrl);\n  }\n\n  // Get active bonus types only\n  getActiveBonusTypes(): Observable<BonusTypeResponse[]> {\n    return this.http.get<BonusTypeResponse[]>(`${this.apiUrl}/active`);\n  }\n\n  // Get bonus type by ID\n  getBonusTypeById(id: number): Observable<BonusTypeResponse> {\n    return this.http.get<BonusTypeResponse>(`${this.apiUrl}/${id}`);\n  }\n\n  // Create bonus type\n  createBonusType(data: CreateBonusTypeRequest): Observable<BonusTypeResponse> {\n    return this.http.post<BonusTypeResponse>(this.apiUrl, data);\n  }\n\n  // Update bonus type\n  updateBonusType(id: number, data: UpdateBonusTypeRequest): Observable<BonusTypeResponse> {\n    return this.http.put<BonusTypeResponse>(`${this.apiUrl}/${id}`, data);\n  }\n\n  // Toggle bonus type enabled/disabled\n  toggleBonusType(id: number, enabled: boolean): Observable<BonusTypeResponse> {\n    return this.http.patch<BonusTypeResponse>(`${this.apiUrl}/${id}/toggle?enabled=${enabled}`, {});\n  }\n\n  // Delete bonus type\n  deleteBonusType(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/${id}`);\n  }\n\n  // Get preconfigured bonus types\n  getPreconfiguredBonusTypes(): Observable<PreconfiguredBonusType[]> {\n    return this.http.get<PreconfiguredBonusType[]>(`${this.apiUrl}/preconfigured`);\n  }\n\n  // Get bonus types by flow (returns a single object, not an array)\n  getBonusTypesByFlow(flow: string): Observable<BonusTypeResponse> {\n    return this.http.get<BonusTypeResponse>(`${this.apiUrl}/flow/${flow}`);\n  }\n\n  /** Stats for reward program config page: active count, avg reward cost % (30 days), expiration. */\n  getRewardConfigStats(): Observable<RewardConfigStats> {\n    return this.http.get<RewardConfigStats>(`${this.apiUrl}/reward-config-stats`);\n  }\n}\n\nexport interface RewardConfigStats {\n  activeRewardsCount: number;\n  avgRewardCostPercent30Days: number | null;\n  expirationDays: number | null;\n}\n"],
  "mappings": ";;;;;;;;;;;;AAeM,IAAO,oBAAP,MAAO,mBAAiB;EAGR;EAFH,SAAS,GAAG,YAAY,MAAM;EAE/C,YAAoB,MAAgB;AAAhB,SAAA,OAAA;EAAmB;;EAGvC,mBAAgB;AACd,WAAO,KAAK,KAAK,IAAyB,KAAK,MAAM;EACvD;;EAGA,sBAAmB;AACjB,WAAO,KAAK,KAAK,IAAyB,GAAG,KAAK,MAAM,SAAS;EACnE;;EAGA,iBAAiB,IAAU;AACzB,WAAO,KAAK,KAAK,IAAuB,GAAG,KAAK,MAAM,IAAI,EAAE,EAAE;EAChE;;EAGA,gBAAgB,MAA4B;AAC1C,WAAO,KAAK,KAAK,KAAwB,KAAK,QAAQ,IAAI;EAC5D;;EAGA,gBAAgB,IAAY,MAA4B;AACtD,WAAO,KAAK,KAAK,IAAuB,GAAG,KAAK,MAAM,IAAI,EAAE,IAAI,IAAI;EACtE;;EAGA,gBAAgB,IAAY,SAAgB;AAC1C,WAAO,KAAK,KAAK,MAAyB,GAAG,KAAK,MAAM,IAAI,EAAE,mBAAmB,OAAO,IAAI,CAAA,CAAE;EAChG;;EAGA,gBAAgB,IAAU;AACxB,WAAO,KAAK,KAAK,OAAa,GAAG,KAAK,MAAM,IAAI,EAAE,EAAE;EACtD;;EAGA,6BAA0B;AACxB,WAAO,KAAK,KAAK,IAA8B,GAAG,KAAK,MAAM,gBAAgB;EAC/E;;EAGA,oBAAoB,MAAY;AAC9B,WAAO,KAAK,KAAK,IAAuB,GAAG,KAAK,MAAM,SAAS,IAAI,EAAE;EACvE;;EAGA,uBAAoB;AAClB,WAAO,KAAK,KAAK,IAAuB,GAAG,KAAK,MAAM,sBAAsB;EAC9E;;qCArDW,oBAAiB,mBAAA,UAAA,CAAA;EAAA;4EAAjB,oBAAiB,SAAjB,mBAAiB,WAAA,YAFhB,OAAM,CAAA;;;sEAEP,mBAAiB,CAAA;UAH7B;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
