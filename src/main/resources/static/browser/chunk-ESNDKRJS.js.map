{
  "version": 3,
  "sources": ["src/app/features/bonus-program/pages/create-program-wizard/steps/step-program-details.component.ts", "src/app/shared/components/switch/switch.component.ts", "src/app/shared/components/date-picker/date-picker.component.ts", "src/app/features/bonus-program/pages/create-program-wizard/steps/step-schedule.component.ts", "src/app/shared/components/number-field/number-field.component.ts", "src/app/features/bonus-program/pages/create-program-wizard/steps/step-rules.component.ts", "src/app/features/bonus-program/pages/create-program-wizard/steps/step-tiers.component.ts", "src/app/features/bonus-program/pages/create-program-wizard/steps/step-notifications.component.ts", "src/app/features/bonus-program/pages/create-program-wizard/steps/step-summary.component.ts", "src/app/features/bonus-program/pages/create-program-wizard/create-program-wizard.component.ts"],
  "sourcesContent": ["import { Component, Input } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormGroup } from '@angular/forms';\nimport { InputComponent } from '../../../../../shared/components/input/input.component';\nimport { SelectComponent, SelectOption } from '../../../../../shared/components/select/select.component';\n\n@Component({\n  selector: 'app-step-program-details',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, InputComponent, SelectComponent],\n  template: `\n    <div class=\"step-form\" [formGroup]=\"form\">\n      <div class=\"form-group\">\n        <app-input\n          id=\"programName\"\n          label=\"Program name\"\n          placeholder=\"e.g. Weekend Cashback\"\n          formControlName=\"name\"\n          [required]=\"true\"\n          [errorMessage]=\"getError('name')\"\n        ></app-input>\n      </div>\n\n      <div class=\"form-group\">\n        <label class=\"field-label\">Description</label>\n        <textarea\n          class=\"field-textarea\"\n          rows=\"3\"\n          placeholder=\"Describe this reward program for your team.\"\n          formControlName=\"description\"\n        ></textarea>\n      </div>\n\n      <div class=\"form-group\">\n        <app-select\n          id=\"cashbackType\"\n          label=\"Cashback type\"\n          placeholder=\"Select cashback type\"\n          formControlName=\"cashbackType\"\n          [options]=\"cashbackTypeOptions\"\n          [required]=\"true\"\n          [errorMessage]=\"getError('cashbackType')\"\n        ></app-select>\n        <p class=\"field-hint\" *ngIf=\"form.get('cashbackType')?.value === 'PERCENTAGE'\">\n          Customers earn a percentage of the transaction amount as bonus points.\n        </p>\n        <p class=\"field-hint\" *ngIf=\"form.get('cashbackType')?.value === 'BONUS_POINTS'\">\n          Customers earn a fixed number of bonus points per spend threshold (e.g. 1 point per 1,000 tg).\n        </p>\n      </div>\n\n      <div class=\"form-group\" *ngIf=\"form.get('cashbackType')?.value === 'PERCENTAGE'\">\n        <app-input\n          id=\"cashbackValue\"\n          label=\"Cashback rate (%)\"\n          type=\"number\"\n          placeholder=\"e.g. 5\"\n          suffix=\"%\"\n          formControlName=\"cashbackValue\"\n          [required]=\"true\"\n          [errorMessage]=\"getError('cashbackValue')\"\n        ></app-input>\n      </div>\n\n      <div class=\"form-row\" *ngIf=\"form.get('cashbackType')?.value === 'BONUS_POINTS'\">\n        <div class=\"form-group flex-1\">\n          <app-input\n            id=\"cashbackValue\"\n            label=\"Points earned\"\n            type=\"number\"\n            placeholder=\"e.g. 1\"\n            formControlName=\"cashbackValue\"\n            [required]=\"true\"\n            hint=\"Points awarded per threshold\"\n            [errorMessage]=\"getError('cashbackValue')\"\n          ></app-input>\n        </div>\n        <div class=\"form-group flex-1\">\n          <app-input\n            id=\"pointsSpendThreshold\"\n            label=\"Per spend amount\"\n            type=\"number\"\n            placeholder=\"e.g. 1000\"\n            formControlName=\"pointsSpendThreshold\"\n            [required]=\"true\"\n            hint=\"Spend amount required to earn above points\"\n            [errorMessage]=\"getError('pointsSpendThreshold')\"\n          ></app-input>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .step-form { display: flex; flex-direction: column; gap: 1.25rem; }\n    .step-form > .form-group { margin: 0; }\n    .form-group { display: flex; flex-direction: column; gap: 0.25rem; }\n    .form-row { display: flex; gap: 1rem; }\n    .flex-1 { flex: 1; }\n    .field-label { font-weight: 500; font-size: 0.875rem; color: #1a202c; margin-bottom: 0.25rem; }\n    .field-textarea {\n      width: 100%; border-radius: 6px; border: 1px solid var(--color-input-border);\n      padding: 0.625rem 0.875rem; font-size: 0.875rem; color: #1a202c;\n      background: #ffffff; resize: vertical; min-height: 72px; font-family: inherit;\n    }\n    .field-textarea:hover { border-color: var(--color-input-border-hover); }\n    .field-textarea:focus { outline: none; border-color: var(--color-input-border-focus); box-shadow: 0 0 0 3px var(--color-input-shadow-focus); }\n    .field-hint { font-size: 0.8rem; color: #64748b; margin: 0.25rem 0 0 0; line-height: 1.4; }\n  `]\n})\nexport class StepProgramDetailsComponent {\n  @Input() form!: FormGroup;\n\n  cashbackTypeOptions: SelectOption[] = [\n    { value: 'PERCENTAGE', label: 'Percentage (%)' },\n    { value: 'BONUS_POINTS', label: 'Bonus Points' }\n  ];\n\n  getError(field: string): string {\n    const control = this.form.get(field);\n    if (control && control.touched && control.invalid) {\n      if (control.errors?.['required']) return 'This field is required';\n      if (control.errors?.['min']) return `Minimum value is ${control.errors['min'].min}`;\n      if (control.errors?.['max']) return `Maximum value is ${control.errors['max'].max}`;\n    }\n    return '';\n  }\n}\n", "import { Component, Input, forwardRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\n\n@Component({\n  selector: 'app-switch',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => SwitchComponent),\n      multi: true\n    }\n  ],\n  template: `\n    <label class=\"switch-wrapper\" [class.disabled]=\"disabled\">\n      <input\n        type=\"checkbox\"\n        [checked]=\"checked\"\n        [disabled]=\"disabled\"\n        (change)=\"onChange($event)\"\n        (blur)=\"onBlur()\"\n        class=\"switch-input\"\n      />\n      <span class=\"switch-label\">\n        <span class=\"switch-track\" [class.checked]=\"checked\">\n          <span class=\"switch-thumb\"></span>\n        </span>\n        <span class=\"switch-text\" *ngIf=\"label\">{{ label }}</span>\n      </span>\n    </label>\n  `,\n  styles: [`\n    .switch-wrapper {\n      display: inline-flex;\n      align-items: center;\n      cursor: pointer;\n      user-select: none;\n    }\n\n    .switch-wrapper.disabled {\n      opacity: 0.6;\n      cursor: not-allowed;\n    }\n\n    .switch-input {\n      position: absolute;\n      opacity: 0;\n      width: 0;\n      height: 0;\n    }\n\n    .switch-label {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n    }\n\n    .switch-track {\n      width: 44px;\n      height: 24px;\n      background-color: #cbd5e1;\n      border-radius: 12px;\n      position: relative;\n      transition: background-color 0.2s ease;\n      flex-shrink: 0;\n    }\n\n    .switch-track.checked {\n      background-color: var(--primary-color);\n    }\n\n    .switch-thumb {\n      width: 20px;\n      height: 20px;\n      background-color: #ffffff;\n      border-radius: 50%;\n      position: absolute;\n      top: 2px;\n      left: 2px;\n      transition: transform 0.2s ease;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n    }\n\n    .switch-track.checked .switch-thumb {\n      transform: translateX(20px);\n    }\n\n    .switch-text {\n      font-size: 0.875rem;\n      color: #1a202c;\n    }\n\n    .switch-wrapper:hover:not(.disabled) .switch-track:not(.checked) {\n      background-color: #94a3b8;\n    }\n  `]\n})\nexport class SwitchComponent implements ControlValueAccessor {\n  @Input() label = '';\n  @Input() disabled = false;\n\n  checked = false;\n  private onChangeFn = (value: boolean) => {};\n  private onTouchedFn = () => {};\n\n  onChange(event: Event): void {\n    const target = event.target as HTMLInputElement;\n    this.checked = target.checked;\n    this.onChangeFn(this.checked);\n  }\n\n  onBlur(): void {\n    this.onTouchedFn();\n  }\n\n  writeValue(value: boolean): void {\n    this.checked = value || false;\n  }\n\n  registerOnChange(fn: (value: boolean) => void): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouchedFn = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n\n", "import { Component, Input, forwardRef, ElementRef, HostListener, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\nimport { SelectComponent, SelectOption } from '../select/select.component';\n\ninterface CalendarDay {\n  date: number;\n  month: number;    // 0-indexed\n  year: number;\n  isCurrentMonth: boolean;\n  isToday: boolean;\n  isSelected: boolean;\n  isPast: boolean;\n}\n\n@Component({\n  selector: 'app-date-picker',\n  standalone: true,\n  imports: [CommonModule, FormsModule, SelectComponent],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DatePickerComponent),\n      multi: true\n    }\n  ],\n  template: `\n    <div class=\"dp-wrapper\">\n      <label *ngIf=\"label\" class=\"dp-label\">\n        {{ label }}\n        <span *ngIf=\"required\" class=\"required-mark\">*</span>\n        <ng-content select=\"[labelExtra]\"></ng-content>\n      </label>\n\n      <!-- Trigger -->\n      <div\n        class=\"dp-trigger\"\n        [class.open]=\"isOpen\"\n        [class.error]=\"!!errorMessage\"\n        [class.disabled]=\"disabled\"\n        [class.has-value]=\"!!value\"\n        (click)=\"toggleCalendar()\"\n        tabindex=\"0\"\n        (keydown.escape)=\"isOpen = false\"\n      >\n        <svg class=\"dp-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\">\n          <rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/>\n          <path d=\"M16 2v4M8 2v4M3 10h18\"/>\n        </svg>\n        <span class=\"dp-display\" [class.placeholder]=\"!value\">\n          {{ value ? formatDisplay(value) : placeholder || 'Select date' }}\n        </span>\n        <button *ngIf=\"value && clearable && !disabled\" type=\"button\" class=\"dp-clear\" (click)=\"clearValue($event)\">\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M18 6L6 18M6 6l12 12\"/></svg>\n        </button>\n      </div>\n\n      <!-- Calendar dropdown -->\n      <div class=\"dp-dropdown\" *ngIf=\"isOpen\">\n        <!-- Header: month/year + nav -->\n        <div class=\"dp-header\">\n          <span class=\"dp-month-year\">{{ monthNames[viewMonth] }} {{ viewYear }}</span>\n          <div class=\"dp-nav\">\n            <button type=\"button\" class=\"dp-nav-btn\" (click)=\"prevMonth($event)\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M15 18l-6-6 6-6\"/></svg>\n            </button>\n            <button type=\"button\" class=\"dp-nav-btn\" (click)=\"nextMonth($event)\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M9 18l6-6-6-6\"/></svg>\n            </button>\n          </div>\n        </div>\n\n        <!-- Day headers -->\n        <div class=\"dp-day-headers\">\n          <span *ngFor=\"let d of dayHeaders\" class=\"dp-day-header\">{{ d }}</span>\n        </div>\n\n        <!-- Day grid -->\n        <div class=\"dp-grid\">\n          <button\n            *ngFor=\"let day of calendarDays\"\n            type=\"button\"\n            class=\"dp-day\"\n            [class.other-month]=\"!day.isCurrentMonth\"\n            [class.today]=\"day.isToday\"\n            [class.selected]=\"day.isSelected\"\n            [class.past]=\"day.isPast && disablePast\"\n            [disabled]=\"day.isPast && disablePast\"\n            (click)=\"selectDay(day, $event)\"\n          >\n            {{ day.date }}\n          </button>\n        </div>\n\n        <!-- Optional time selection -->\n        <div class=\"dp-time-row\" *ngIf=\"showTime\">\n          <div class=\"dp-time-field\">\n            <label class=\"dp-time-label\">Time</label>\n            <app-select\n              [options]=\"effectiveTimeOptions\"\n              [placeholder]=\"'Time'\"\n              (click)=\"$event.stopPropagation()\"\n              [ngModel]=\"selectedTime\"\n              (ngModelChange)=\"onTimeChange($event)\"\n            ></app-select>\n          </div>\n        </div>\n\n        <!-- Footer -->\n        <div class=\"dp-footer\">\n          <button type=\"button\" class=\"dp-today-btn\" (click)=\"goToToday($event)\">Today</button>\n        </div>\n      </div>\n\n      <span *ngIf=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</span>\n    </div>\n  `,\n  styles: [`\n    .dp-wrapper {\n      display: flex; flex-direction: column; gap: 0.5rem;\n      width: 100%; position: relative;\n    }\n\n    .dp-label {\n      font-weight: 500; font-size: 0.875rem; color: #1a202c;\n      display: flex; align-items: center; gap: 0.5rem;\n    }\n    .required-mark { color: #dc3545; margin-left: 0.25rem; }\n\n    /* Trigger */\n    .dp-trigger {\n      display: flex; align-items: center; gap: 0.625rem;\n      width: 100%; padding: 0.625rem 0.875rem;\n      border: 1px solid var(--color-input-border); border-radius: 6px;\n      font-size: 0.875rem; background: #ffffff; color: #1a202c;\n      cursor: pointer; transition: all 0.2s; outline: none;\n      user-select: none;\n    }\n    .dp-trigger:hover:not(.disabled) { border-color: var(--color-input-border-hover); }\n    .dp-trigger:focus:not(.disabled),\n    .dp-trigger.open { border-color: var(--color-input-border-focus); box-shadow: 0 0 0 3px var(--color-input-shadow-focus); }\n    .dp-trigger.disabled { background: #f8f9fa; color: #94a3b8; cursor: not-allowed; }\n    .dp-trigger.error { border-color: var(--color-input-error); }\n    .dp-trigger.error:focus, .dp-trigger.error.open { box-shadow: 0 0 0 3px var(--color-input-error-shadow); }\n\n    .dp-icon { width: 18px; height: 18px; color: #94a3b8; flex-shrink: 0; }\n    .dp-trigger.has-value .dp-icon { color: #16A34A; }\n    .dp-display { flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }\n    .dp-display.placeholder { color: #94a3b8; }\n    .dp-clear {\n      background: none; border: none; padding: 0.125rem; cursor: pointer;\n      color: #94a3b8; display: flex; transition: color 0.15s;\n    }\n    .dp-clear:hover { color: #ef4444; }\n    .dp-clear svg { width: 16px; height: 16px; }\n\n    /* Dropdown */\n    .dp-dropdown {\n      position: absolute; top: 100%; left: 0;\n      z-index: 50; margin-top: 4px;\n      background: #ffffff; border: 1px solid #e2e8f0; border-radius: 10px;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1), 0 2px 8px rgba(0,0,0,0.04);\n      padding: 1rem; min-width: 280px;\n      width: max-content;\n    }\n\n    /* Header */\n    .dp-header {\n      display: flex; justify-content: space-between; align-items: center;\n      margin-bottom: 0.75rem;\n    }\n    .dp-month-year { font-size: 1rem; font-weight: 700; color: #0f172a; }\n    .dp-nav { display: flex; gap: 0.25rem; }\n    .dp-nav-btn {\n      width: 32px; height: 32px; border-radius: 6px;\n      border: 1px solid #e2e8f0; background: #ffffff;\n      display: flex; align-items: center; justify-content: center;\n      cursor: pointer; color: #475569; transition: all 0.15s;\n    }\n    .dp-nav-btn:hover { background: #f0fdf4; border-color: #bbf7d0; color: #16A34A; }\n    .dp-nav-btn svg { width: 16px; height: 16px; }\n\n    /* Day headers */\n    .dp-day-headers {\n      display: grid; grid-template-columns: repeat(7, 1fr);\n      gap: 0; margin-bottom: 0.25rem;\n    }\n    .dp-day-header {\n      text-align: center; font-size: 0.75rem; font-weight: 600;\n      color: #94a3b8; padding: 0.25rem 0;\n    }\n\n    /* Day grid */\n    .dp-grid {\n      display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px;\n    }\n    .dp-day {\n      width: 36px; height: 36px; margin: 0 auto;\n      display: flex; align-items: center; justify-content: center;\n      font-size: 0.85rem; color: #1a202c; border: none;\n      background: transparent; border-radius: 8px; cursor: pointer;\n      transition: all 0.1s; font-weight: 500;\n    }\n    .dp-day:hover:not(:disabled):not(.selected) { background: #f0fdf4; color: #16A34A; }\n    .dp-day.other-month { color: #cbd5e1; }\n    .dp-day.other-month:hover:not(:disabled):not(.selected) { color: #94a3b8; }\n    .dp-day.today:not(.selected) {\n      border: 1.5px solid #16A34A; color: #16A34A; font-weight: 700;\n    }\n    .dp-day.selected {\n      background: #0f172a; color: #ffffff; font-weight: 700;\n    }\n    .dp-day.past { opacity: 0.4; cursor: not-allowed; }\n\n    /* Time row */\n    .dp-time-row {\n      display: flex; gap: 0.5rem; margin-top: 0.75rem;\n      padding-top: 0.75rem; border-top: 1px solid #f1f5f9;\n    }\n    .dp-time-field { flex: 1; display: flex; flex-direction: column; gap: 0.2rem; }\n    .dp-time-label { font-size: 0.7rem; font-weight: 600; color: #64748b; }\n\n    /* Footer */\n    .dp-footer {\n      display: flex; justify-content: center;\n      margin-top: 0.5rem; padding-top: 0.5rem;\n      border-top: 1px solid #f1f5f9;\n    }\n    .dp-today-btn {\n      background: none; border: none; font-size: 0.8rem; font-weight: 600;\n      color: #16A34A; cursor: pointer; padding: 0.25rem 0.75rem;\n      border-radius: 4px; transition: all 0.15s;\n    }\n    .dp-today-btn:hover { background: #f0fdf4; }\n\n    .error-message { color: #dc3545; font-size: 0.75rem; }\n  `]\n})\nexport class DatePickerComponent implements ControlValueAccessor, OnInit {\n  @Input() id = '';\n  @Input() label = '';\n  @Input() placeholder = '';\n  @Input() disabled = false;\n  @Input() required = false;\n  @Input() errorMessage = '';\n  @Input() clearable = true;\n  @Input() showTime = false;\n  /** When true (default), past days and past times (when today is selected) are not selectable. */\n  @Input() disablePast = true;\n\n  value = '';       // ISO string: \"2025-03-15T08:00\" or \"2025-03-15\"\n  isOpen = false;\n  viewMonth = 0;    // 0-indexed\n  viewYear = 2025;\n  calendarDays: CalendarDay[] = [];\n  selectedTime = '08:00';\n\n  readonly monthNames = [\n    'January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'\n  ];\n  readonly dayHeaders = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\n  private allTimeOptions: SelectOption[] = [];\n\n  private onChangeFn = (value: string) => {};\n  private onTouchedFn = () => {};\n\n  constructor(private elementRef: ElementRef) {}\n\n  ngOnInit(): void {\n    const now = new Date();\n    this.viewMonth = now.getMonth();\n    this.viewYear = now.getFullYear();\n\n    if (this.showTime) {\n      this.allTimeOptions = this.generateTimeOptions();\n    }\n    this.buildCalendar();\n  }\n\n  // ─── Calendar rendering ────────────────────────────────────────────\n\n  private buildCalendar(): void {\n    const today = new Date();\n    const selDate = this.value ? new Date(this.value) : null;\n\n    const firstDay = new Date(this.viewYear, this.viewMonth, 1);\n    const startWeekday = firstDay.getDay(); // 0=Sun\n    const daysInMonth = new Date(this.viewYear, this.viewMonth + 1, 0).getDate();\n\n    // Previous month fill\n    const prevMonthDays = new Date(this.viewYear, this.viewMonth, 0).getDate();\n    const days: CalendarDay[] = [];\n\n    for (let i = startWeekday - 1; i >= 0; i--) {\n      const d = prevMonthDays - i;\n      const m = this.viewMonth - 1;\n      const y = m < 0 ? this.viewYear - 1 : this.viewYear;\n      const month = m < 0 ? 11 : m;\n      days.push(this.makeDay(d, month, y, false, today, selDate));\n    }\n\n    // Current month\n    for (let d = 1; d <= daysInMonth; d++) {\n      days.push(this.makeDay(d, this.viewMonth, this.viewYear, true, today, selDate));\n    }\n\n    // Next month fill to 42 cells (6 rows)\n    const remaining = 42 - days.length;\n    for (let d = 1; d <= remaining; d++) {\n      const m = this.viewMonth + 1;\n      const y = m > 11 ? this.viewYear + 1 : this.viewYear;\n      const month = m > 11 ? 0 : m;\n      days.push(this.makeDay(d, month, y, false, today, selDate));\n    }\n\n    this.calendarDays = days;\n  }\n\n  private makeDay(date: number, month: number, year: number, isCurrent: boolean, today: Date, sel: Date | null): CalendarDay {\n    const d = new Date(year, month, date);\n    const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n    return {\n      date, month, year,\n      isCurrentMonth: isCurrent,\n      isToday: d.getTime() === todayStart.getTime(),\n      isSelected: sel ? (d.getDate() === sel.getDate() && d.getMonth() === sel.getMonth() && d.getFullYear() === sel.getFullYear()) : false,\n      isPast: d < todayStart\n    };\n  }\n\n  // ─── Navigation ────────────────────────────────────────────────────\n\n  prevMonth(event: Event): void {\n    event.stopPropagation();\n    this.viewMonth--;\n    if (this.viewMonth < 0) { this.viewMonth = 11; this.viewYear--; }\n    this.buildCalendar();\n  }\n\n  nextMonth(event: Event): void {\n    event.stopPropagation();\n    this.viewMonth++;\n    if (this.viewMonth > 11) { this.viewMonth = 0; this.viewYear++; }\n    this.buildCalendar();\n  }\n\n  goToToday(event: Event): void {\n    event.stopPropagation();\n    const now = new Date();\n    this.viewMonth = now.getMonth();\n    this.viewYear = now.getFullYear();\n\n    const pad = (n: number) => n.toString().padStart(2, '0');\n    const dateStr = `${now.getFullYear()}-${pad(now.getMonth() + 1)}-${pad(now.getDate())}`;\n\n    if (this.showTime) {\n      const minutes = now.getMinutes();\n      const h = minutes < 30 ? now.getHours() : now.getHours() + 1;\n      const m = minutes < 30 ? 30 : 0;\n      const hour = h >= 24 ? 23 : h;\n      const min = h >= 24 ? 30 : m;\n      this.selectedTime = `${pad(hour)}:${pad(min)}`;\n      this.value = `${dateStr}T${this.selectedTime}`;\n    } else {\n      this.value = dateStr;\n    }\n\n    this.onChangeFn(this.value);\n    this.buildCalendar();\n  }\n\n  // ─── Selection ─────────────────────────────────────────────────────\n\n  selectDay(day: CalendarDay, event: Event): void {\n    event.stopPropagation();\n    if (day.isPast && this.disablePast) return;\n\n    const pad = (n: number) => n.toString().padStart(2, '0');\n    const dateStr = `${day.year}-${pad(day.month + 1)}-${pad(day.date)}`;\n\n    let timeToUse = this.selectedTime;\n    if (this.showTime && day.isToday && this.disablePast) {\n      const next = this.nextTimeSlotFromNow();\n      if (next) timeToUse = next;\n      this.selectedTime = timeToUse;\n    }\n\n    if (this.showTime) {\n      this.value = `${dateStr}T${timeToUse}`;\n    } else {\n      this.value = dateStr;\n    }\n\n    this.onChangeFn(this.value);\n    this.viewMonth = day.month;\n    this.viewYear = day.year;\n    this.buildCalendar();\n\n    if (!this.showTime) {\n      this.isOpen = false;\n    }\n  }\n\n  onTimeChange(time: string): void {\n    if (this.value) {\n      const datePart = this.value.split('T')[0];\n      let timeToUse = time;\n      if (this.showTime && this.disablePast && this.isSelectedDateToday()) {\n        const next = this.nextTimeSlotFromNow();\n        if (next && this.isTimeInPast(time)) {\n          timeToUse = next;\n        }\n      }\n      this.selectedTime = timeToUse;\n      this.value = `${datePart}T${timeToUse}`;\n      this.onChangeFn(this.value);\n    } else {\n      this.selectedTime = time;\n    }\n  }\n\n  private isTimeInPast(timeStr: string): boolean {\n    const [h, m] = timeStr.split(':').map(Number);\n    const now = new Date();\n    const currentMinutes = now.getHours() * 60 + now.getMinutes();\n    const slotMinutes = h * 60 + m;\n    return slotMinutes < currentMinutes;\n  }\n\n  toggleCalendar(): void {\n    if (this.disabled) return;\n    this.isOpen = !this.isOpen;\n    if (this.isOpen) {\n      // Navigate to selected date's month if there's a value\n      if (this.value) {\n        const d = new Date(this.value);\n        if (!isNaN(d.getTime())) {\n          this.viewMonth = d.getMonth();\n          this.viewYear = d.getFullYear();\n          if (this.showTime) {\n            const pad = (n: number) => n.toString().padStart(2, '0');\n            let t = `${pad(d.getHours())}:${pad(d.getMinutes())}`;\n            if (this.disablePast && this.isSelectedDateToday()) {\n              const next = this.nextTimeSlotFromNow();\n              if (next) {\n                t = next;\n                const datePart = this.value.split('T')[0];\n                this.value = `${datePart}T${t}`;\n                this.onChangeFn(this.value);\n              }\n            }\n            this.selectedTime = t;\n          }\n        }\n      }\n      this.buildCalendar();\n    }\n  }\n\n  clearValue(event: Event): void {\n    event.stopPropagation();\n    this.value = '';\n    this.onChangeFn(this.value);\n  }\n\n  // ─── Display ───────────────────────────────────────────────────────\n\n  formatDisplay(val: string): string {\n    if (!val) return '';\n    try {\n      const d = new Date(val);\n      if (isNaN(d.getTime())) return val;\n      const opts: Intl.DateTimeFormatOptions = { year: 'numeric', month: 'short', day: 'numeric' };\n      if (this.showTime) {\n        opts.hour = '2-digit';\n        opts.minute = '2-digit';\n      }\n      return d.toLocaleString('en-US', opts);\n    } catch {\n      return val;\n    }\n  }\n\n  // ─── Time options ──────────────────────────────────────────────────\n\n  private generateTimeOptions(): SelectOption[] {\n    const options: SelectOption[] = [];\n    for (let h = 0; h < 24; h++) {\n      const hour = h.toString().padStart(2, '0');\n      options.push({ value: `${hour}:00`, label: `${hour}:00` });\n      options.push({ value: `${hour}:30`, label: `${hour}:30` });\n    }\n    return options;\n  }\n\n  private isSelectedDateToday(): boolean {\n    if (!this.value) return false;\n    const d = new Date(this.value);\n    if (isNaN(d.getTime())) return false;\n    const today = new Date();\n    return d.getFullYear() === today.getFullYear() && d.getMonth() === today.getMonth() && d.getDate() === today.getDate();\n  }\n\n  private nextTimeSlotFromNow(): string | null {\n    const now = new Date();\n    const min = now.getMinutes();\n    const h = min < 30 ? now.getHours() : now.getHours() + 1;\n    const m = min < 30 ? 30 : 0;\n    if (h >= 24) return '23:30';\n    const pad = (n: number) => n.toString().padStart(2, '0');\n    return `${pad(h)}:${pad(m)}`;\n  }\n\n  /** When disablePast and selected date is today, only show times from now onwards. */\n  get effectiveTimeOptions(): SelectOption[] {\n    if (!this.showTime || !this.disablePast || !this.value) return this.allTimeOptions;\n    const today = new Date();\n    const todayStart = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n    const valDate = new Date(this.value);\n    if (isNaN(valDate.getTime())) return this.allTimeOptions;\n    const valDayStart = new Date(valDate.getFullYear(), valDate.getMonth(), valDate.getDate());\n    if (valDayStart.getTime() !== todayStart.getTime()) return this.allTimeOptions;\n\n    const now = new Date();\n    const currentMinutes = now.getHours() * 60 + now.getMinutes();\n    return this.allTimeOptions.filter(opt => {\n      const [h, m] = (opt.value as string).split(':').map(Number);\n      const slotMinutes = h * 60 + m;\n      return slotMinutes > currentMinutes;\n    });\n  }\n\n  // ─── Click outside ─────────────────────────────────────────────────\n\n  @HostListener('document:click', ['$event'])\n  onDocumentClick(event: Event): void {\n    if (!this.elementRef.nativeElement.contains(event.target)) {\n      this.isOpen = false;\n    }\n  }\n\n  // ─── ControlValueAccessor ──────────────────────────────────────────\n\n  writeValue(value: string): void {\n    this.value = value || '';\n    if (this.value && this.showTime) {\n      try {\n        const d = new Date(this.value);\n        if (!isNaN(d.getTime())) {\n          const pad = (n: number) => n.toString().padStart(2, '0');\n          let t = `${pad(d.getHours())}:${pad(d.getMinutes())}`;\n          if (this.disablePast && this.isSelectedDateToday()) {\n            const next = this.nextTimeSlotFromNow();\n            if (next) {\n              t = next;\n              const datePart = this.value.split('T')[0];\n              this.value = `${datePart}T${t}`;\n              this.onChangeFn(this.value);\n            }\n          }\n          this.selectedTime = t;\n        }\n      } catch { /* ignore */ }\n    }\n  }\n\n  registerOnChange(fn: (value: string) => void): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouchedFn = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n", "import { Component, Input, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormGroup, FormArray } from '@angular/forms';\nimport { SwitchComponent } from '../../../../../shared/components/switch/switch.component';\nimport { SelectComponent, SelectOption } from '../../../../../shared/components/select/select.component';\nimport { DatePickerComponent } from '../../../../../shared/components/date-picker/date-picker.component';\nimport { DayOfWeek } from '../../../../../core/models/reward-program.model';\n\nconst DAY_LABELS: Record<DayOfWeek, string> = {\n  MONDAY: 'Mon',\n  TUESDAY: 'Tue',\n  WEDNESDAY: 'Wed',\n  THURSDAY: 'Thu',\n  FRIDAY: 'Fri',\n  SATURDAY: 'Sat',\n  SUNDAY: 'Sun'\n};\n\n@Component({\n  selector: 'app-step-schedule',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, SwitchComponent, SelectComponent, DatePickerComponent],\n  template: `\n    <div class=\"step-form\" [formGroup]=\"form\">\n      <!-- Date range -->\n      <div class=\"section\">\n        <h3 class=\"section-title\">Program dates</h3>\n        <p class=\"section-desc\">Set when this program will be active.</p>\n\n        <div class=\"form-row\">\n          <div class=\"form-group flex-1\">\n            <app-date-picker\n              label=\"Start date\"\n              placeholder=\"Select start date\"\n              formControlName=\"startDate\"\n              [showTime]=\"true\"\n              [required]=\"true\"\n              [errorMessage]=\"form.get('startDate')?.touched && form.get('startDate')?.invalid ? 'Start date is required' : ''\"\n            ></app-date-picker>\n          </div>\n\n          <!-- End date: shown only if toggled on -->\n          <div class=\"form-group flex-1\" *ngIf=\"showEndDate\">\n            <app-date-picker\n              label=\"End date\"\n              placeholder=\"Select end date\"\n              formControlName=\"endDate\"\n              [showTime]=\"true\"\n              [clearable]=\"false\"\n            >\n              <button labelExtra type=\"button\" class=\"btn-remove-field\" (click)=\"removeEndDate()\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M18 6L6 18M6 6l12 12\"/></svg>\n                Remove\n              </button>\n            </app-date-picker>\n          </div>\n        </div>\n\n        <button\n          *ngIf=\"!showEndDate\"\n          type=\"button\"\n          class=\"btn-add-enddate\"\n          (click)=\"showEndDate = true\"\n        >\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M12 5v14M5 12h14\"/></svg>\n          Add end date\n        </button>\n        <p class=\"field-hint\" *ngIf=\"!showEndDate\">This program will run indefinitely until manually stopped.</p>\n      </div>\n\n      <!-- Weekly time windows -->\n      <div class=\"section\">\n        <h3 class=\"section-title\">Weekly schedule</h3>\n        <p class=\"section-desc\">\n          Configure which days and hours the program is effective.\n          If no days are enabled, the program applies 24/7 during the active period.\n        </p>\n\n        <div class=\"schedule-grid\" formArrayName=\"weeklySchedules\">\n          <div\n            *ngFor=\"let dayGroup of weeklySchedulesArray.controls; let i = index\"\n            class=\"schedule-row\"\n            [class.enabled]=\"dayGroup.get('enabled')?.value\"\n            [formGroupName]=\"i\"\n          >\n            <div class=\"day-toggle\">\n              <app-switch\n                [label]=\"getShortDayLabel(i)\"\n                formControlName=\"enabled\"\n              ></app-switch>\n            </div>\n\n            <div class=\"time-range\" *ngIf=\"dayGroup.get('enabled')?.value\">\n              <div class=\"time-field\">\n                <label class=\"small-label\">Start time</label>\n                <app-select\n                  formControlName=\"startTime\"\n                  [options]=\"timeOptions\"\n                  placeholder=\"Start\"\n                ></app-select>\n              </div>\n              <span class=\"time-sep\">—</span>\n              <div class=\"time-field\">\n                <label class=\"small-label\">End time</label>\n                <app-select\n                  formControlName=\"endTime\"\n                  [options]=\"timeOptions\"\n                  placeholder=\"End\"\n                ></app-select>\n              </div>\n            </div>\n\n            <div class=\"time-off\" *ngIf=\"!dayGroup.get('enabled')?.value\">\n              <span class=\"off-label\">Off</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .step-form { display: flex; flex-direction: column; gap: 1.75rem; }\n    .section { }\n    .section-title { font-size: 1rem; font-weight: 700; color: #0f172a; margin: 0 0 0.25rem 0; }\n    .section-desc { font-size: 0.85rem; color: #64748b; margin: 0 0 1rem 0; line-height: 1.45; }\n    .form-row { display: flex; gap: 1rem; }\n    .form-group { display: flex; flex-direction: column; gap: 0.35rem; }\n    .flex-1 { flex: 1; }\n    .field-hint { font-size: 0.8rem; color: #64748b; margin: 0.5rem 0 0 0; }\n\n    .btn-add-enddate {\n      display: inline-flex; align-items: center; gap: 0.4rem;\n      background: none; border: 1px dashed #cbd5e1; border-radius: 6px;\n      padding: 0.5rem 1rem; color: #16A34A; font-size: 0.85rem;\n      font-weight: 600; cursor: pointer; transition: all 0.15s;\n      margin-top: 0.5rem;\n    }\n    .btn-add-enddate:hover { border-color: #16A34A; background: #f0fdf4; }\n    .btn-add-enddate svg { width: 16px; height: 16px; }\n\n    .btn-remove-field {\n      display: inline-flex; align-items: center; gap: 0.25rem;\n      background: none; border: none; padding: 0; margin-left: auto;\n      color: #ef4444; font-size: 0.75rem; font-weight: 600;\n      cursor: pointer; transition: color 0.15s;\n    }\n    .btn-remove-field:hover { color: #dc2626; }\n    .btn-remove-field svg { width: 14px; height: 14px; }\n\n    .schedule-grid { display: flex; flex-direction: column; gap: 0.5rem; }\n    .schedule-row {\n      display: flex; align-items: center; gap: 1rem;\n      padding: 0.65rem 1rem; border-radius: 8px;\n      background: #f8fafc; border: 1px solid #f1f5f9;\n      transition: all 0.15s;\n    }\n    .schedule-row.enabled {\n      background: #fafffe; border-color: #dcfce7;\n    }\n    .day-toggle { min-width: 120px; }\n    .time-range { display: flex; align-items: flex-end; gap: 0.5rem; flex: 1; }\n    .time-field { display: flex; flex-direction: column; gap: 0.2rem; flex: 1; }\n    .small-label { font-size: 0.7rem; color: #64748b; font-weight: 500; }\n    .time-sep { color: #94a3b8; font-weight: 600; padding-bottom: 0.625rem; }\n    .time-off { }\n    .off-label { font-size: 0.8rem; color: #94a3b8; font-style: italic; }\n  `]\n})\nexport class StepScheduleComponent implements OnInit {\n  @Input() form!: FormGroup;\n\n  showEndDate = false;\n  timeOptions: SelectOption[] = [];\n\n  private readonly days: DayOfWeek[] = [\n    'MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY', 'SUNDAY'\n  ];\n\n  ngOnInit(): void {\n    this.timeOptions = this.generateTimeOptions();\n\n    const endDateValue = this.form.get('endDate')?.value;\n    if (endDateValue) {\n      this.showEndDate = true;\n    }\n  }\n\n  get weeklySchedulesArray(): FormArray {\n    return this.form.get('weeklySchedules') as FormArray;\n  }\n\n  getShortDayLabel(index: number): string {\n    return DAY_LABELS[this.days[index]];\n  }\n\n  removeEndDate(): void {\n    this.form.get('endDate')?.setValue('');\n    this.showEndDate = false;\n  }\n\n  private generateTimeOptions(): SelectOption[] {\n    const options: SelectOption[] = [];\n    for (let h = 0; h < 24; h++) {\n      const hour = h.toString().padStart(2, '0');\n      options.push({ value: `${hour}:00`, label: `${hour}:00` });\n      options.push({ value: `${hour}:30`, label: `${hour}:30` });\n    }\n    return options;\n  }\n}\n", "import { Component, Input, forwardRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\n\n@Component({\n  selector: 'app-number-field',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NumberFieldComponent),\n      multi: true\n    }\n  ],\n  template: `\n    <div class=\"number-field-wrapper\">\n      <label *ngIf=\"label\" [for]=\"id\" class=\"number-field-label\">\n        {{ label }}\n        <span *ngIf=\"required\" class=\"required-mark\">*</span>\n      </label>\n      <div class=\"number-field-container\">\n        <span *ngIf=\"prefix\" class=\"number-field-prefix\">{{ prefix }}</span>\n        <input\n          [id]=\"id\"\n          type=\"number\"\n          [placeholder]=\"placeholder\"\n          [value]=\"value\"\n          [disabled]=\"disabled\"\n          [min]=\"min\"\n          [max]=\"max\"\n          [step]=\"step\"\n          (input)=\"onInput($event)\"\n          (blur)=\"onBlur()\"\n          class=\"number-field\"\n          [class.error]=\"!!errorMessage\"\n          [class.has-prefix]=\"prefix\"\n          [class.has-suffix]=\"suffix\"\n        />\n        <span *ngIf=\"suffix\" class=\"number-field-suffix\">{{ suffix }}</span>\n      </div>\n      <span *ngIf=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</span>\n      <span *ngIf=\"hint && !errorMessage\" class=\"hint-message\">{{ hint }}</span>\n    </div>\n  `,\n  styles: [`\n    .number-field-wrapper {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n      width: 100%;\n    }\n\n    .number-field-label {\n      font-weight: 500;\n      font-size: 0.875rem;\n      color: #1a202c;\n    }\n\n    .required-mark {\n      color: #dc3545;\n      margin-left: 0.25rem;\n    }\n\n    .number-field-container {\n      position: relative;\n      display: flex;\n      align-items: center;\n    }\n\n    .number-field {\n      width: 100%;\n      padding: 0.625rem 0.875rem;\n      border: 1px solid var(--color-input-border);\n      border-radius: 6px;\n      font-size: 0.875rem;\n      transition: all 0.2s ease;\n      background-color: #ffffff;\n      color: #1a202c;\n    }\n\n    .number-field:hover {\n      border-color: var(--color-input-border-hover);\n    }\n\n    .number-field:focus {\n      outline: none;\n      border-color: var(--color-input-border-focus);\n      box-shadow: 0 0 0 3px var(--color-input-shadow-focus);\n    }\n\n    .number-field:disabled {\n      background-color: #f8f9fa;\n      color: #94a3b8;\n      cursor: not-allowed;\n    }\n\n    .number-field.error {\n      border-color: var(--color-input-error);\n    }\n\n    .number-field.has-prefix {\n      padding-left: 2.5rem;\n    }\n\n    .number-field.has-suffix {\n      padding-right: 2.5rem;\n    }\n\n    .number-field-prefix,\n    .number-field-suffix {\n      position: absolute;\n      color: #64748b;\n      font-size: 0.875rem;\n      pointer-events: none;\n    }\n\n    .number-field-prefix {\n      left: 0.875rem;\n    }\n\n    .number-field-suffix {\n      right: 0.875rem;\n    }\n\n    .error-message {\n      color: #dc3545;\n      font-size: 0.75rem;\n    }\n\n    .hint-message {\n      color: #64748b;\n      font-size: 0.75rem;\n    }\n  `]\n})\nexport class NumberFieldComponent implements ControlValueAccessor {\n  @Input() id = '';\n  @Input() label = '';\n  @Input() placeholder = '';\n  @Input() disabled = false;\n  @Input() required = false;\n  @Input() min?: number;\n  @Input() max?: number;\n  @Input() step?: number;\n  @Input() prefix = '';\n  @Input() suffix = '';\n  @Input() errorMessage = '';\n  @Input() hint = '';\n\n  value: number | null = null;\n  private onChangeFn = (value: number | null) => {};\n  private onTouchedFn = () => {};\n\n  onInput(event: Event): void {\n    const target = event.target as HTMLInputElement;\n    this.value = target.value ? parseFloat(target.value) : null;\n    this.onChangeFn(this.value);\n  }\n\n  onBlur(): void {\n    this.onTouchedFn();\n  }\n\n  writeValue(value: number | null): void {\n    this.value = value ?? null;\n  }\n\n  registerOnChange(fn: (value: number | null) => void): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouchedFn = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n\n", "import { Component, Input } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormGroup } from '@angular/forms';\nimport { SelectComponent, SelectOption } from '../../../../../shared/components/select/select.component';\nimport { NumberFieldComponent } from '../../../../../shared/components/number-field/number-field.component';\n\n@Component({\n  selector: 'app-step-rules',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule, SelectComponent, NumberFieldComponent],\n  template: `\n    <div class=\"step-form\" [formGroup]=\"form\">\n      <!-- Min spend -->\n      <div class=\"form-group\">\n        <app-number-field\n          id=\"minSpendAmount\"\n          label=\"Minimum spend amount\"\n          placeholder=\"0\"\n          formControlName=\"minSpendAmount\"\n          [min]=\"0\"\n          hint=\"Set to 0 for any transaction amount to qualify.\"\n        ></app-number-field>\n      </div>\n\n      <!-- Eligibility -->\n      <div class=\"form-group\">\n        <app-select\n          id=\"eligibilityType\"\n          label=\"Transaction eligibility\"\n          formControlName=\"eligibilityType\"\n          [options]=\"eligibilityOptions\"\n          [required]=\"true\"\n        ></app-select>\n        <p class=\"field-hint\" *ngIf=\"form.get('eligibilityType')?.value !== 'ALL'\">\n          Specific item/category/service filtering will be available when multi-tenancy is supported.\n        </p>\n      </div>\n\n      <!-- Redeem limit — numeric input + presets -->\n      <div class=\"form-group\">\n        <label class=\"field-label\">Redeem up to</label>\n\n        <div class=\"redeem-input-row\">\n          <div class=\"redeem-stepper\">\n            <button type=\"button\" class=\"stepper-btn\" (click)=\"adjustRedeem(-5)\" [disabled]=\"redeemValue <= 0\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\"><path d=\"M5 12h14\"/></svg>\n            </button>\n            <div class=\"redeem-value-wrap\">\n              <input\n                type=\"number\"\n                class=\"redeem-input\"\n                [value]=\"redeemValue\"\n                (input)=\"onRedeemInput($event)\"\n                min=\"0\"\n                max=\"100\"\n              />\n              <span class=\"redeem-unit\">%</span>\n            </div>\n            <button type=\"button\" class=\"stepper-btn\" (click)=\"adjustRedeem(5)\" [disabled]=\"redeemValue >= 100\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\"><path d=\"M12 5v14M5 12h14\"/></svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"preset-chips\">\n          <button\n            *ngFor=\"let p of redeemPresets\"\n            type=\"button\"\n            class=\"preset-chip\"\n            [class.active]=\"redeemValue === p\"\n            (click)=\"setRedeem(p)\"\n          >{{ p }}%</button>\n        </div>\n\n        <!-- Contextual help -->\n        <div class=\"redeem-context\">\n          <p class=\"context-text\">\n            Customer can pay up to <strong>{{ redeemValue }}%</strong> of purchase using points.\n          </p>\n          <p class=\"context-example\" *ngIf=\"redeemValue > 0\">\n            Example: Purchase 10,000 — customer can cover up to {{ (10000 * redeemValue / 100) | number:'1.0-0' }} using points.\n          </p>\n          <p class=\"context-recommend\">Recommended: 30–70%</p>\n        </div>\n      </div>\n\n      <!-- Bonus lifespan -->\n      <div class=\"form-group\">\n        <app-number-field\n          id=\"bonusLifespanDays\"\n          label=\"Bonus lifespan (days)\"\n          placeholder=\"e.g. 90\"\n          formControlName=\"bonusLifespanDays\"\n          [min]=\"0\"\n          hint=\"Leave empty for bonuses that never expire. Set a value for time-limited bonuses.\"\n        ></app-number-field>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .step-form { display: flex; flex-direction: column; gap: 1.5rem; }\n    .form-group { display: flex; flex-direction: column; gap: 0.25rem; }\n    .field-label { font-weight: 500; font-size: 0.875rem; color: #1a202c; margin-bottom: 0.25rem; }\n    .field-hint { font-size: 0.8rem; color: #64748b; margin: 0.25rem 0 0 0; }\n\n    /* Redeem stepper */\n    .redeem-input-row { display: flex; align-items: center; gap: 0.75rem; }\n    .redeem-stepper {\n      display: inline-flex; align-items: center;\n      border: 1px solid #e2e8f0; border-radius: 8px;\n      background: #ffffff; overflow: hidden;\n    }\n    .stepper-btn {\n      display: flex; align-items: center; justify-content: center;\n      width: 40px; height: 44px;\n      background: #f8fafc; border: none; cursor: pointer;\n      color: #475569; transition: all 0.15s;\n    }\n    .stepper-btn:hover:not(:disabled) { background: #f0fdf4; color: #16A34A; }\n    .stepper-btn:disabled { opacity: 0.4; cursor: not-allowed; }\n    .stepper-btn svg { width: 16px; height: 16px; }\n    .redeem-value-wrap {\n      display: flex; align-items: center; gap: 0.2rem;\n      padding: 0 0.5rem; min-width: 72px; justify-content: center;\n    }\n    .redeem-input {\n      width: 48px; text-align: center;\n      border: none; outline: none; font-size: 1.25rem;\n      font-weight: 700; color: #0f172a; background: transparent;\n      -moz-appearance: textfield;\n    }\n    .redeem-input::-webkit-inner-spin-button,\n    .redeem-input::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }\n    .redeem-unit { font-size: 1rem; font-weight: 600; color: #64748b; }\n\n    /* Presets */\n    .preset-chips { display: flex; gap: 0.5rem; margin-top: 0.5rem; }\n    .preset-chip {\n      padding: 0.375rem 0.875rem; border: 1px solid #e2e8f0; border-radius: 20px;\n      background: #ffffff; font-size: 0.8rem; font-weight: 600; color: #475569;\n      cursor: pointer; transition: all 0.15s;\n    }\n    .preset-chip:hover { border-color: #16A34A; color: #16A34A; background: #f0fdf4; }\n    .preset-chip.active {\n      background: #16A34A; color: #ffffff; border-color: #16A34A;\n    }\n\n    /* Context */\n    .redeem-context {\n      margin-top: 0.5rem; padding: 0.75rem 1rem;\n      background: #f8fafc; border-radius: 8px; border: 1px solid #f1f5f9;\n    }\n    .context-text { font-size: 0.85rem; color: #0f172a; margin: 0 0 0.25rem 0; }\n    .context-example { font-size: 0.8rem; color: #64748b; margin: 0 0 0.25rem 0; }\n    .context-recommend { font-size: 0.75rem; color: #16A34A; font-weight: 600; margin: 0; }\n  `]\n})\nexport class StepRulesComponent {\n  @Input() form!: FormGroup;\n\n  redeemPresets = [25, 50, 75, 100];\n\n  eligibilityOptions: SelectOption[] = [\n    { value: 'ALL', label: 'All items and categories' },\n    { value: 'SPECIFIC_ITEMS', label: 'Specific items', disabled: true },\n    { value: 'SPECIFIC_CATEGORIES', label: 'Specific categories', disabled: true },\n    { value: 'SPECIFIC_SERVICES', label: 'Specific services', disabled: true }\n  ];\n\n  get redeemValue(): number {\n    return this.form.get('redeemLimitPercent')?.value ?? 100;\n  }\n\n  setRedeem(val: number): void {\n    this.form.get('redeemLimitPercent')?.setValue(val);\n  }\n\n  adjustRedeem(delta: number): void {\n    let newVal = this.redeemValue + delta;\n    newVal = Math.max(0, Math.min(100, newVal));\n    this.form.get('redeemLimitPercent')?.setValue(newVal);\n  }\n\n  onRedeemInput(event: Event): void {\n    const target = event.target as HTMLInputElement;\n    let val = parseInt(target.value, 10);\n    if (isNaN(val)) val = 0;\n    val = Math.max(0, Math.min(100, val));\n    this.form.get('redeemLimitPercent')?.setValue(val);\n  }\n}\n", "import { Component, Input } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule, FormGroup, FormArray, FormBuilder, Validators } from '@angular/forms';\nimport { InputComponent } from '../../../../../shared/components/input/input.component';\nimport { NumberFieldComponent } from '../../../../../shared/components/number-field/number-field.component';\nimport { ButtonComponent } from '../../../../../shared/components/button/button.component';\nimport { CashbackType } from '../../../../../core/models/reward-program.model';\n\n@Component({\n  selector: 'app-step-tiers',\n  standalone: true,\n  imports: [\n    CommonModule, ReactiveFormsModule, InputComponent,\n    NumberFieldComponent, ButtonComponent\n  ],\n  template: `\n    <div class=\"step-form\" [formGroup]=\"form\">\n      <div class=\"info-banner\">\n        <span class=\"info-banner-icon\" aria-hidden=\"true\">\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\">\n            <circle cx=\"12\" cy=\"12\" r=\"9\"/>\n            <path d=\"M12 16V12M12 9h.01\"/>\n          </svg>\n        </span>\n        <p class=\"info-banner-text\">\n          Tiers are optional. They let you reward loyal customers with extra earning rates\n          based on their accumulated spending. Tier progress resets when the program is closed.\n        </p>\n      </div>\n\n      <!-- Context banner based on cashback type -->\n      <div class=\"type-context-banner\" *ngIf=\"cashbackType\">\n        <span class=\"ctx-icon\">\n          <svg *ngIf=\"isPercentage\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"9\" cy=\"9\" r=\"2.5\"/><circle cx=\"15\" cy=\"15\" r=\"2.5\"/><path d=\"M5.5 18.5l13-13\"/></svg>\n          <svg *ngIf=\"!isPercentage\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6\"/></svg>\n        </span>\n        <div class=\"ctx-text\" *ngIf=\"isPercentage\">\n          <strong>Percentage mode</strong> — each tier adds extra <strong>%</strong> on top of the base cashback rate.\n          <span class=\"ctx-example\">e.g. Base 5% + Silver tier 1% = customer earns 6%</span>\n        </div>\n        <div class=\"ctx-text\" *ngIf=\"!isPercentage\">\n          <strong>Bonus Points mode</strong> — each tier adds <strong>extra points</strong> per spend threshold on top of the base earn rate.\n          <span class=\"ctx-example\">e.g. Base 1 pt per 1,000 + Silver tier +1 = customer earns 2 pts per 1,000</span>\n        </div>\n      </div>\n\n      <div class=\"tiers-list\" formArrayName=\"tiers\">\n        <div\n          *ngFor=\"let tier of tiersArray.controls; let i = index\"\n          class=\"tier-card\"\n          [formGroupName]=\"i\"\n        >\n          <div class=\"tier-header\">\n            <span class=\"tier-number\">Tier {{ i + 1 }}</span>\n            <button type=\"button\" class=\"btn-remove\" (click)=\"removeTier(i)\" title=\"Remove tier\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n                <path d=\"M18 6L6 18M6 6l12 12\"/>\n              </svg>\n            </button>\n          </div>\n\n          <div class=\"tier-fields\">\n            <div class=\"form-group\">\n              <app-input\n                [id]=\"'tierName' + i\"\n                label=\"Tier name\"\n                placeholder=\"e.g. Bronze, Silver, Gold\"\n                formControlName=\"name\"\n                [required]=\"true\"\n                [errorMessage]=\"getTierError(i, 'name')\"\n              ></app-input>\n            </div>\n\n            <div class=\"form-row three-col\">\n              <div class=\"form-group\">\n                <app-number-field\n                  [id]=\"'tierMin' + i\"\n                  label=\"Min spend\"\n                  placeholder=\"0\"\n                  formControlName=\"minAmount\"\n                  [min]=\"0\"\n                  [required]=\"true\"\n                  [errorMessage]=\"getTierError(i, 'minAmount')\"\n                ></app-number-field>\n              </div>\n              <div class=\"form-group\">\n                <app-number-field\n                  [id]=\"'tierMax' + i\"\n                  label=\"Max spend\"\n                  placeholder=\"No limit\"\n                  formControlName=\"maxAmount\"\n                  [min]=\"0\"\n                  hint=\"Leave empty for unlimited\"\n                ></app-number-field>\n              </div>\n              <div class=\"form-group\">\n                <app-number-field\n                  [id]=\"'tierExtra' + i\"\n                  [label]=\"extraEarningLabel\"\n                  [placeholder]=\"extraEarningPlaceholder\"\n                  formControlName=\"extraEarningPercent\"\n                  [min]=\"0\"\n                  [required]=\"true\"\n                  [hint]=\"extraEarningHint\"\n                  [errorMessage]=\"getTierError(i, 'extraEarningPercent')\"\n                ></app-number-field>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"add-tier-row\">\n        <app-button buttonType=\"primary\" size=\"medium\" (onClick)=\"addTier()\">\n          + Add tier\n        </app-button>\n      </div>\n\n      <div class=\"empty-state\" *ngIf=\"tiersArray.length === 0\">\n        <p class=\"empty-title\">No tiers configured</p>\n        <p class=\"empty-desc\">All customers will earn at the base rate. Add tiers above to reward higher spenders.</p>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .step-form { display: flex; flex-direction: column; gap: 1rem; }\n\n    /* Info banner: outlined icon (transparent inside, colored border), lighter blue border */\n    .info-banner {\n      display: flex; align-items: flex-start; gap: 0.75rem;\n      padding: 1rem 1.25rem; border-radius: 8px;\n      background: #f0f9ff; border: 1px solid #bae6fd;\n    }\n    .info-banner-icon {\n      flex-shrink: 0; width: 24px; height: 24px;\n      display: flex; align-items: center; justify-content: center;\n      color: #0ea5e9;\n    }\n    .info-banner-icon svg { width: 22px; height: 22px; }\n    .info-banner-text {\n      margin: 0; font-size: 0.875rem; line-height: 1.5;\n      color: #0f172a; font-weight: 600;\n    }\n\n    .tiers-list { display: flex; flex-direction: column; gap: 1rem; }\n    .tier-card {\n      border: 1px solid #e2e8f0; border-radius: 10px;\n      padding: 1rem 1.25rem; background: #fafbfc;\n    }\n    .tier-header {\n      display: flex; justify-content: space-between; align-items: center;\n      margin-bottom: 0.75rem;\n    }\n    .tier-number { font-size: 0.9rem; font-weight: 700; color: #0f172a; }\n    .btn-remove {\n      background: none; border: none; cursor: pointer; padding: 0.25rem;\n      color: #94a3b8; transition: color 0.15s;\n    }\n    .btn-remove:hover { color: #ef4444; }\n    .btn-remove svg { width: 18px; height: 18px; }\n    .tier-fields { display: flex; flex-direction: column; gap: 0.75rem; }\n    .form-group { display: flex; flex-direction: column; gap: 0.25rem; }\n    .form-row { display: flex; gap: 0.75rem; }\n    .form-row.three-col > .form-group { flex: 1; }\n    .add-tier-row { display: flex; }\n    .empty-state { text-align: center; padding: 1.5rem 0; }\n    .empty-title { font-size: 0.95rem; font-weight: 600; color: #64748b; margin: 0 0 0.25rem 0; }\n    .empty-desc { font-size: 0.8rem; color: #94a3b8; margin: 0; }\n\n    /* Context banner */\n    .type-context-banner {\n      display: flex; gap: 0.75rem; align-items: flex-start;\n      padding: 0.875rem 1rem; border-radius: 8px;\n      background: #f8fafc; border: 1px solid #e2e8f0;\n    }\n    .ctx-icon {\n      flex-shrink: 0; width: 36px; height: 36px;\n      display: flex; align-items: center; justify-content: center;\n      background: #dcfce7; border-radius: 8px; color: #16A34A;\n    }\n    .ctx-icon svg { width: 18px; height: 18px; }\n    .ctx-text { font-size: 0.85rem; color: #475569; line-height: 1.5; }\n    .ctx-example { display: block; font-size: 0.8rem; color: #94a3b8; margin-top: 0.15rem; }\n  `]\n})\nexport class StepTiersComponent {\n  @Input() form!: FormGroup;\n\n  private fb = new FormBuilder();\n\n  get tiersArray(): FormArray {\n    return this.form.get('tiers') as FormArray;\n  }\n\n  get cashbackType(): CashbackType | null {\n    return this.form.get('cashbackType')?.value || null;\n  }\n\n  get isPercentage(): boolean {\n    return this.cashbackType === 'PERCENTAGE';\n  }\n\n  get extraEarningLabel(): string {\n    return this.isPercentage ? 'Extra earning (%)' : 'Extra points';\n  }\n\n  get extraEarningPlaceholder(): string {\n    return this.isPercentage ? 'e.g. 2' : 'e.g. 1';\n  }\n\n  get extraEarningHint(): string {\n    return this.isPercentage\n      ? 'Added on top of the base % rate'\n      : 'Extra points per spend threshold';\n  }\n\n  addTier(): void {\n    const nextSort = this.tiersArray.length;\n    this.tiersArray.push(this.fb.group({\n      name: ['', Validators.required],\n      minAmount: [0, [Validators.required, Validators.min(0)]],\n      maxAmount: [null],\n      extraEarningPercent: [0, [Validators.required, Validators.min(0)]],\n      sortOrder: [nextSort]\n    }));\n  }\n\n  removeTier(index: number): void {\n    this.tiersArray.removeAt(index);\n    this.tiersArray.controls.forEach((ctrl, i) => {\n      ctrl.get('sortOrder')?.setValue(i);\n    });\n  }\n\n  getTierError(tierIndex: number, field: string): string {\n    const control = this.tiersArray.at(tierIndex)?.get(field);\n    if (control && control.touched && control.invalid) {\n      if (control.errors?.['required']) return 'Required';\n      if (control.errors?.['min']) return `Min ${control.errors['min'].min}`;\n    }\n    return '';\n  }\n}\n", "import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ButtonComponent } from '../../../../../shared/components/button/button.component';\n\n@Component({\n  selector: 'app-step-notifications',\n  standalone: true,\n  imports: [CommonModule, ButtonComponent],\n  template: `\n    <div class=\"step-content\">\n      <div class=\"info-banner\">\n        <span class=\"info-banner-icon\" aria-hidden=\"true\">\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\">\n            <circle cx=\"12\" cy=\"12\" r=\"9\"/>\n            <path d=\"M12 16V12M12 9h.01\"/>\n          </svg>\n        </span>\n        <p class=\"info-banner-text\">\n          Set up automated text message marketing campaigns, or send manual ones,\n          to keep your Loyalty members coming back more often.\n        </p>\n      </div>\n\n      <div class=\"action-row\">\n        <app-button buttonType=\"primary\" [disabled]=\"true\">\n          Promote this program\n        </app-button>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .step-content { display: flex; flex-direction: column; gap: 1.25rem; }\n\n    /* Same info banner as tiers: outlined icon, lighter blue border, premium black text */\n    .info-banner {\n      display: flex; align-items: flex-start; gap: 0.75rem;\n      padding: 1rem 1.25rem; border-radius: 8px;\n      background: #f0f9ff; border: 1px solid #bae6fd;\n    }\n    .info-banner-icon {\n      flex-shrink: 0; width: 24px; height: 24px;\n      display: flex; align-items: center; justify-content: center;\n      color: #0ea5e9;\n    }\n    .info-banner-icon svg { width: 22px; height: 22px; }\n    .info-banner-text {\n      margin: 0; font-size: 0.875rem; line-height: 1.5;\n      color: #0f172a; font-weight: 600;\n    }\n\n    .action-row { display: flex; }\n  `]\n})\nexport class StepNotificationsComponent {}\n", "import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormGroup, FormArray } from '@angular/forms';\nimport { AlertComponent } from '../../../../../shared/components/alert/alert.component';\n\n@Component({\n  selector: 'app-step-summary',\n  standalone: true,\n  imports: [CommonModule, AlertComponent],\n  template: `\n    <div class=\"step-content\">\n      <!-- Errors -->\n      <app-alert *ngIf=\"launchError\" type=\"error\" [dismissible]=\"true\" (dismissed)=\"launchError = ''\">\n        {{ launchError }}\n      </app-alert>\n\n      <!-- Launch CTA: first thing user sees, with Launch | Schedule on the right -->\n      <div class=\"launch-section\">\n        <div class=\"launch-info\">\n          <p class=\"launch-text\" *ngIf=\"isScheduledLaunch\">\n            This program will be <strong>scheduled</strong> and automatically activated on the start date.\n          </p>\n          <p class=\"launch-text\" *ngIf=\"!isScheduledLaunch\">\n            This program will be <strong>launched immediately</strong> and become active right away.\n          </p>\n        </div>\n        <button\n          type=\"button\"\n          class=\"btn-launch-cta\"\n          [disabled]=\"!isFormValidForLaunch || launching\"\n          (click)=\"launch.emit()\"\n        >\n          {{ launching ? 'Launching...' : (isScheduledLaunch ? 'Schedule' : 'Launch now') }}\n        </button>\n      </div>\n\n      <!-- Program details -->\n      <div class=\"summary-section\">\n        <h3 class=\"section-heading\">\n          <span class=\"section-num\">1</span>\n          Program Details\n          <button type=\"button\" class=\"btn-edit\" (click)=\"goToStep.emit(1)\" title=\"Edit\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\"/><path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\"/></svg>\n          </button>\n        </h3>\n        <div class=\"summary-grid\">\n          <div class=\"summary-item\">\n            <span class=\"item-label\">Name</span>\n            <span class=\"item-value\">{{ formValue.name || '—' }}</span>\n          </div>\n          <div class=\"summary-item\">\n            <span class=\"item-label\">Description</span>\n            <span class=\"item-value\">{{ formValue.description || '—' }}</span>\n          </div>\n          <div class=\"summary-item\">\n            <span class=\"item-label\">Cashback type</span>\n            <span class=\"item-value\">{{ formatCashbackType() }}</span>\n          </div>\n          <div class=\"summary-item\">\n            <span class=\"item-label\">Cashback value</span>\n            <span class=\"item-value\">{{ formatCashbackValue() }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Schedule -->\n      <div class=\"summary-section\">\n        <h3 class=\"section-heading\">\n          <span class=\"section-num\">2</span>\n          Schedule\n          <button type=\"button\" class=\"btn-edit\" (click)=\"goToStep.emit(2)\" title=\"Edit\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\"/><path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\"/></svg>\n          </button>\n        </h3>\n        <div class=\"summary-grid\">\n          <div class=\"summary-item\">\n            <span class=\"item-label\">Start date</span>\n            <span class=\"item-value\">{{ formValue.startDate ? formatDate(formValue.startDate) : '—' }}</span>\n          </div>\n          <div class=\"summary-item\">\n            <span class=\"item-label\">End date</span>\n            <span class=\"item-value\">{{ formValue.endDate ? formatDate(formValue.endDate) : 'Ongoing' }}</span>\n          </div>\n          <div class=\"summary-item full-width\" *ngIf=\"enabledDays.length > 0\">\n            <span class=\"item-label\">Active days</span>\n            <span class=\"item-value\">{{ enabledDays.join(', ') }}</span>\n          </div>\n          <div class=\"summary-item full-width\" *ngIf=\"enabledDays.length === 0\">\n            <span class=\"item-label\">Active days</span>\n            <span class=\"item-value\">All days (24/7)</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Rules -->\n      <div class=\"summary-section\">\n        <h3 class=\"section-heading\">\n          <span class=\"section-num\">3</span>\n          Rules\n          <button type=\"button\" class=\"btn-edit\" (click)=\"goToStep.emit(3)\" title=\"Edit\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\"/><path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\"/></svg>\n          </button>\n        </h3>\n        <div class=\"summary-grid\">\n          <div class=\"summary-item\">\n            <span class=\"item-label\">Min spend</span>\n            <span class=\"item-value\">{{ formValue.minSpendAmount ?? 0 }}</span>\n          </div>\n          <div class=\"summary-item\">\n            <span class=\"item-label\">Eligibility</span>\n            <span class=\"item-value\">{{ formatEligibility() }}</span>\n          </div>\n          <div class=\"summary-item\">\n            <span class=\"item-label\">Redeem limit</span>\n            <span class=\"item-value\">Up to {{ formValue.redeemLimitPercent ?? 100 }}%</span>\n          </div>\n          <div class=\"summary-item\">\n            <span class=\"item-label\">Bonus lifespan</span>\n            <span class=\"item-value\">{{ formValue.bonusLifespanDays ? formValue.bonusLifespanDays + ' days' : 'Never expires' }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Tiers -->\n      <div class=\"summary-section\">\n        <h3 class=\"section-heading\">\n          <span class=\"section-num\">4</span>\n          Tiers\n          <button type=\"button\" class=\"btn-edit\" (click)=\"goToStep.emit(4)\" title=\"Edit\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\"/><path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\"/></svg>\n          </button>\n        </h3>\n        <div *ngIf=\"tiersValue.length === 0\" class=\"no-data\">No tiers configured</div>\n        <div *ngIf=\"tiersValue.length > 0\" class=\"tiers-table\">\n          <div class=\"tier-row tier-header-row\">\n            <span>Name</span>\n            <span>Min</span>\n            <span>Max</span>\n            <span>Extra %</span>\n          </div>\n          <div class=\"tier-row\" *ngFor=\"let tier of tiersValue\">\n            <span class=\"tier-name\">{{ tier.name }}</span>\n            <span>{{ tier.minAmount }}</span>\n            <span>{{ tier.maxAmount ?? '∞' }}</span>\n            <span>+{{ tier.extraEarningPercent }}%</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .step-content { display: flex; flex-direction: column; gap: 1.25rem; }\n\n    .summary-section {\n      border: 1px solid #e2e8f0; border-radius: 10px; padding: 1rem 1.25rem;\n      background: #ffffff;\n    }\n    .section-heading {\n      display: flex; align-items: center; gap: 0.75rem;\n      font-size: 0.95rem; font-weight: 700; color: #0f172a;\n      margin: 0 0 0.75rem 0; padding-bottom: 0.5rem;\n      border-bottom: 1px solid #f1f5f9;\n    }\n    .section-num {\n      width: 24px; height: 24px; border-radius: 50%;\n      background: #dcfce7; color: #16A34A;\n      display: flex; align-items: center; justify-content: center;\n      font-size: 0.75rem; font-weight: 700; flex-shrink: 0;\n    }\n    .btn-edit {\n      margin-left: auto; background: none; border: none; padding: 0.25rem;\n      color: #16A34A; cursor: pointer; display: flex; align-items: center; justify-content: center;\n    }\n    .btn-edit:hover { color: #15803d; }\n    .btn-edit svg { width: 18px; height: 18px; }\n\n    .summary-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem 1.5rem; }\n    .summary-item { display: flex; flex-direction: column; gap: 0.15rem; }\n    .summary-item.full-width { grid-column: 1 / -1; }\n    .item-label { font-size: 0.75rem; color: #94a3b8; font-weight: 500; text-transform: uppercase; letter-spacing: 0.02em; }\n    .item-value { font-size: 0.875rem; color: #0f172a; }\n\n    .no-data { font-size: 0.85rem; color: #94a3b8; font-style: italic; }\n\n    .tiers-table { display: flex; flex-direction: column; }\n    .tier-row {\n      display: grid; grid-template-columns: 2fr 1fr 1fr 1fr;\n      gap: 0.5rem; padding: 0.5rem 0; font-size: 0.85rem; color: #475569;\n      border-bottom: 1px solid #f1f5f9;\n    }\n    .tier-row:last-child { border-bottom: none; }\n    .tier-header-row { font-weight: 600; color: #94a3b8; font-size: 0.75rem; text-transform: uppercase; }\n    .tier-name { font-weight: 600; color: #0f172a; }\n\n    .launch-section {\n      display: flex; align-items: center; justify-content: space-between; gap: 1rem;\n      padding: 1rem 1.25rem; border-radius: 10px;\n      background: #f0fdf4; border: 1px solid #bbf7d0;\n    }\n    .launch-info { flex: 1; min-width: 0; }\n    .launch-text { font-size: 0.9rem; color: #15803d; margin: 0; line-height: 1.5; }\n    .btn-launch-cta {\n      flex-shrink: 0;\n      padding: 0.5rem 1.25rem; border: none; border-radius: 6px;\n      background: #16A34A; color: white; font-size: 0.85rem; font-weight: 600;\n      cursor: pointer; transition: all 0.15s;\n    }\n    .btn-launch-cta:hover:not(:disabled) { background: #15803d; }\n    .btn-launch-cta:disabled { opacity: 0.6; cursor: not-allowed; }\n  `]\n})\nexport class StepSummaryComponent {\n  @Input() form!: FormGroup;\n  @Input() isScheduledLaunch = false;\n  @Input() isFormValidForLaunch = false;\n  @Input() launching = false;\n  @Output() goToStep = new EventEmitter<number>();\n  @Output() launch = new EventEmitter<void>();\n\n  launchError = '';\n\n  get formValue(): any {\n    return this.form.getRawValue();\n  }\n\n  get tiersValue(): any[] {\n    const tiers = this.form.get('tiers') as FormArray;\n    return tiers ? tiers.getRawValue() : [];\n  }\n\n  get enabledDays(): string[] {\n    const schedules = this.form.get('weeklySchedules') as FormArray;\n    if (!schedules) return [];\n    return schedules.getRawValue()\n      .filter((s: any) => s.enabled)\n      .map((s: any) => {\n        const label = s.dayOfWeek.charAt(0) + s.dayOfWeek.slice(1).toLowerCase();\n        const time = s.startTime && s.endTime ? ` (${s.startTime}–${s.endTime})` : '';\n        return label + time;\n      });\n  }\n\n\n  formatCashbackType(): string {\n    const type = this.formValue.cashbackType;\n    if (type === 'PERCENTAGE') return 'Percentage (%)';\n    if (type === 'BONUS_POINTS') return 'Bonus Points';\n    return '—';\n  }\n\n  formatCashbackValue(): string {\n    const type = this.formValue.cashbackType;\n    const value = this.formValue.cashbackValue;\n    if (!value && value !== 0) return '—';\n    if (type === 'PERCENTAGE') return `${value}%`;\n    if (type === 'BONUS_POINTS') {\n      const threshold = this.formValue.pointsSpendThreshold;\n      return threshold ? `${value} point(s) per ${threshold} spent` : `${value} points`;\n    }\n    return String(value);\n  }\n\n  formatEligibility(): string {\n    const map: Record<string, string> = {\n      ALL: 'All transactions',\n      SPECIFIC_ITEMS: 'Specific items',\n      SPECIFIC_CATEGORIES: 'Specific categories',\n      SPECIFIC_SERVICES: 'Specific services'\n    };\n    return map[this.formValue.eligibilityType] || '—';\n  }\n\n  formatDate(iso: string): string {\n    if (!iso) return '—';\n    try {\n      return new Date(iso).toLocaleString('en-US', {\n        year: 'numeric', month: 'short', day: 'numeric',\n        hour: '2-digit', minute: '2-digit'\n      });\n    } catch {\n      return iso;\n    }\n  }\n}\n", "import { Component, OnInit, OnDestroy, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ReactiveFormsModule, FormBuilder, FormGroup, FormArray, Validators } from '@angular/forms';\nimport { Subject, takeUntil, finalize } from 'rxjs';\n\nimport { PageHeaderService } from '../../../../core/services/page-header.service';\nimport { ToastService } from '../../../../core/services/toast.service';\nimport { RewardProgramsService } from '../../../../core/services/reward-programs.service';\nimport {\n  DayOfWeek,\n  RewardProgramResponse,\n  SaveCashbackDraftRequest,\n  LaunchCashbackProgramRequest,\n  WeeklyScheduleEntry,\n  CashbackTierEntry\n} from '../../../../core/models/reward-program.model';\n\nimport { StepProgramDetailsComponent } from './steps/step-program-details.component';\nimport { StepScheduleComponent } from './steps/step-schedule.component';\nimport { StepRulesComponent } from './steps/step-rules.component';\nimport { StepTiersComponent } from './steps/step-tiers.component';\nimport { StepNotificationsComponent } from './steps/step-notifications.component';\nimport { StepSummaryComponent } from './steps/step-summary.component';\nimport { AlertComponent } from '../../../../shared/components/alert/alert.component';\n\n// ─── Step definitions ────────────────────────────────────────────────\n\ninterface WizardStep {\n  num: number;\n  label: string;\n  hint: string;\n}\n\nconst STEPS: WizardStep[] = [\n  { num: 1, label: 'Program details', hint: 'Define basic information about this cashback program.' },\n  { num: 2, label: 'Schedule', hint: 'Set program dates and weekly active hours.' },\n  { num: 3, label: 'Rules', hint: 'Configure spending rules and redeem limits.' },\n  { num: 4, label: 'Tiers (optional)', hint: 'Optionally add tiers to reward loyal customers.' },\n  { num: 5, label: 'Notifications', hint: 'Preview promotional messaging options.' },\n  { num: 6, label: 'Summary & Launch', hint: 'Review all settings and launch the program.' }\n];\n\nconst ALL_DAYS: DayOfWeek[] = [\n  'MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY', 'SUNDAY'\n];\n\n@Component({\n  selector: 'app-create-program-wizard',\n  standalone: true,\n  imports: [\n    CommonModule, ReactiveFormsModule, AlertComponent,\n    StepProgramDetailsComponent, StepScheduleComponent, StepRulesComponent,\n    StepTiersComponent, StepNotificationsComponent, StepSummaryComponent\n  ],\n  template: `\n    <div class=\"wizard-wrapper\">\n      <div class=\"wizard-layout\">\n        <!-- ====== LEFT: Main content ====== -->\n        <main class=\"wizard-main\">\n          <h2 class=\"step-title\">{{ currentStep }}. {{ STEPS[currentStep - 1].label }}</h2>\n\n          <!-- Global error -->\n          <app-alert *ngIf=\"globalError\" type=\"error\" [dismissible]=\"true\" (dismissed)=\"globalError = ''\">\n            {{ globalError }}\n          </app-alert>\n\n          <!-- Step 1: Program Details -->\n          <app-step-program-details\n            *ngIf=\"currentStep === 1\"\n            [form]=\"form\"\n          ></app-step-program-details>\n\n          <!-- Step 2: Schedule -->\n          <app-step-schedule\n            *ngIf=\"currentStep === 2\"\n            [form]=\"form\"\n          ></app-step-schedule>\n\n          <!-- Step 3: Rules -->\n          <app-step-rules\n            *ngIf=\"currentStep === 3\"\n            [form]=\"form\"\n          ></app-step-rules>\n\n          <!-- Step 4: Tiers -->\n          <app-step-tiers\n            *ngIf=\"currentStep === 4\"\n            [form]=\"form\"\n          ></app-step-tiers>\n\n          <!-- Step 5: Notifications -->\n          <app-step-notifications\n            *ngIf=\"currentStep === 5\"\n          ></app-step-notifications>\n\n          <!-- Step 6: Summary -->\n          <app-step-summary\n            *ngIf=\"currentStep === 6\"\n            [form]=\"form\"\n            [isScheduledLaunch]=\"isScheduledLaunch\"\n            [isFormValidForLaunch]=\"isFormValidForLaunch\"\n            [launching]=\"launching\"\n            (goToStep)=\"goToStep($event)\"\n            (launch)=\"launch()\"\n          ></app-step-summary>\n        </main>\n\n        <!-- ====== RIGHT: Sidebar stepper card ====== -->\n        <aside class=\"steps-sidebar\">\n          <h3 class=\"sidebar-title\">Cashback Program</h3>\n\n          <ul class=\"steps-list\">\n            <li *ngFor=\"let step of STEPS; let last = last\"\n                class=\"step-item\"\n                [class.active]=\"currentStep === step.num\"\n                [class.done]=\"isStepDone(step.num)\"\n                [class.future]=\"currentStep < step.num && !isStepDone(step.num)\"\n                (click)=\"goToStep(step.num)\">\n              <div class=\"step-row\">\n                <span class=\"step-num\">\n                  <ng-container *ngIf=\"isStepDone(step.num)\">\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"3\"><path d=\"M5 13l4 4L19 7\"/></svg>\n                  </ng-container>\n                  <ng-container *ngIf=\"!isStepDone(step.num)\">{{ step.num }}</ng-container>\n                </span>\n                <span class=\"step-label\">{{ step.label }}</span>\n              </div>\n              <!-- Active step hint + next -->\n              <div *ngIf=\"currentStep === step.num\" class=\"step-active-detail\">\n                <p class=\"step-hint\">{{ step.hint }}</p>\n                <button\n                  *ngIf=\"currentStep < STEPS.length\"\n                  type=\"button\"\n                  class=\"btn-next-step\"\n                  (click)=\"nextStep(); $event.stopPropagation()\"\n                >\n                  Next step\n                </button>\n              </div>\n              <!-- Connector -->\n              <div class=\"step-connector\" *ngIf=\"!last\"></div>\n            </li>\n          </ul>\n\n          <!-- Sidebar footer -->\n          <div class=\"sidebar-footer\">\n            <button type=\"button\" class=\"btn-cancel\" (click)=\"onCancel()\">\n              Cancel\n            </button>\n            @if (isFormValidForLaunch) {\n              <button\n                type=\"button\"\n                class=\"btn-save-draft btn-launch\"\n                [disabled]=\"launching\"\n                (click)=\"launch()\"\n              >\n                {{ launching ? 'Launching...' : (isScheduledLaunch ? 'Schedule' : 'Launch now') }}\n              </button>\n            } @else {\n              <button\n                type=\"button\"\n                class=\"btn-save-draft\"\n                [disabled]=\"saving\"\n                (click)=\"saveDraft()\"\n              >\n                {{ saving ? 'Saving...' : 'Save draft' }}\n              </button>\n            }\n          </div>\n        </aside>\n      </div>\n    </div>\n  `,\n  styles: [`\n    :host { display: block; height: 100%; }\n    .wizard-wrapper { min-height: 100%; margin: -2rem; padding: 2rem; background: #f8fafc; }\n\n    /* Layout */\n    .wizard-layout { display: flex; gap: 1.5rem; align-items: flex-start; }\n\n    /* Main panel */\n    .wizard-main {\n      flex: 1; min-width: 0;\n      background: white; border-radius: 12px; border: 1px solid #e2e8f0;\n      padding: 2rem 2.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.04);\n    }\n    .step-title {\n      font-size: 1.25rem; font-weight: 700; color: #0f172a;\n      margin: 0 0 1.5rem 0; padding-bottom: 1rem;\n      border-bottom: 1px solid #e2e8f0;\n    }\n\n    /* Sidebar */\n    .steps-sidebar {\n      flex-shrink: 0; width: 320px;\n      background: white; border-radius: 12px; border: 1px solid #e2e8f0;\n      box-shadow: 0 1px 3px rgba(0,0,0,0.04);\n      padding: 1.75rem; display: flex; flex-direction: column;\n      position: sticky; top: 2rem;\n    }\n    .sidebar-title {\n      font-size: 1.1rem; font-weight: 700; color: #0f172a;\n      margin: 0 0 1.5rem 0; padding-bottom: 1.1rem;\n      border-bottom: 1px solid #e2e8f0;\n    }\n\n    /* Steps list */\n    .steps-list { list-style: none; padding: 0; margin: 0; flex: 1; }\n    .step-item { position: relative; cursor: pointer; }\n    .step-item.future { cursor: pointer; }\n    .step-row { display: flex; align-items: center; gap: 0.85rem; }\n    .step-num {\n      width: 36px; height: 36px; border-radius: 50%;\n      display: flex; align-items: center; justify-content: center;\n      font-size: 0.875rem; font-weight: 700; flex-shrink: 0;\n      background: #f1f5f9; color: #94a3b8;\n      transition: all 0.2s;\n    }\n    .step-num svg { width: 16px; height: 16px; }\n    .step-item.active .step-num { background: #16A34A; color: white; }\n    .step-item.done .step-num { background: #dcfce7; color: #16A34A; }\n    .step-label { font-size: 0.95rem; color: #94a3b8; font-weight: 500; transition: color 0.15s; }\n    .step-item.active .step-label { color: #0f172a; font-weight: 600; }\n    .step-item.done .step-label { color: #64748b; }\n    .step-item:hover .step-label { color: #0f172a; }\n\n    /* Active step detail */\n    .step-active-detail {\n      margin-left: calc(36px + 0.85rem);\n      padding: 0.5rem 0 0.25rem 0;\n    }\n    .step-hint {\n      font-size: 0.85rem; color: #64748b; line-height: 1.45;\n      margin: 0 0 0.85rem 0;\n    }\n    .btn-next-step {\n      display: inline-block; padding: 0.5rem 1.25rem;\n      background: #0f172a; color: white; border: none; border-radius: 6px;\n      font-size: 0.85rem; font-weight: 600; cursor: pointer;\n      transition: background 0.15s;\n    }\n    .btn-next-step:hover { background: #1e293b; }\n\n    /* Connector */\n    .step-connector {\n      width: 2px; height: 20px;\n      background: #e2e8f0; margin: 4px 0 4px 17px;\n      border-radius: 1px;\n    }\n    .step-item.done .step-connector { background: #bbf7d0; }\n\n    /* Footer: Cancel and Save grouped with a small gap between them */\n    .sidebar-footer {\n      display: flex; align-items: center; justify-content: flex-end;\n      gap: 1.25rem; margin-top: 1.5rem; padding-top: 1rem;\n      border-top: 1px solid #e2e8f0;\n    }\n    .btn-cancel {\n      display: inline-flex; align-items: center;\n      font-size: 0.85rem; font-weight: 600; color: #ef4444;\n      text-decoration: none; cursor: pointer; background: none; border: none;\n      transition: color 0.15s;\n    }\n    .btn-cancel:hover { color: #dc2626; }\n    .btn-save-draft {\n      padding: 0.5rem 1.25rem; border: 1px solid #e2e8f0; border-radius: 6px;\n      background: white; color: #0f172a; font-size: 0.85rem; font-weight: 600;\n      cursor: pointer; transition: all 0.15s;\n    }\n    .btn-save-draft:hover { background: #f8fafc; border-color: #cbd5e1; }\n    .btn-save-draft:disabled { opacity: 0.6; cursor: not-allowed; }\n    .btn-save-draft.btn-launch {\n      background: #16A34A; color: white; border-color: #16A34A;\n    }\n    .btn-save-draft.btn-launch:hover:not(:disabled) { background: #15803d; border-color: #15803d; }\n\n    /* Responsive */\n    @media (max-width: 768px) {\n      .wizard-layout { flex-direction: column; }\n      .steps-sidebar { width: 100%; order: -1; position: static; }\n    }\n  `]\n})\nexport class CreateProgramWizardComponent implements OnInit, OnDestroy {\n  private pageHeaderService = inject(PageHeaderService);\n  private route = inject(ActivatedRoute);\n  private router = inject(Router);\n  private fb = inject(FormBuilder);\n  private toast = inject(ToastService);\n  private rewardProgramsService = inject(RewardProgramsService);\n  private destroy$ = new Subject<void>();\n\n  readonly STEPS = STEPS;\n  currentStep = 1;\n  /** Highest step number the user has opened (by next or by clicking). Used so optional steps only show green after visit. */\n  maxStepVisited = 1;\n  draftUuid = '';\n  saving = false;\n  launching = false;\n  globalError = '';\n\n  form!: FormGroup;\n\n  get stepsBaseUrl(): string {\n    return `/bonus-program/create/cashback/${this.draftUuid}/steps`;\n  }\n\n  /** Step shows green + check only if user has visited it AND the step is valid (mandatory filled, or optional with no invalid data e.g. tiers). */\n  isStepDone(stepNum: number): boolean {\n    if (this.maxStepVisited < stepNum) return false;\n    return this.isStepComplete(stepNum);\n  }\n\n  /** True if this step is complete: required fields valid; for step 4, tiers array valid if any. */\n  isStepComplete(stepNum: number): boolean {\n    if (!this.form) return false;\n    switch (stepNum) {\n      case 1: {\n        const name = this.form.get('name');\n        const cashbackType = this.form.get('cashbackType');\n        const cashbackValue = this.form.get('cashbackValue');\n        const pts = this.form.get('pointsSpendThreshold');\n        const type = cashbackType?.value;\n        const nameVal = name?.value;\n        const hasName = typeof nameVal === 'string' && nameVal.trim().length > 0;\n        return !!(hasName && cashbackType?.valid && cashbackValue?.valid\n          && (type !== 'BONUS_POINTS' || (pts?.value != null && Number(pts?.value) > 0)));\n      }\n      case 2: {\n        const start = this.form.get('startDate');\n        const v = start?.value;\n        return !!(start?.valid && v != null && String(v).trim().length > 0);\n      }\n      case 3: {\n        const minSpend = this.form.get('minSpendAmount');\n        return minSpend?.valid === true;\n      }\n      case 4: {\n        const tiers = this.form.get('tiers') as FormArray;\n        return tiers?.valid === true;\n      }\n      case 5:\n      case 6:\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  /** True when all mandatory fields for launch are filled; then show Launch/Schedule on any step. */\n  get isFormValidForLaunch(): boolean {\n    if (!this.form) return false;\n    return this.isStepComplete(1) && this.isStepComplete(2) && (this.form.get('tiers') as FormArray)?.valid !== false;\n  }\n\n  ngOnInit(): void {\n    this.route.paramMap.pipe(takeUntil(this.destroy$)).subscribe(params => {\n      this.draftUuid = params.get('uuid') ?? '';\n      const stepParam = params.get('step');\n      if (stepParam) {\n        const step = parseInt(stepParam, 10);\n        if (step >= 1 && step <= STEPS.length) {\n          this.currentStep = step;\n          this.maxStepVisited = Math.max(this.maxStepVisited, step);\n        } else {\n          this.router.navigate(['/bonus-program', 'create', 'cashback', this.draftUuid, 'steps', '1'], { replaceUrl: true });\n        }\n      }\n    });\n\n    this.pageHeaderService.setPageHeader('Create Cashback Program', [\n      { label: 'Home', route: '/home' },\n      { label: 'Reward Programs', route: '/bonus-program' },\n      { label: 'Create Cashback Program' }\n    ]);\n\n    this.buildForm();\n    this.loadExistingDraft();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  // ─── Form building ─────────────────────────────────────────────────\n\n  private buildForm(): void {\n    this.form = this.fb.group({\n      // Step 1: Details\n      name: ['', Validators.required],\n      description: [''],\n      cashbackType: ['', Validators.required],\n      cashbackValue: [null, [Validators.required, Validators.min(0)]],\n      pointsSpendThreshold: [null],\n\n      // Step 2: Schedule\n      startDate: ['', Validators.required],\n      endDate: [''],\n      weeklySchedules: this.fb.array(\n        ALL_DAYS.map(day => {\n          const isWeekday = ['MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY'].includes(day);\n          return this.fb.group({\n            dayOfWeek: [day],\n            enabled: [isWeekday],\n            startTime: ['08:00'],\n            endTime: ['18:00']\n          });\n        })\n      ),\n\n      // Step 3: Rules\n      minSpendAmount: [0, Validators.min(0)],\n      eligibilityType: ['ALL'],\n      redeemLimitPercent: [100],\n      bonusLifespanDays: [null],\n\n      // Step 4: Tiers\n      tiers: this.fb.array([])\n    });\n  }\n\n  // ─── Load existing draft from backend ──────────────────────────────\n\n  private loadExistingDraft(): void {\n    if (!this.draftUuid) return;\n\n    this.rewardProgramsService.getProgram(this.draftUuid)\n      .pipe(takeUntil(this.destroy$))\n      .subscribe({\n        next: (program) => {\n          if (program.status !== 'DRAFT') {\n            this.router.navigate(['/bonus-program', 'view', program.uuid], { replaceUrl: true });\n            return;\n          }\n          this.patchFormFromResponse(program);\n        },\n        error: () => {} // Draft might not have data yet — that's fine\n      });\n  }\n\n  private patchFormFromResponse(p: RewardProgramResponse): void {\n    this.form.patchValue({\n      name: p.name || '',\n      description: p.description || '',\n      startDate: p.startDate ? this.toLocalDatetime(p.startDate) : '',\n      endDate: p.endDate ? this.toLocalDatetime(p.endDate) : ''\n    });\n\n    // Cashback rule\n    if (p.cashbackRule) {\n      this.form.patchValue({\n        cashbackType: p.cashbackRule.cashbackType,\n        cashbackValue: p.cashbackRule.cashbackValue,\n        pointsSpendThreshold: p.cashbackRule.pointsSpendThreshold,\n        minSpendAmount: p.cashbackRule.minSpendAmount,\n        eligibilityType: p.cashbackRule.eligibilityType,\n        redeemLimitPercent: p.cashbackRule.redeemLimitPercent,\n        bonusLifespanDays: p.cashbackRule.bonusLifespanDays\n      });\n    }\n\n    // Weekly schedules\n    if (p.weeklySchedules && p.weeklySchedules.length > 0) {\n      const schedulesArray = this.form.get('weeklySchedules') as FormArray;\n      p.weeklySchedules.forEach(ws => {\n        const dayIndex = ALL_DAYS.indexOf(ws.dayOfWeek);\n        if (dayIndex >= 0) {\n          schedulesArray.at(dayIndex).patchValue({\n            enabled: ws.enabled,\n            startTime: ws.startTime || '08:00',\n            endTime: ws.endTime || '22:00'\n          });\n        }\n      });\n    }\n\n    // Tiers\n    if (p.cashbackTiers && p.cashbackTiers.length > 0) {\n      const tiersArray = this.form.get('tiers') as FormArray;\n      tiersArray.clear();\n      p.cashbackTiers.forEach(t => {\n        tiersArray.push(this.fb.group({\n          name: [t.name, Validators.required],\n          minAmount: [t.minAmount, [Validators.required, Validators.min(0)]],\n          maxAmount: [t.maxAmount],\n          extraEarningPercent: [t.extraEarningPercent, [Validators.required, Validators.min(0)]],\n          sortOrder: [t.sortOrder]\n        }));\n      });\n    }\n  }\n\n  private toLocalDatetime(iso: string): string {\n    if (!iso) return '';\n    try {\n      const d = new Date(iso);\n      const pad = (n: number) => n.toString().padStart(2, '0');\n      return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}T${pad(d.getHours())}:${pad(d.getMinutes())}`;\n    } catch {\n      return iso;\n    }\n  }\n\n  // ─── Navigation ────────────────────────────────────────────────────\n\n  goToStep(step: number): void {\n    if (step >= 1 && step <= STEPS.length) {\n      this.router.navigate(['/bonus-program', 'create', 'cashback', this.draftUuid, 'steps', step.toString()]);\n    }\n  }\n\n  nextStep(): void {\n    if (this.currentStep < STEPS.length) {\n      const next = this.currentStep + 1;\n      this.router.navigate(['/bonus-program', 'create', 'cashback', this.draftUuid, 'steps', next.toString()]);\n    }\n  }\n\n  onCancel(): void {\n    if (!this.draftUuid) {\n      this.router.navigate(['/bonus-program']);\n      return;\n    }\n    this.rewardProgramsService.deleteProgram(this.draftUuid).subscribe({\n      next: () => this.router.navigate(['/bonus-program']),\n      error: () => this.router.navigate(['/bonus-program'])\n    });\n  }\n\n  // ─── Build request payload ─────────────────────────────────────────\n\n  private buildSaveDraftPayload(): SaveCashbackDraftRequest {\n    const v = this.form.getRawValue();\n    const schedules: WeeklyScheduleEntry[] = v.weeklySchedules\n      .filter((s: any) => s.enabled)\n      .map((s: any) => ({\n        dayOfWeek: s.dayOfWeek,\n        enabled: true,\n        startTime: s.startTime || null,\n        endTime: s.endTime || null\n      }));\n\n    const tiers: CashbackTierEntry[] = v.tiers.map((t: any, i: number) => ({\n      name: t.name,\n      minAmount: t.minAmount,\n      maxAmount: t.maxAmount ?? null,\n      extraEarningPercent: t.extraEarningPercent,\n      sortOrder: i\n    }));\n\n    return {\n      name: v.name || undefined,\n      description: v.description || undefined,\n      cashbackType: v.cashbackType || undefined,\n      cashbackValue: v.cashbackValue ?? undefined,\n      pointsSpendThreshold: v.pointsSpendThreshold ?? undefined,\n      minSpendAmount: v.minSpendAmount ?? undefined,\n      eligibilityType: v.eligibilityType || undefined,\n      redeemLimitPercent: v.redeemLimitPercent ?? undefined,\n      bonusLifespanDays: v.bonusLifespanDays ?? undefined,\n      startDate: v.startDate ? new Date(v.startDate).toISOString() : undefined,\n      endDate: v.endDate ? new Date(v.endDate).toISOString() : null,\n      weeklySchedules: schedules.length > 0 ? schedules : undefined,\n      tiers: tiers.length > 0 ? tiers : undefined\n    };\n  }\n\n  // ─── Save Draft ────────────────────────────────────────────────────\n\n  saveDraft(): void {\n    if (!this.draftUuid || this.saving) return;\n\n    this.saving = true;\n    this.globalError = '';\n    const payload = this.buildSaveDraftPayload();\n\n    this.rewardProgramsService.saveCashbackDraft(this.draftUuid, payload)\n      .pipe(\n        takeUntil(this.destroy$),\n        finalize(() => this.saving = false)\n      )\n      .subscribe({\n        next: () => {\n          this.toast.success('Draft saved');\n          this.router.navigate(['/bonus-program']);\n        },\n        error: (err) => {\n          const status = err?.status ?? 0;\n          const message = err?.error?.message || 'Failed to save draft. Please try again.';\n          if (status >= 500) {\n            this.toast.error(message);\n          } else {\n            this.globalError = message;\n          }\n        }\n      });\n  }\n\n  // ─── Launch ────────────────────────────────────────────────────────\n\n  get isScheduledLaunch(): boolean {\n    const startDate = this.form.get('startDate')?.value;\n    if (!startDate) return false;\n    return new Date(startDate) > new Date();\n  }\n\n  launch(): void {\n    if (!this.draftUuid || this.launching) return;\n\n    // Mark all controls as touched for validation display\n    this.form.markAllAsTouched();\n\n    this.launching = true;\n    this.globalError = '';\n\n    const v = this.form.getRawValue();\n    const schedules: WeeklyScheduleEntry[] = v.weeklySchedules\n      .filter((s: any) => s.enabled)\n      .map((s: any) => ({\n        dayOfWeek: s.dayOfWeek,\n        enabled: true,\n        startTime: s.startTime || null,\n        endTime: s.endTime || null\n      }));\n\n    const tiers: CashbackTierEntry[] = v.tiers.map((t: any, i: number) => ({\n      name: t.name,\n      minAmount: t.minAmount,\n      maxAmount: t.maxAmount ?? null,\n      extraEarningPercent: t.extraEarningPercent,\n      sortOrder: i\n    }));\n\n    // Send all fields so backend applyCashbackData can set them (omit undefined so required are always sent)\n    const payload: LaunchCashbackProgramRequest = {\n      immediate: !this.isScheduledLaunch,\n      name: v.name ?? null,\n      description: v.description ?? null,\n      cashbackType: v.cashbackType ?? null,\n      cashbackValue: v.cashbackValue != null ? Number(v.cashbackValue) : null,\n      pointsSpendThreshold: v.pointsSpendThreshold != null ? Number(v.pointsSpendThreshold) : null,\n      minSpendAmount: v.minSpendAmount != null ? Number(v.minSpendAmount) : null,\n      eligibilityType: v.eligibilityType ?? null,\n      redeemLimitPercent: v.redeemLimitPercent != null ? Number(v.redeemLimitPercent) : null,\n      bonusLifespanDays: v.bonusLifespanDays != null ? Number(v.bonusLifespanDays) : null,\n      startDate: v.startDate ? new Date(v.startDate).toISOString() : null,\n      endDate: v.endDate ? new Date(v.endDate).toISOString() : null,\n      weeklySchedules: schedules.length > 0 ? schedules : null,\n      tiers: tiers.length > 0 ? tiers : null\n    };\n\n    this.rewardProgramsService.launchCashbackProgram(this.draftUuid, payload)\n      .pipe(\n        takeUntil(this.destroy$),\n        finalize(() => this.launching = false)\n      )\n      .subscribe({\n        next: () => {\n          this.toast.success(this.isScheduledLaunch ? 'Program scheduled' : 'Program launched');\n          this.router.navigate(['/bonus-program']);\n        },\n        error: (err) => {\n          const status = err?.status ?? 0;\n          const message = err?.error?.message || 'Failed to launch program. Please review your configuration.';\n          if (status >= 500) {\n            this.toast.error(message);\n          } else {\n            this.globalError = message;\n          }\n        }\n      });\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CQ,IAAA,yBAAA,GAAA,KAAA,CAAA;AACE,IAAA,iBAAA,GAAA,0EAAA;AACF,IAAA,uBAAA;;;;;AACA,IAAA,yBAAA,GAAA,KAAA,CAAA;AACE,IAAA,iBAAA,GAAA,kGAAA;AACF,IAAA,uBAAA;;;;;AAGF,IAAA,yBAAA,GAAA,OAAA,CAAA;AACE,IAAA,oBAAA,GAAA,aAAA,EAAA;AAUF,IAAA,uBAAA;;;;AAHI,IAAA,oBAAA;AAAA,IAAA,qBAAA,YAAA,IAAA,EAAiB,gBAAA,OAAA,SAAA,eAAA,CAAA;;;;;AAKrB,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAiF,GAAA,OAAA,EAAA;AAE7E,IAAA,oBAAA,GAAA,aAAA,EAAA;AAUF,IAAA,uBAAA;AACA,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,oBAAA,GAAA,aAAA,EAAA;AAUF,IAAA,uBAAA,EAAM;;;;AAhBF,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,YAAA,IAAA,EAAiB,gBAAA,OAAA,SAAA,eAAA,CAAA;AAYjB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,YAAA,IAAA,EAAiB,gBAAA,OAAA,SAAA,sBAAA,CAAA;;;AAyBvB,IAAO,8BAAP,MAAO,6BAA2B;EAC7B;EAET,sBAAsC;IACpC,EAAE,OAAO,cAAc,OAAO,iBAAgB;IAC9C,EAAE,OAAO,gBAAgB,OAAO,eAAc;;EAGhD,SAAS,OAAa;AACpB,UAAM,UAAU,KAAK,KAAK,IAAI,KAAK;AACnC,QAAI,WAAW,QAAQ,WAAW,QAAQ,SAAS;AACjD,UAAI,QAAQ,SAAS,UAAU;AAAG,eAAO;AACzC,UAAI,QAAQ,SAAS,KAAK;AAAG,eAAO,oBAAoB,QAAQ,OAAO,KAAK,EAAE,GAAG;AACjF,UAAI,QAAQ,SAAS,KAAK;AAAG,eAAO,oBAAoB,QAAQ,OAAO,KAAK,EAAE,GAAG;IACnF;AACA,WAAO;EACT;;qCAhBW,8BAA2B;EAAA;yEAA3B,8BAA2B,WAAA,CAAA,CAAA,0BAAA,CAAA,GAAA,QAAA,EAAA,MAAA,OAAA,GAAA,OAAA,IAAA,MAAA,IAAA,QAAA,CAAA,CAAA,GAAA,aAAA,GAAA,WAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,MAAA,eAAA,SAAA,gBAAA,eAAA,yBAAA,mBAAA,QAAA,GAAA,YAAA,cAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,QAAA,KAAA,eAAA,+CAAA,mBAAA,eAAA,GAAA,gBAAA,GAAA,CAAA,MAAA,gBAAA,SAAA,iBAAA,eAAA,wBAAA,mBAAA,gBAAA,GAAA,WAAA,YAAA,cAAA,GAAA,CAAA,SAAA,cAAA,GAAA,MAAA,GAAA,CAAA,SAAA,cAAA,GAAA,MAAA,GAAA,CAAA,SAAA,YAAA,GAAA,MAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,MAAA,iBAAA,SAAA,qBAAA,QAAA,UAAA,eAAA,UAAA,UAAA,KAAA,mBAAA,iBAAA,GAAA,YAAA,cAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,GAAA,cAAA,QAAA,GAAA,CAAA,MAAA,iBAAA,SAAA,iBAAA,QAAA,UAAA,eAAA,UAAA,mBAAA,iBAAA,QAAA,gCAAA,GAAA,YAAA,cAAA,GAAA,CAAA,MAAA,wBAAA,SAAA,oBAAA,QAAA,UAAA,eAAA,aAAA,mBAAA,wBAAA,QAAA,8CAAA,GAAA,YAAA,cAAA,CAAA,GAAA,UAAA,SAAA,qCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAlGpC,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA0C,GAAA,OAAA,CAAA;AAEtC,MAAA,oBAAA,GAAA,aAAA,CAAA;AAQF,MAAA,uBAAA;AAEA,MAAA,yBAAA,GAAA,OAAA,CAAA,EAAwB,GAAA,SAAA,CAAA;AACK,MAAA,iBAAA,GAAA,aAAA;AAAW,MAAA,uBAAA;AACtC,MAAA,oBAAA,GAAA,YAAA,CAAA;AAMF,MAAA,uBAAA;AAEA,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,oBAAA,GAAA,cAAA,CAAA;AASA,MAAA,qBAAA,GAAA,0CAAA,GAAA,GAAA,KAAA,CAAA,EAA+E,IAAA,2CAAA,GAAA,GAAA,KAAA,CAAA;AAMjF,MAAA,uBAAA;AAEA,MAAA,qBAAA,IAAA,6CAAA,GAAA,GAAA,OAAA,CAAA,EAAiF,IAAA,6CAAA,GAAA,GAAA,OAAA,CAAA;AAuCnF,MAAA,uBAAA;;;;;;;AA/EuB,MAAA,qBAAA,aAAA,IAAA,IAAA;AAOjB,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,YAAA,IAAA,EAAiB,gBAAA,IAAA,SAAA,MAAA,CAAA;AAqBjB,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,mBAAA,EAA+B,YAAA,IAAA,EACd,gBAAA,IAAA,SAAA,cAAA,CAAA;AAGI,MAAA,oBAAA;AAAA,MAAA,qBAAA,UAAA,UAAA,IAAA,KAAA,IAAA,cAAA,MAAA,OAAA,OAAA,QAAA,WAAA,YAAA;AAGA,MAAA,oBAAA;AAAA,MAAA,qBAAA,UAAA,UAAA,IAAA,KAAA,IAAA,cAAA,MAAA,OAAA,OAAA,QAAA,WAAA,cAAA;AAKA,MAAA,oBAAA;AAAA,MAAA,qBAAA,UAAA,UAAA,IAAA,KAAA,IAAA,cAAA,MAAA,OAAA,OAAA,QAAA,WAAA,YAAA;AAaF,MAAA,oBAAA;AAAA,MAAA,qBAAA,UAAA,UAAA,IAAA,KAAA,IAAA,cAAA,MAAA,OAAA,OAAA,QAAA,WAAA,cAAA;;oBAvDjB,cAAY,MAAE,qBAAmB,sBAAA,iBAAA,sBAAA,mBAAA,oBAAA,iBAAE,gBAAgB,eAAe,GAAA,QAAA,CAAA,gwCAAA,EAAA,CAAA;;;sEAoGjE,6BAA2B,CAAA;UAvGvC;uBACW,4BAA0B,YACxB,MAAI,SACP,CAAC,cAAc,qBAAqB,gBAAgB,eAAe,GAAC,UACnE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAiFT,QAAA,CAAA,gyCAAA,EAAA,CAAA;cAmBQ,MAAI,CAAA;UAAZ;;;;6EADU,6BAA2B,EAAA,WAAA,+BAAA,UAAA,sGAAA,YAAA,IAAA,CAAA;AAAA,GAAA;;;;;AChFhC,IAAA,yBAAA,GAAA,QAAA,CAAA;AAAwC,IAAA,iBAAA,CAAA;AAAW,IAAA,uBAAA;;;;AAAX,IAAA,oBAAA;AAAA,IAAA,4BAAA,OAAA,KAAA;;;AAsE1C,IAAO,kBAAP,MAAO,iBAAe;EACjB,QAAQ;EACR,WAAW;EAEpB,UAAU;EACF,aAAa,CAAC,UAAkB;EAAE;EAClC,cAAc,MAAK;EAAE;EAE7B,SAAS,OAAY;AACnB,UAAM,SAAS,MAAM;AACrB,SAAK,UAAU,OAAO;AACtB,SAAK,WAAW,KAAK,OAAO;EAC9B;EAEA,SAAM;AACJ,SAAK,YAAW;EAClB;EAEA,WAAW,OAAc;AACvB,SAAK,UAAU,SAAS;EAC1B;EAEA,iBAAiB,IAA4B;AAC3C,SAAK,aAAa;EACpB;EAEA,kBAAkB,IAAc;AAC9B,SAAK,cAAc;EACrB;EAEA,iBAAiB,YAAmB;AAClC,SAAK,WAAW;EAClB;;qCAhCW,kBAAe;EAAA;yEAAf,kBAAe,WAAA,CAAA,CAAA,YAAA,CAAA,GAAA,QAAA,EAAA,OAAA,SAAA,UAAA,WAAA,GAAA,UAAA,CAAA,6BA3Ff;IACT;MACE,SAAS;MACT,aAAa,WAAW,MAAM,gBAAe;MAC7C,OAAO;;GAEV,CAAA,GAAA,OAAA,GAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,QAAA,YAAA,GAAA,gBAAA,GAAA,UAAA,QAAA,WAAA,UAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,SAAA,eAAA,GAAA,MAAA,GAAA,CAAA,GAAA,aAAA,CAAA,GAAA,UAAA,SAAA,yBAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAEC,MAAA,yBAAA,GAAA,SAAA,CAAA,EAA0D,GAAA,SAAA,CAAA;AAKtD,MAAA,qBAAA,UAAA,SAAA,iDAAA,QAAA;AAAA,eAAU,IAAA,SAAA,MAAA;MAAgB,CAAA,EAAC,QAAA,SAAA,iDAAA;AAAA,eACnB,IAAA,OAAA;MAAQ,CAAA;AALlB,MAAA,uBAAA;AAQA,MAAA,yBAAA,GAAA,QAAA,CAAA,EAA2B,GAAA,QAAA,CAAA;AAEvB,MAAA,oBAAA,GAAA,QAAA,CAAA;AACF,MAAA,uBAAA;AACA,MAAA,qBAAA,GAAA,iCAAA,GAAA,GAAA,QAAA,CAAA;AACF,MAAA,uBAAA,EAAO;;;AAdqB,MAAA,sBAAA,YAAA,IAAA,QAAA;AAG1B,MAAA,oBAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,OAAA,EAAmB,YAAA,IAAA,QAAA;AAOQ,MAAA,oBAAA,CAAA;AAAA,MAAA,sBAAA,WAAA,IAAA,OAAA;AAGA,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,KAAA;;oBAtBvB,cAAY,MAAE,WAAW,GAAA,QAAA,CAAA,03CAAA,EAAA,CAAA;;;sEA4FxB,iBAAe,CAAA;UA/F3B;uBACW,cAAY,YACV,MAAI,SACP,CAAC,cAAc,WAAW,GAAC,WACzB;MACT;QACE,SAAS;QACT,aAAa,WAAW,MAAK,eAAgB;QAC7C,OAAO;;OAEV,UACS;;;;;;;;;;;;;;;;;KAiBT,QAAA,CAAA,w1CAAA,EAAA,CAAA;cAoEQ,OAAK,CAAA;UAAb;MACQ,UAAQ,CAAA;UAAhB;;;;6EAFU,iBAAe,EAAA,WAAA,mBAAA,UAAA,wDAAA,YAAA,IAAA,CAAA;AAAA,GAAA;;;;;;;ACrEpB,IAAA,yBAAA,GAAA,QAAA,EAAA;AAA6C,IAAA,iBAAA,GAAA,GAAA;AAAC,IAAA,uBAAA;;;;;AAFhD,IAAA,yBAAA,GAAA,SAAA,EAAA;AACE,IAAA,iBAAA,CAAA;AACA,IAAA,qBAAA,GAAA,6CAAA,GAAA,GAAA,QAAA,EAAA;AACA,IAAA,uBAAA,CAAA;AACF,IAAA,uBAAA;;;;AAHE,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,OAAA,GAAA;AACO,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,QAAA;;;;;;AAsBP,IAAA,yBAAA,GAAA,UAAA,EAAA;AAA+E,IAAA,qBAAA,SAAA,SAAA,8DAAA,QAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,WAAA,MAAA,CAAkB;IAAA,CAAA;;AACxG,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4E,IAAA,oBAAA,GAAA,QAAA,EAAA;AAAgC,IAAA,uBAAA,EAAM;;;;;AAqBlH,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyD,IAAA,iBAAA,CAAA;AAAO,IAAA,uBAAA;;;;AAAP,IAAA,oBAAA;AAAA,IAAA,4BAAA,IAAA;;;;;;AAKzD,IAAA,yBAAA,GAAA,UAAA,EAAA;AASE,IAAA,qBAAA,SAAA,SAAA,qEAAA,QAAA;AAAA,YAAA,SAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAAS,OAAA,UAAA,QAAA,MAAA,CAAsB;IAAA,CAAA;AAE/B,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;;AARE,IAAA,sBAAA,eAAA,CAAA,OAAA,cAAA,EAAyC,SAAA,OAAA,OAAA,EACd,YAAA,OAAA,UAAA,EACM,QAAA,OAAA,UAAA,OAAA,WAAA;AAEjC,IAAA,qBAAA,YAAA,OAAA,UAAA,OAAA,WAAA;AAGA,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,MAAA,GAAA;;;;;;AAKJ,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA0C,GAAA,OAAA,EAAA,EACb,GAAA,SAAA,EAAA;AACI,IAAA,iBAAA,GAAA,MAAA;AAAI,IAAA,uBAAA;AACjC,IAAA,yBAAA,GAAA,cAAA,EAAA;AAGE,IAAA,qBAAA,SAAA,SAAA,sEAAA,QAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,aAAA,sBAAS,OAAA,gBAAA,CAAwB;IAAA,CAAA,EAAC,iBAAA,SAAA,8EAAA,QAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAA,aAAA,sBAEjB,OAAA,aAAA,MAAA,CAAoB;IAAA,CAAA;AACtC,IAAA,uBAAA,EAAa,EACV;;;;AANF,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,oBAAA,EAAgC,eAAA,MAAA,EACV,WAAA,OAAA,YAAA;;;;;;AA1C9B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAwC,GAAA,OAAA,EAAA,EAEf,GAAA,QAAA,EAAA;AACO,IAAA,iBAAA,CAAA;AAA0C,IAAA,uBAAA;AACtE,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAoB,GAAA,UAAA,EAAA;AACuB,IAAA,qBAAA,SAAA,SAAA,2DAAA,QAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,UAAA,MAAA,CAAiB;IAAA,CAAA;;AACjE,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4E,IAAA,oBAAA,GAAA,QAAA,EAAA;AAA2B,IAAA,uBAAA,EAAM;;AAE/G,IAAA,yBAAA,GAAA,UAAA,EAAA;AAAyC,IAAA,qBAAA,SAAA,SAAA,2DAAA,QAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,UAAA,MAAA,CAAiB;IAAA,CAAA;;AACjE,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4E,IAAA,oBAAA,IAAA,QAAA,EAAA;AAAyB,IAAA,uBAAA,EAAM,EACpG,EACL;;AAIR,IAAA,yBAAA,IAAA,OAAA,EAAA;AACE,IAAA,qBAAA,IAAA,4CAAA,GAAA,GAAA,QAAA,EAAA;AACF,IAAA,uBAAA;AAGA,IAAA,yBAAA,IAAA,OAAA,EAAA;AACE,IAAA,qBAAA,IAAA,8CAAA,GAAA,IAAA,UAAA,EAAA;AAaF,IAAA,uBAAA;AAGA,IAAA,qBAAA,IAAA,2CAAA,GAAA,GAAA,OAAA,EAAA;AAcA,IAAA,yBAAA,IAAA,OAAA,EAAA,EAAuB,IAAA,UAAA,EAAA;AACsB,IAAA,qBAAA,SAAA,SAAA,4DAAA,QAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,UAAA,MAAA,CAAiB;IAAA,CAAA;AAAE,IAAA,iBAAA,IAAA,OAAA;AAAK,IAAA,uBAAA,EAAS,EACjF;;;;AAlDwB,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,IAAA,OAAA,WAAA,OAAA,SAAA,GAAA,KAAA,OAAA,UAAA,EAAA;AAaR,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,UAAA;AAMF,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,YAAA;AAeM,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,QAAA;;;;;AAmB5B,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAiD,IAAA,iBAAA,CAAA;AAAkB,IAAA,uBAAA;;;;AAAlB,IAAA,oBAAA;AAAA,IAAA,4BAAA,OAAA,YAAA;;;AA4HjD,IAAO,sBAAP,MAAO,qBAAmB;EA6BV;EA5BX,KAAK;EACL,QAAQ;EACR,cAAc;EACd,WAAW;EACX,WAAW;EACX,eAAe;EACf,YAAY;EACZ,WAAW;;EAEX,cAAc;EAEvB,QAAQ;;EACR,SAAS;EACT,YAAY;;EACZ,WAAW;EACX,eAA8B,CAAA;EAC9B,eAAe;EAEN,aAAa;IACpB;IAAW;IAAY;IAAS;IAAS;IAAO;IAChD;IAAQ;IAAU;IAAa;IAAW;IAAY;;EAE/C,aAAa,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,IAAI;EACvD,iBAAiC,CAAA;EAEjC,aAAa,CAAC,UAAiB;EAAE;EACjC,cAAc,MAAK;EAAE;EAE7B,YAAoB,YAAsB;AAAtB,SAAA,aAAA;EAAyB;EAE7C,WAAQ;AACN,UAAM,MAAM,oBAAI,KAAI;AACpB,SAAK,YAAY,IAAI,SAAQ;AAC7B,SAAK,WAAW,IAAI,YAAW;AAE/B,QAAI,KAAK,UAAU;AACjB,WAAK,iBAAiB,KAAK,oBAAmB;IAChD;AACA,SAAK,cAAa;EACpB;;EAIQ,gBAAa;AACnB,UAAM,QAAQ,oBAAI,KAAI;AACtB,UAAM,UAAU,KAAK,QAAQ,IAAI,KAAK,KAAK,KAAK,IAAI;AAEpD,UAAM,WAAW,IAAI,KAAK,KAAK,UAAU,KAAK,WAAW,CAAC;AAC1D,UAAM,eAAe,SAAS,OAAM;AACpC,UAAM,cAAc,IAAI,KAAK,KAAK,UAAU,KAAK,YAAY,GAAG,CAAC,EAAE,QAAO;AAG1E,UAAM,gBAAgB,IAAI,KAAK,KAAK,UAAU,KAAK,WAAW,CAAC,EAAE,QAAO;AACxE,UAAM,OAAsB,CAAA;AAE5B,aAAS,IAAI,eAAe,GAAG,KAAK,GAAG,KAAK;AAC1C,YAAM,IAAI,gBAAgB;AAC1B,YAAM,IAAI,KAAK,YAAY;AAC3B,YAAM,IAAI,IAAI,IAAI,KAAK,WAAW,IAAI,KAAK;AAC3C,YAAM,QAAQ,IAAI,IAAI,KAAK;AAC3B,WAAK,KAAK,KAAK,QAAQ,GAAG,OAAO,GAAG,OAAO,OAAO,OAAO,CAAC;IAC5D;AAGA,aAAS,IAAI,GAAG,KAAK,aAAa,KAAK;AACrC,WAAK,KAAK,KAAK,QAAQ,GAAG,KAAK,WAAW,KAAK,UAAU,MAAM,OAAO,OAAO,CAAC;IAChF;AAGA,UAAM,YAAY,KAAK,KAAK;AAC5B,aAAS,IAAI,GAAG,KAAK,WAAW,KAAK;AACnC,YAAM,IAAI,KAAK,YAAY;AAC3B,YAAM,IAAI,IAAI,KAAK,KAAK,WAAW,IAAI,KAAK;AAC5C,YAAM,QAAQ,IAAI,KAAK,IAAI;AAC3B,WAAK,KAAK,KAAK,QAAQ,GAAG,OAAO,GAAG,OAAO,OAAO,OAAO,CAAC;IAC5D;AAEA,SAAK,eAAe;EACtB;EAEQ,QAAQ,MAAc,OAAe,MAAc,WAAoB,OAAa,KAAgB;AAC1G,UAAM,IAAI,IAAI,KAAK,MAAM,OAAO,IAAI;AACpC,UAAM,aAAa,IAAI,KAAK,MAAM,YAAW,GAAI,MAAM,SAAQ,GAAI,MAAM,QAAO,CAAE;AAClF,WAAO;MACL;MAAM;MAAO;MACb,gBAAgB;MAChB,SAAS,EAAE,QAAO,MAAO,WAAW,QAAO;MAC3C,YAAY,MAAO,EAAE,QAAO,MAAO,IAAI,QAAO,KAAM,EAAE,SAAQ,MAAO,IAAI,SAAQ,KAAM,EAAE,YAAW,MAAO,IAAI,YAAW,IAAM;MAChI,QAAQ,IAAI;;EAEhB;;EAIA,UAAU,OAAY;AACpB,UAAM,gBAAe;AACrB,SAAK;AACL,QAAI,KAAK,YAAY,GAAG;AAAE,WAAK,YAAY;AAAI,WAAK;IAAY;AAChE,SAAK,cAAa;EACpB;EAEA,UAAU,OAAY;AACpB,UAAM,gBAAe;AACrB,SAAK;AACL,QAAI,KAAK,YAAY,IAAI;AAAE,WAAK,YAAY;AAAG,WAAK;IAAY;AAChE,SAAK,cAAa;EACpB;EAEA,UAAU,OAAY;AACpB,UAAM,gBAAe;AACrB,UAAM,MAAM,oBAAI,KAAI;AACpB,SAAK,YAAY,IAAI,SAAQ;AAC7B,SAAK,WAAW,IAAI,YAAW;AAE/B,UAAM,MAAM,CAAC,MAAc,EAAE,SAAQ,EAAG,SAAS,GAAG,GAAG;AACvD,UAAM,UAAU,GAAG,IAAI,YAAW,CAAE,IAAI,IAAI,IAAI,SAAQ,IAAK,CAAC,CAAC,IAAI,IAAI,IAAI,QAAO,CAAE,CAAC;AAErF,QAAI,KAAK,UAAU;AACjB,YAAM,UAAU,IAAI,WAAU;AAC9B,YAAM,IAAI,UAAU,KAAK,IAAI,SAAQ,IAAK,IAAI,SAAQ,IAAK;AAC3D,YAAM,IAAI,UAAU,KAAK,KAAK;AAC9B,YAAM,OAAO,KAAK,KAAK,KAAK;AAC5B,YAAM,MAAM,KAAK,KAAK,KAAK;AAC3B,WAAK,eAAe,GAAG,IAAI,IAAI,CAAC,IAAI,IAAI,GAAG,CAAC;AAC5C,WAAK,QAAQ,GAAG,OAAO,IAAI,KAAK,YAAY;IAC9C,OAAO;AACL,WAAK,QAAQ;IACf;AAEA,SAAK,WAAW,KAAK,KAAK;AAC1B,SAAK,cAAa;EACpB;;EAIA,UAAU,KAAkB,OAAY;AACtC,UAAM,gBAAe;AACrB,QAAI,IAAI,UAAU,KAAK;AAAa;AAEpC,UAAM,MAAM,CAAC,MAAc,EAAE,SAAQ,EAAG,SAAS,GAAG,GAAG;AACvD,UAAM,UAAU,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,QAAQ,CAAC,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC;AAElE,QAAI,YAAY,KAAK;AACrB,QAAI,KAAK,YAAY,IAAI,WAAW,KAAK,aAAa;AACpD,YAAM,OAAO,KAAK,oBAAmB;AACrC,UAAI;AAAM,oBAAY;AACtB,WAAK,eAAe;IACtB;AAEA,QAAI,KAAK,UAAU;AACjB,WAAK,QAAQ,GAAG,OAAO,IAAI,SAAS;IACtC,OAAO;AACL,WAAK,QAAQ;IACf;AAEA,SAAK,WAAW,KAAK,KAAK;AAC1B,SAAK,YAAY,IAAI;AACrB,SAAK,WAAW,IAAI;AACpB,SAAK,cAAa;AAElB,QAAI,CAAC,KAAK,UAAU;AAClB,WAAK,SAAS;IAChB;EACF;EAEA,aAAa,MAAY;AACvB,QAAI,KAAK,OAAO;AACd,YAAM,WAAW,KAAK,MAAM,MAAM,GAAG,EAAE,CAAC;AACxC,UAAI,YAAY;AAChB,UAAI,KAAK,YAAY,KAAK,eAAe,KAAK,oBAAmB,GAAI;AACnE,cAAM,OAAO,KAAK,oBAAmB;AACrC,YAAI,QAAQ,KAAK,aAAa,IAAI,GAAG;AACnC,sBAAY;QACd;MACF;AACA,WAAK,eAAe;AACpB,WAAK,QAAQ,GAAG,QAAQ,IAAI,SAAS;AACrC,WAAK,WAAW,KAAK,KAAK;IAC5B,OAAO;AACL,WAAK,eAAe;IACtB;EACF;EAEQ,aAAa,SAAe;AAClC,UAAM,CAAC,GAAG,CAAC,IAAI,QAAQ,MAAM,GAAG,EAAE,IAAI,MAAM;AAC5C,UAAM,MAAM,oBAAI,KAAI;AACpB,UAAM,iBAAiB,IAAI,SAAQ,IAAK,KAAK,IAAI,WAAU;AAC3D,UAAM,cAAc,IAAI,KAAK;AAC7B,WAAO,cAAc;EACvB;EAEA,iBAAc;AACZ,QAAI,KAAK;AAAU;AACnB,SAAK,SAAS,CAAC,KAAK;AACpB,QAAI,KAAK,QAAQ;AAEf,UAAI,KAAK,OAAO;AACd,cAAM,IAAI,IAAI,KAAK,KAAK,KAAK;AAC7B,YAAI,CAAC,MAAM,EAAE,QAAO,CAAE,GAAG;AACvB,eAAK,YAAY,EAAE,SAAQ;AAC3B,eAAK,WAAW,EAAE,YAAW;AAC7B,cAAI,KAAK,UAAU;AACjB,kBAAM,MAAM,CAAC,MAAc,EAAE,SAAQ,EAAG,SAAS,GAAG,GAAG;AACvD,gBAAI,IAAI,GAAG,IAAI,EAAE,SAAQ,CAAE,CAAC,IAAI,IAAI,EAAE,WAAU,CAAE,CAAC;AACnD,gBAAI,KAAK,eAAe,KAAK,oBAAmB,GAAI;AAClD,oBAAM,OAAO,KAAK,oBAAmB;AACrC,kBAAI,MAAM;AACR,oBAAI;AACJ,sBAAM,WAAW,KAAK,MAAM,MAAM,GAAG,EAAE,CAAC;AACxC,qBAAK,QAAQ,GAAG,QAAQ,IAAI,CAAC;AAC7B,qBAAK,WAAW,KAAK,KAAK;cAC5B;YACF;AACA,iBAAK,eAAe;UACtB;QACF;MACF;AACA,WAAK,cAAa;IACpB;EACF;EAEA,WAAW,OAAY;AACrB,UAAM,gBAAe;AACrB,SAAK,QAAQ;AACb,SAAK,WAAW,KAAK,KAAK;EAC5B;;EAIA,cAAc,KAAW;AACvB,QAAI,CAAC;AAAK,aAAO;AACjB,QAAI;AACF,YAAM,IAAI,IAAI,KAAK,GAAG;AACtB,UAAI,MAAM,EAAE,QAAO,CAAE;AAAG,eAAO;AAC/B,YAAM,OAAmC,EAAE,MAAM,WAAW,OAAO,SAAS,KAAK,UAAS;AAC1F,UAAI,KAAK,UAAU;AACjB,aAAK,OAAO;AACZ,aAAK,SAAS;MAChB;AACA,aAAO,EAAE,eAAe,SAAS,IAAI;IACvC,QAAQ;AACN,aAAO;IACT;EACF;;EAIQ,sBAAmB;AACzB,UAAM,UAA0B,CAAA;AAChC,aAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AAC3B,YAAM,OAAO,EAAE,SAAQ,EAAG,SAAS,GAAG,GAAG;AACzC,cAAQ,KAAK,EAAE,OAAO,GAAG,IAAI,OAAO,OAAO,GAAG,IAAI,MAAK,CAAE;AACzD,cAAQ,KAAK,EAAE,OAAO,GAAG,IAAI,OAAO,OAAO,GAAG,IAAI,MAAK,CAAE;IAC3D;AACA,WAAO;EACT;EAEQ,sBAAmB;AACzB,QAAI,CAAC,KAAK;AAAO,aAAO;AACxB,UAAM,IAAI,IAAI,KAAK,KAAK,KAAK;AAC7B,QAAI,MAAM,EAAE,QAAO,CAAE;AAAG,aAAO;AAC/B,UAAM,QAAQ,oBAAI,KAAI;AACtB,WAAO,EAAE,YAAW,MAAO,MAAM,YAAW,KAAM,EAAE,SAAQ,MAAO,MAAM,SAAQ,KAAM,EAAE,QAAO,MAAO,MAAM,QAAO;EACtH;EAEQ,sBAAmB;AACzB,UAAM,MAAM,oBAAI,KAAI;AACpB,UAAM,MAAM,IAAI,WAAU;AAC1B,UAAM,IAAI,MAAM,KAAK,IAAI,SAAQ,IAAK,IAAI,SAAQ,IAAK;AACvD,UAAM,IAAI,MAAM,KAAK,KAAK;AAC1B,QAAI,KAAK;AAAI,aAAO;AACpB,UAAM,MAAM,CAAC,MAAc,EAAE,SAAQ,EAAG,SAAS,GAAG,GAAG;AACvD,WAAO,GAAG,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC;EAC5B;;EAGA,IAAI,uBAAoB;AACtB,QAAI,CAAC,KAAK,YAAY,CAAC,KAAK,eAAe,CAAC,KAAK;AAAO,aAAO,KAAK;AACpE,UAAM,QAAQ,oBAAI,KAAI;AACtB,UAAM,aAAa,IAAI,KAAK,MAAM,YAAW,GAAI,MAAM,SAAQ,GAAI,MAAM,QAAO,CAAE;AAClF,UAAM,UAAU,IAAI,KAAK,KAAK,KAAK;AACnC,QAAI,MAAM,QAAQ,QAAO,CAAE;AAAG,aAAO,KAAK;AAC1C,UAAM,cAAc,IAAI,KAAK,QAAQ,YAAW,GAAI,QAAQ,SAAQ,GAAI,QAAQ,QAAO,CAAE;AACzF,QAAI,YAAY,QAAO,MAAO,WAAW,QAAO;AAAI,aAAO,KAAK;AAEhE,UAAM,MAAM,oBAAI,KAAI;AACpB,UAAM,iBAAiB,IAAI,SAAQ,IAAK,KAAK,IAAI,WAAU;AAC3D,WAAO,KAAK,eAAe,OAAO,SAAM;AACtC,YAAM,CAAC,GAAG,CAAC,IAAK,IAAI,MAAiB,MAAM,GAAG,EAAE,IAAI,MAAM;AAC1D,YAAM,cAAc,IAAI,KAAK;AAC7B,aAAO,cAAc;IACvB,CAAC;EACH;;EAKA,gBAAgB,OAAY;AAC1B,QAAI,CAAC,KAAK,WAAW,cAAc,SAAS,MAAM,MAAM,GAAG;AACzD,WAAK,SAAS;IAChB;EACF;;EAIA,WAAW,OAAa;AACtB,SAAK,QAAQ,SAAS;AACtB,QAAI,KAAK,SAAS,KAAK,UAAU;AAC/B,UAAI;AACF,cAAM,IAAI,IAAI,KAAK,KAAK,KAAK;AAC7B,YAAI,CAAC,MAAM,EAAE,QAAO,CAAE,GAAG;AACvB,gBAAM,MAAM,CAAC,MAAc,EAAE,SAAQ,EAAG,SAAS,GAAG,GAAG;AACvD,cAAI,IAAI,GAAG,IAAI,EAAE,SAAQ,CAAE,CAAC,IAAI,IAAI,EAAE,WAAU,CAAE,CAAC;AACnD,cAAI,KAAK,eAAe,KAAK,oBAAmB,GAAI;AAClD,kBAAM,OAAO,KAAK,oBAAmB;AACrC,gBAAI,MAAM;AACR,kBAAI;AACJ,oBAAM,WAAW,KAAK,MAAM,MAAM,GAAG,EAAE,CAAC;AACxC,mBAAK,QAAQ,GAAG,QAAQ,IAAI,CAAC;AAC7B,mBAAK,WAAW,KAAK,KAAK;YAC5B;UACF;AACA,eAAK,eAAe;QACtB;MACF,QAAQ;MAAe;IACzB;EACF;EAEA,iBAAiB,IAA2B;AAC1C,SAAK,aAAa;EACpB;EAEA,kBAAkB,IAAc;AAC9B,SAAK,cAAc;EACrB;EAEA,iBAAiB,YAAmB;AAClC,SAAK,WAAW;EAClB;;qCAnVW,sBAAmB,4BAAA,UAAA,CAAA;EAAA;yEAAnB,sBAAmB,WAAA,CAAA,CAAA,iBAAA,CAAA,GAAA,cAAA,SAAA,iCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAAnB,MAAA,qBAAA,SAAA,SAAA,6CAAA,QAAA;AAAA,eAAA,IAAA,gBAAA,MAAA;MAAuB,GAAA,OAAA,2BAAA;;mQA3NvB;IACT;MACE,SAAS;MACT,aAAa,WAAW,MAAM,oBAAmB;MACjD,OAAO;;GAEV,CAAA,GAAA,oBAAA,KAAA,OAAA,IAAA,MAAA,IAAA,QAAA,CAAA,CAAA,GAAA,YAAA,GAAA,CAAA,SAAA,YAAA,GAAA,MAAA,GAAA,CAAA,YAAA,KAAA,GAAA,cAAA,GAAA,SAAA,gBAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,OAAA,GAAA,SAAA,GAAA,CAAA,KAAA,KAAA,KAAA,KAAA,SAAA,MAAA,UAAA,MAAA,MAAA,KAAA,MAAA,GAAA,GAAA,CAAA,KAAA,uBAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,QAAA,UAAA,SAAA,YAAA,GAAA,SAAA,GAAA,MAAA,GAAA,CAAA,SAAA,eAAA,GAAA,MAAA,GAAA,CAAA,SAAA,iBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,SAAA,iBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,QAAA,UAAA,GAAA,YAAA,GAAA,OAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,GAAA,GAAA,CAAA,KAAA,sBAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,QAAA,GAAA,CAAA,QAAA,UAAA,GAAA,cAAA,GAAA,OAAA,GAAA,CAAA,KAAA,iBAAA,GAAA,CAAA,KAAA,eAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,SAAA,iBAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,SAAA,GAAA,CAAA,QAAA,UAAA,SAAA,UAAA,GAAA,eAAA,SAAA,YAAA,QAAA,YAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,SAAA,eAAA,GAAA,MAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,QAAA,UAAA,GAAA,gBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,QAAA,UAAA,GAAA,UAAA,GAAA,SAAA,UAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,SAAA,iBAAA,WAAA,eAAA,SAAA,GAAA,CAAA,GAAA,eAAA,CAAA,GAAA,UAAA,SAAA,6BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;;AAEC,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,qBAAA,GAAA,sCAAA,GAAA,GAAA,SAAA,CAAA;AAOA,MAAA,yBAAA,GAAA,OAAA,CAAA;AAME,MAAA,qBAAA,SAAA,SAAA,oDAAA;AAAA,eAAS,IAAA,eAAA;MAAgB,CAAA,EAAC,kBAAA,SAAA,6DAAA;AAAA,eAAA,IAAA,SAEC;MAAK,CAAA;;AAEhC,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,oBAAA,GAAA,QAAA,CAAA,EAAwD,GAAA,QAAA,CAAA;AAE1D,MAAA,uBAAA;;AACA,MAAA,yBAAA,GAAA,QAAA,CAAA;AACE,MAAA,iBAAA,CAAA;AACF,MAAA,uBAAA;AACA,MAAA,qBAAA,GAAA,uCAAA,GAAA,GAAA,UAAA,CAAA;AAGF,MAAA,uBAAA;AAGA,MAAA,qBAAA,GAAA,oCAAA,IAAA,GAAA,OAAA,CAAA,EAAwC,IAAA,sCAAA,GAAA,GAAA,QAAA,CAAA;AAyD1C,MAAA,uBAAA;;;AAvFU,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,KAAA;AASN,MAAA,oBAAA;AAAA,MAAA,sBAAA,QAAA,IAAA,MAAA,EAAqB,SAAA,CAAA,CAAA,IAAA,YAAA,EACS,YAAA,IAAA,QAAA,EACH,aAAA,CAAA,CAAA,IAAA,KAAA;AAUF,MAAA,oBAAA,CAAA;AAAA,MAAA,sBAAA,eAAA,CAAA,IAAA,KAAA;AACvB,MAAA,oBAAA;AAAA,MAAA,6BAAA,KAAA,IAAA,QAAA,IAAA,cAAA,IAAA,KAAA,IAAA,IAAA,eAAA,eAAA,GAAA;AAEO,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,SAAA,IAAA,aAAA,CAAA,IAAA,QAAA;AAMe,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,MAAA;AAwDnB,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,YAAA;;oBAhGD,cAAY,SAAA,MAAE,aAAW,iBAAA,SAAE,eAAe,GAAA,QAAA,CAAA,y9KAAA,EAAA,CAAA;;;sEA4NzC,qBAAmB,CAAA;UA/N/B;uBACW,mBAAiB,YACf,MAAI,SACP,CAAC,cAAc,aAAa,eAAe,GAAC,WAC1C;MACT;QACE,SAAS;QACT,aAAa,WAAW,MAAK,mBAAoB;QACjD,OAAO;;OAEV,UACS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA0FT,QAAA,CAAA,00JAAA,EAAA,CAAA;sCA2HQ,IAAE,CAAA;UAAV;MACQ,OAAK,CAAA;UAAb;MACQ,aAAW,CAAA;UAAnB;MACQ,UAAQ,CAAA;UAAhB;MACQ,UAAQ,CAAA;UAAhB;MACQ,cAAY,CAAA;UAApB;MACQ,WAAS,CAAA;UAAjB;MACQ,UAAQ,CAAA;UAAhB;MAEQ,aAAW,CAAA;UAAnB;MAgSD,iBAAe,CAAA;UADd;WAAa,kBAAkB,CAAC,QAAQ,CAAC;;;;6EAzS/B,qBAAmB,EAAA,WAAA,uBAAA,UAAA,kEAAA,YAAA,IAAA,CAAA;AAAA,GAAA;;;;;;ACpMtB,IAAA,yBAAA,GAAA,OAAA,CAAA,EAAmD,GAAA,mBAAA,EAAA,EAOhD,GAAA,UAAA,EAAA;AAC2D,IAAA,qBAAA,SAAA,SAAA,+DAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,cAAA,CAAe;IAAA,CAAA;;AAChF,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4E,IAAA,oBAAA,GAAA,QAAA,EAAA;AAAgC,IAAA,uBAAA;AAC5G,IAAA,iBAAA,GAAA,UAAA;AACF,IAAA,uBAAA,EAAS,EACO;;;AAPhB,IAAA,oBAAA;AAAA,IAAA,qBAAA,YAAA,IAAA,EAAiB,aAAA,KAAA;;;;;;AAWvB,IAAA,yBAAA,GAAA,UAAA,EAAA;AAIE,IAAA,qBAAA,SAAA,SAAA,mEAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAA,OAAA,cAAuB,IAAI;IAAA,CAAA;;AAE3B,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4E,IAAA,oBAAA,GAAA,QAAA,EAAA;AAA4B,IAAA,uBAAA;AACxG,IAAA,iBAAA,GAAA,gBAAA;AACF,IAAA,uBAAA;;;;;AACA,IAAA,yBAAA,GAAA,KAAA,EAAA;AAA2C,IAAA,iBAAA,GAAA,4DAAA;AAA0D,IAAA,uBAAA;;;;;AAyBjG,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA+D,GAAA,OAAA,EAAA,EACrC,GAAA,SAAA,EAAA;AACK,IAAA,iBAAA,GAAA,YAAA;AAAU,IAAA,uBAAA;AACrC,IAAA,oBAAA,GAAA,cAAA,EAAA;AAKF,IAAA,uBAAA;AACA,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAuB,IAAA,iBAAA,GAAA,QAAA;AAAC,IAAA,uBAAA;AACxB,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAwB,GAAA,SAAA,EAAA;AACK,IAAA,iBAAA,GAAA,UAAA;AAAQ,IAAA,uBAAA;AACnC,IAAA,oBAAA,IAAA,cAAA,EAAA;AAKF,IAAA,uBAAA,EAAM;;;;AAZF,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,WAAA;AASA,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,WAAA;;;;;AAMN,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA8D,GAAA,QAAA,EAAA;AACpC,IAAA,iBAAA,GAAA,KAAA;AAAG,IAAA,uBAAA,EAAO;;;;;AAlCtC,IAAA,yBAAA,GAAA,OAAA,EAAA,EAKC,GAAA,OAAA,EAAA;AAEG,IAAA,oBAAA,GAAA,cAAA,EAAA;AAIF,IAAA,uBAAA;AAEA,IAAA,qBAAA,GAAA,6CAAA,IAAA,GAAA,OAAA,EAAA,EAA+D,GAAA,6CAAA,GAAA,GAAA,OAAA,EAAA;AAuBjE,IAAA,uBAAA;;;;;;;;;AAjCE,IAAA,sBAAA,YAAA,UAAA,YAAA,IAAA,SAAA,MAAA,OAAA,OAAA,QAAA,KAAA;AACA,IAAA,qBAAA,iBAAA,IAAA;AAII,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,SAAA,OAAA,iBAAA,IAAA,CAAA;AAKqB,IAAA,oBAAA;AAAA,IAAA,qBAAA,SAAA,UAAA,YAAA,IAAA,SAAA,MAAA,OAAA,OAAA,QAAA,KAAA;AAoBF,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,GAAA,UAAA,YAAA,IAAA,SAAA,MAAA,OAAA,OAAA,QAAA,MAAA;;;AAxGnC,IAAM,aAAwC;EAC5C,QAAQ;EACR,SAAS;EACT,WAAW;EACX,UAAU;EACV,QAAQ;EACR,UAAU;EACV,QAAQ;;AAyJJ,IAAO,wBAAP,MAAO,uBAAqB;EACvB;EAET,cAAc;EACd,cAA8B,CAAA;EAEb,OAAoB;IACnC;IAAU;IAAW;IAAa;IAAY;IAAU;IAAY;;EAGtE,WAAQ;AACN,SAAK,cAAc,KAAK,oBAAmB;AAE3C,UAAM,eAAe,KAAK,KAAK,IAAI,SAAS,GAAG;AAC/C,QAAI,cAAc;AAChB,WAAK,cAAc;IACrB;EACF;EAEA,IAAI,uBAAoB;AACtB,WAAO,KAAK,KAAK,IAAI,iBAAiB;EACxC;EAEA,iBAAiB,OAAa;AAC5B,WAAO,WAAW,KAAK,KAAK,KAAK,CAAC;EACpC;EAEA,gBAAa;AACX,SAAK,KAAK,IAAI,SAAS,GAAG,SAAS,EAAE;AACrC,SAAK,cAAc;EACrB;EAEQ,sBAAmB;AACzB,UAAM,UAA0B,CAAA;AAChC,aAAS,IAAI,GAAG,IAAI,IAAI,KAAK;AAC3B,YAAM,OAAO,EAAE,SAAQ,EAAG,SAAS,GAAG,GAAG;AACzC,cAAQ,KAAK,EAAE,OAAO,GAAG,IAAI,OAAO,OAAO,GAAG,IAAI,MAAK,CAAE;AACzD,cAAQ,KAAK,EAAE,OAAO,GAAG,IAAI,OAAO,OAAO,GAAG,IAAI,MAAK,CAAE;IAC3D;AACA,WAAO;EACT;;qCAxCW,wBAAqB;EAAA;yEAArB,wBAAqB,WAAA,CAAA,CAAA,mBAAA,CAAA,GAAA,QAAA,EAAA,MAAA,OAAA,GAAA,OAAA,IAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,aAAA,GAAA,WAAA,GAAA,CAAA,GAAA,SAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,GAAA,cAAA,QAAA,GAAA,CAAA,SAAA,cAAA,eAAA,qBAAA,mBAAA,aAAA,GAAA,YAAA,YAAA,cAAA,GAAA,CAAA,SAAA,qBAAA,GAAA,MAAA,GAAA,CAAA,QAAA,UAAA,SAAA,mBAAA,GAAA,SAAA,GAAA,MAAA,GAAA,CAAA,SAAA,cAAA,GAAA,MAAA,GAAA,CAAA,iBAAA,mBAAA,GAAA,eAAA,GAAA,CAAA,SAAA,gBAAA,GAAA,WAAA,iBAAA,GAAA,SAAA,SAAA,GAAA,CAAA,SAAA,YAAA,eAAA,mBAAA,mBAAA,WAAA,GAAA,YAAA,WAAA,GAAA,CAAA,cAAA,IAAA,QAAA,UAAA,GAAA,oBAAA,GAAA,OAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,GAAA,GAAA,CAAA,KAAA,sBAAA,GAAA,CAAA,QAAA,UAAA,GAAA,mBAAA,GAAA,OAAA,GAAA,CAAA,KAAA,kBAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,eAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,mBAAA,WAAA,GAAA,OAAA,GAAA,CAAA,SAAA,cAAA,GAAA,MAAA,GAAA,CAAA,SAAA,YAAA,GAAA,MAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,mBAAA,aAAA,eAAA,SAAA,GAAA,SAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,mBAAA,WAAA,eAAA,OAAA,GAAA,SAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,GAAA,WAAA,CAAA,GAAA,UAAA,SAAA,+BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAjJ9B,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA0C,GAAA,OAAA,CAAA,EAEnB,GAAA,MAAA,CAAA;AACO,MAAA,iBAAA,GAAA,eAAA;AAAa,MAAA,uBAAA;AACvC,MAAA,yBAAA,GAAA,KAAA,CAAA;AAAwB,MAAA,iBAAA,GAAA,uCAAA;AAAqC,MAAA,uBAAA;AAE7D,MAAA,yBAAA,GAAA,OAAA,CAAA,EAAsB,GAAA,OAAA,CAAA;AAElB,MAAA,oBAAA,GAAA,mBAAA,CAAA;AAQF,MAAA,uBAAA;AAGA,MAAA,qBAAA,GAAA,sCAAA,GAAA,GAAA,OAAA,CAAA;AAcF,MAAA,uBAAA;AAEA,MAAA,qBAAA,IAAA,0CAAA,GAAA,GAAA,UAAA,CAAA,EAKC,IAAA,qCAAA,GAAA,GAAA,KAAA,CAAA;AAKH,MAAA,uBAAA;AAGA,MAAA,yBAAA,IAAA,OAAA,CAAA,EAAqB,IAAA,MAAA,CAAA;AACO,MAAA,iBAAA,IAAA,iBAAA;AAAe,MAAA,uBAAA;AACzC,MAAA,yBAAA,IAAA,KAAA,CAAA;AACE,MAAA,iBAAA,IAAA,uIAAA;AAEF,MAAA,uBAAA;AAEA,MAAA,yBAAA,IAAA,OAAA,EAAA;AACE,MAAA,qBAAA,IAAA,uCAAA,GAAA,GAAA,OAAA,EAAA;AAqCF,MAAA,uBAAA,EAAM,EACF;;;;AA9Fe,MAAA,qBAAA,aAAA,IAAA,IAAA;AAYb,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,YAAA,IAAA,EAAiB,YAAA,IAAA,EACA,kBAAA,UAAA,IAAA,KAAA,IAAA,WAAA,MAAA,OAAA,OAAA,QAAA,cAAA,UAAA,IAAA,KAAA,IAAA,WAAA,MAAA,OAAA,OAAA,QAAA,WAAA,2BAAA,EAAA;AAMW,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA;AAiB/B,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,CAAA,IAAA,WAAA;AAQoB,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,CAAA,IAAA,WAAA;AAaE,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,qBAAA,QAAA;;oBA3DrB,cAAY,SAAA,MAAE,qBAAmB,iBAAA,sBAAA,mBAAA,oBAAA,iBAAA,eAAA,eAAE,iBAAiB,iBAAiB,mBAAmB,GAAA,QAAA,CAAA,8uFAAA,EAAA,CAAA;;;sEAmJvF,uBAAqB,CAAA;UAtJjC;uBACW,qBAAmB,YACjB,MAAI,SACP,CAAC,cAAc,qBAAqB,iBAAiB,iBAAiB,mBAAmB,GAAC,UACzF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAiGT,QAAA,CAAA,y+EAAA,EAAA,CAAA;cAkDQ,MAAI,CAAA;UAAZ;;;;6EADU,uBAAqB,EAAA,WAAA,yBAAA,UAAA,+FAAA,YAAA,IAAA,CAAA;AAAA,GAAA;;;;;ACrJ1B,IAAA,yBAAA,GAAA,QAAA,EAAA;AAA6C,IAAA,iBAAA,GAAA,GAAA;AAAC,IAAA,uBAAA;;;;;AAFhD,IAAA,yBAAA,GAAA,SAAA,CAAA;AACE,IAAA,iBAAA,CAAA;AACA,IAAA,qBAAA,GAAA,8CAAA,GAAA,GAAA,QAAA,CAAA;AACF,IAAA,uBAAA;;;;AAHqB,IAAA,qBAAA,OAAA,OAAA,EAAA;AACnB,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,OAAA,GAAA;AACO,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,QAAA;;;;;AAGP,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAiD,IAAA,iBAAA,CAAA;AAAY,IAAA,uBAAA;;;;AAAZ,IAAA,oBAAA;AAAA,IAAA,4BAAA,OAAA,MAAA;;;;;AAiBjD,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAiD,IAAA,iBAAA,CAAA;AAAY,IAAA,uBAAA;;;;AAAZ,IAAA,oBAAA;AAAA,IAAA,4BAAA,OAAA,MAAA;;;;;AAEnD,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAiD,IAAA,iBAAA,CAAA;AAAkB,IAAA,uBAAA;;;;AAAlB,IAAA,oBAAA;AAAA,IAAA,4BAAA,OAAA,YAAA;;;;;AACjD,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyD,IAAA,iBAAA,CAAA;AAAU,IAAA,uBAAA;;;;AAAV,IAAA,oBAAA;AAAA,IAAA,4BAAA,OAAA,IAAA;;;AA8FzD,IAAO,uBAAP,MAAO,sBAAoB;EACtB,KAAK;EACL,QAAQ;EACR,cAAc;EACd,WAAW;EACX,WAAW;EACX;EACA;EACA;EACA,SAAS;EACT,SAAS;EACT,eAAe;EACf,OAAO;EAEhB,QAAuB;EACf,aAAa,CAAC,UAAwB;EAAE;EACxC,cAAc,MAAK;EAAE;EAE7B,QAAQ,OAAY;AAClB,UAAM,SAAS,MAAM;AACrB,SAAK,QAAQ,OAAO,QAAQ,WAAW,OAAO,KAAK,IAAI;AACvD,SAAK,WAAW,KAAK,KAAK;EAC5B;EAEA,SAAM;AACJ,SAAK,YAAW;EAClB;EAEA,WAAW,OAAoB;AAC7B,SAAK,QAAQ,SAAS;EACxB;EAEA,iBAAiB,IAAkC;AACjD,SAAK,aAAa;EACpB;EAEA,kBAAkB,IAAc;AAC9B,SAAK,cAAc;EACrB;EAEA,iBAAiB,YAAmB;AAClC,SAAK,WAAW;EAClB;;qCA1CW,uBAAoB;EAAA;yEAApB,uBAAoB,WAAA,CAAA,CAAA,kBAAA,CAAA,GAAA,QAAA,EAAA,IAAA,MAAA,OAAA,SAAA,aAAA,eAAA,UAAA,YAAA,UAAA,YAAA,KAAA,OAAA,KAAA,OAAA,MAAA,QAAA,QAAA,UAAA,QAAA,UAAA,cAAA,gBAAA,MAAA,OAAA,GAAA,UAAA,CAAA,6BAhIpB;IACT;MACE,SAAS;MACT,aAAa,WAAW,MAAM,qBAAoB;MAClD,OAAO;;GAEV,CAAA,GAAA,OAAA,GAAA,MAAA,IAAA,QAAA,CAAA,CAAA,GAAA,sBAAA,GAAA,CAAA,SAAA,sBAAA,GAAA,OAAA,GAAA,MAAA,GAAA,CAAA,GAAA,wBAAA,GAAA,CAAA,SAAA,uBAAA,GAAA,MAAA,GAAA,CAAA,QAAA,UAAA,GAAA,gBAAA,GAAA,SAAA,QAAA,MAAA,eAAA,SAAA,YAAA,OAAA,OAAA,MAAA,GAAA,CAAA,SAAA,uBAAA,GAAA,MAAA,GAAA,CAAA,SAAA,iBAAA,GAAA,MAAA,GAAA,CAAA,SAAA,gBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,sBAAA,GAAA,KAAA,GAAA,CAAA,SAAA,iBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,cAAA,CAAA,GAAA,UAAA,SAAA,8BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAEC,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,qBAAA,GAAA,uCAAA,GAAA,GAAA,SAAA,CAAA;AAIA,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,qBAAA,GAAA,sCAAA,GAAA,GAAA,QAAA,CAAA;AACA,MAAA,yBAAA,GAAA,SAAA,CAAA;AASE,MAAA,qBAAA,SAAA,SAAA,qDAAA,QAAA;AAAA,eAAS,IAAA,QAAA,MAAA;MAAe,CAAA,EAAC,QAAA,SAAA,sDAAA;AAAA,eACjB,IAAA,OAAA;MAAQ,CAAA;AAVlB,MAAA,uBAAA;AAgBA,MAAA,qBAAA,GAAA,sCAAA,GAAA,GAAA,QAAA,CAAA;AACF,MAAA,uBAAA;AACA,MAAA,qBAAA,GAAA,sCAAA,GAAA,GAAA,QAAA,CAAA,EAAiD,GAAA,sCAAA,GAAA,GAAA,QAAA,CAAA;AAEnD,MAAA,uBAAA;;;AA1BU,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,KAAA;AAKC,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,MAAA;AAaL,MAAA,oBAAA;AAAA,MAAA,sBAAA,SAAA,CAAA,CAAA,IAAA,YAAA,EAA8B,cAAA,IAAA,MAAA,EACH,cAAA,IAAA,MAAA;AAZ3B,MAAA,qBAAA,MAAA,IAAA,EAAA,EAAS,eAAA,IAAA,WAAA,EAEkB,SAAA,IAAA,KAAA,EACZ,YAAA,IAAA,QAAA,EACM,OAAA,IAAA,GAAA,EACV,OAAA,IAAA,GAAA,EACA,QAAA,IAAA,IAAA;AASN,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,MAAA;AAEF,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,YAAA;AACA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,QAAA,CAAA,IAAA,YAAA;;oBAnCD,cAAY,MAAE,WAAW,GAAA,QAAA,CAAA,2zDAAA,EAAA,CAAA;;;sEAiIxB,sBAAoB,CAAA;UApIhC;uBACW,oBAAkB,YAChB,MAAI,SACP,CAAC,cAAc,WAAW,GAAC,WACzB;MACT;QACE,SAAS;QACT,aAAa,WAAW,MAAK,oBAAqB;QAClD,OAAO;;OAEV,UACS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA6BT,QAAA,CAAA,ysDAAA,EAAA,CAAA;cA6FQ,IAAE,CAAA;UAAV;MACQ,OAAK,CAAA;UAAb;MACQ,aAAW,CAAA;UAAnB;MACQ,UAAQ,CAAA;UAAhB;MACQ,UAAQ,CAAA;UAAhB;MACQ,KAAG,CAAA;UAAX;MACQ,KAAG,CAAA;UAAX;MACQ,MAAI,CAAA;UAAZ;MACQ,QAAM,CAAA;UAAd;MACQ,QAAM,CAAA;UAAd;MACQ,cAAY,CAAA;UAApB;MACQ,MAAI,CAAA;UAAZ;;;;6EAZU,sBAAoB,EAAA,WAAA,wBAAA,UAAA,oEAAA,YAAA,IAAA,CAAA;AAAA,GAAA;;;;;ACvGzB,IAAA,yBAAA,GAAA,KAAA,EAAA;AACE,IAAA,iBAAA,GAAA,+FAAA;AACF,IAAA,uBAAA;;;;;;AA8BE,IAAA,yBAAA,GAAA,UAAA,EAAA;AAKE,IAAA,qBAAA,SAAA,SAAA,gEAAA;AAAA,YAAA,OAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,UAAA,IAAA,CAAY;IAAA,CAAA;AACtB,IAAA,iBAAA,CAAA;AAAQ,IAAA,uBAAA;;;;;AAFP,IAAA,sBAAA,UAAA,OAAA,gBAAA,IAAA;AAED,IAAA,oBAAA;AAAA,IAAA,6BAAA,IAAA,MAAA,GAAA;;;;;AAQD,IAAA,yBAAA,GAAA,KAAA,EAAA;AACE,IAAA,iBAAA,CAAA;;AACF,IAAA,uBAAA;;;;AADE,IAAA,oBAAA;AAAA,IAAA,6BAAA,8DAAA,sBAAA,GAAA,GAAA,MAAA,OAAA,cAAA,KAAA,OAAA,GAAA,iBAAA;;;AA6EN,IAAO,qBAAP,MAAO,oBAAkB;EACpB;EAET,gBAAgB,CAAC,IAAI,IAAI,IAAI,GAAG;EAEhC,qBAAqC;IACnC,EAAE,OAAO,OAAO,OAAO,2BAA0B;IACjD,EAAE,OAAO,kBAAkB,OAAO,kBAAkB,UAAU,KAAI;IAClE,EAAE,OAAO,uBAAuB,OAAO,uBAAuB,UAAU,KAAI;IAC5E,EAAE,OAAO,qBAAqB,OAAO,qBAAqB,UAAU,KAAI;;EAG1E,IAAI,cAAW;AACb,WAAO,KAAK,KAAK,IAAI,oBAAoB,GAAG,SAAS;EACvD;EAEA,UAAU,KAAW;AACnB,SAAK,KAAK,IAAI,oBAAoB,GAAG,SAAS,GAAG;EACnD;EAEA,aAAa,OAAa;AACxB,QAAI,SAAS,KAAK,cAAc;AAChC,aAAS,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,MAAM,CAAC;AAC1C,SAAK,KAAK,IAAI,oBAAoB,GAAG,SAAS,MAAM;EACtD;EAEA,cAAc,OAAY;AACxB,UAAM,SAAS,MAAM;AACrB,QAAI,MAAM,SAAS,OAAO,OAAO,EAAE;AACnC,QAAI,MAAM,GAAG;AAAG,YAAM;AACtB,UAAM,KAAK,IAAI,GAAG,KAAK,IAAI,KAAK,GAAG,CAAC;AACpC,SAAK,KAAK,IAAI,oBAAoB,GAAG,SAAS,GAAG;EACnD;;qCAhCW,qBAAkB;EAAA;yEAAlB,qBAAkB,WAAA,CAAA,CAAA,gBAAA,CAAA,GAAA,QAAA,EAAA,MAAA,OAAA,GAAA,OAAA,IAAA,MAAA,IAAA,QAAA,CAAA,CAAA,GAAA,aAAA,GAAA,WAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,MAAA,kBAAA,SAAA,wBAAA,eAAA,KAAA,mBAAA,kBAAA,QAAA,mDAAA,GAAA,KAAA,GAAA,CAAA,MAAA,mBAAA,SAAA,2BAAA,mBAAA,mBAAA,GAAA,WAAA,UAAA,GAAA,CAAA,SAAA,cAAA,GAAA,MAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,QAAA,UAAA,GAAA,eAAA,GAAA,SAAA,UAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,KAAA,GAAA,CAAA,KAAA,UAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,QAAA,UAAA,OAAA,KAAA,OAAA,OAAA,GAAA,gBAAA,GAAA,SAAA,OAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,KAAA,kBAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,QAAA,UAAA,SAAA,eAAA,GAAA,UAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,SAAA,mBAAA,GAAA,MAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,MAAA,qBAAA,SAAA,yBAAA,eAAA,WAAA,mBAAA,qBAAA,QAAA,oFAAA,GAAA,KAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,QAAA,UAAA,GAAA,eAAA,GAAA,OAAA,GAAA,CAAA,GAAA,iBAAA,CAAA,GAAA,UAAA,SAAA,4BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAlJ3B,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA0C,GAAA,OAAA,CAAA;AAGtC,MAAA,oBAAA,GAAA,oBAAA,CAAA;AAQF,MAAA,uBAAA;AAGA,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,oBAAA,GAAA,cAAA,CAAA;AAOA,MAAA,qBAAA,GAAA,iCAAA,GAAA,GAAA,KAAA,CAAA;AAGF,MAAA,uBAAA;AAGA,MAAA,yBAAA,GAAA,OAAA,CAAA,EAAwB,GAAA,SAAA,CAAA;AACK,MAAA,iBAAA,GAAA,cAAA;AAAY,MAAA,uBAAA;AAEvC,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA8B,IAAA,OAAA,CAAA,EACA,IAAA,UAAA,CAAA;AACgB,MAAA,qBAAA,SAAA,SAAA,uDAAA;AAAA,eAAS,IAAA,aAAA,EAAe;MAAC,CAAA;;AACjE,MAAA,yBAAA,IAAA,OAAA,CAAA;AAA8E,MAAA,oBAAA,IAAA,QAAA,EAAA;AAAoB,MAAA,uBAAA,EAAM;;AAE1G,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA+B,IAAA,SAAA,EAAA;AAK3B,MAAA,qBAAA,SAAA,SAAA,oDAAA,QAAA;AAAA,eAAS,IAAA,cAAA,MAAA;MAAqB,CAAA;AAJhC,MAAA,uBAAA;AAQA,MAAA,yBAAA,IAAA,QAAA,EAAA;AAA0B,MAAA,iBAAA,IAAA,GAAA;AAAC,MAAA,uBAAA,EAAO;AAEpC,MAAA,yBAAA,IAAA,UAAA,CAAA;AAA0C,MAAA,qBAAA,SAAA,SAAA,uDAAA;AAAA,eAAS,IAAA,aAAa,CAAC;MAAC,CAAA;;AAChE,MAAA,yBAAA,IAAA,OAAA,CAAA;AAA8E,MAAA,oBAAA,IAAA,QAAA,EAAA;AAA4B,MAAA,uBAAA,EAAM,EACzG,EACL;;AAGR,MAAA,yBAAA,IAAA,OAAA,EAAA;AACE,MAAA,qBAAA,IAAA,uCAAA,GAAA,GAAA,UAAA,EAAA;AAOF,MAAA,uBAAA;AAGA,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA4B,IAAA,KAAA,EAAA;AAExB,MAAA,iBAAA,IAAA,0BAAA;AAAuB,MAAA,yBAAA,IAAA,QAAA;AAAQ,MAAA,iBAAA,EAAA;AAAkB,MAAA,uBAAA;AAAU,MAAA,iBAAA,IAAA,6BAAA;AAC7D,MAAA,uBAAA;AACA,MAAA,qBAAA,IAAA,kCAAA,GAAA,GAAA,KAAA,EAAA;AAGA,MAAA,yBAAA,IAAA,KAAA,EAAA;AAA6B,MAAA,iBAAA,IAAA,0BAAA;AAAmB,MAAA,uBAAA,EAAI,EAChD;AAIR,MAAA,yBAAA,IAAA,OAAA,CAAA;AACE,MAAA,oBAAA,IAAA,oBAAA,EAAA;AAQF,MAAA,uBAAA,EAAM;;;;AArFe,MAAA,qBAAA,aAAA,IAAA,IAAA;AAQjB,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,OAAA,CAAA;AAWA,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,kBAAA,EAA8B,YAAA,IAAA;AAGT,MAAA,oBAAA;AAAA,MAAA,qBAAA,UAAA,UAAA,IAAA,KAAA,IAAA,iBAAA,MAAA,OAAA,OAAA,QAAA,WAAA,KAAA;AAWkD,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,YAAA,IAAA,eAAA,CAAA;AAOjE,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,SAAA,IAAA,WAAA;AAOgE,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,YAAA,IAAA,eAAA,GAAA;AAQtD,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,aAAA;AAWiB,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,IAAA,IAAA,aAAA,GAAA;AAEL,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,cAAA,CAAA;AAc5B,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,OAAA,CAAA;;oBApFE,cAAY,SAAA,MAAA,aAAE,qBAAmB,iBAAA,sBAAA,mBAAA,oBAAA,iBAAE,iBAAiB,oBAAoB,GAAA,QAAA,CAAA,6/FAAA,EAAA,CAAA;;;sEAoJvE,oBAAkB,CAAA;UAvJ9B;uBACW,kBAAgB,YACd,MAAI,SACP,CAAC,cAAc,qBAAqB,iBAAiB,oBAAoB,GAAC,UACzE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAwFT,QAAA,CAAA,4xFAAA,EAAA,CAAA;cA4DQ,MAAI,CAAA;UAAZ;;;;6EADU,oBAAkB,EAAA,WAAA,sBAAA,UAAA,4FAAA,YAAA,IAAA,CAAA;AAAA,GAAA;;;;;;AC5HrB,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAiG,IAAA,oBAAA,GAAA,UAAA,EAAA,EAA+B,GAAA,UAAA,EAAA,EAAiC,GAAA,QAAA,EAAA;AAA2B,IAAA,uBAAA;;;;;;AAC5L,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAkG,IAAA,oBAAA,GAAA,QAAA,EAAA;AAAiE,IAAA,uBAAA;;;;;AAErK,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA2C,GAAA,QAAA;AACjC,IAAA,iBAAA,GAAA,iBAAA;AAAe,IAAA,uBAAA;AAAU,IAAA,iBAAA,GAAA,+BAAA;AAAuB,IAAA,yBAAA,GAAA,QAAA;AAAQ,IAAA,iBAAA,GAAA,GAAA;AAAC,IAAA,uBAAA;AAAU,IAAA,iBAAA,GAAA,qCAAA;AAC3E,IAAA,yBAAA,GAAA,QAAA,EAAA;AAA0B,IAAA,iBAAA,GAAA,mDAAA;AAAiD,IAAA,uBAAA,EAAO;;;;;AAEpF,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA4C,GAAA,QAAA;AAClC,IAAA,iBAAA,GAAA,mBAAA;AAAiB,IAAA,uBAAA;AAAU,IAAA,iBAAA,GAAA,yBAAA;AAAiB,IAAA,yBAAA,GAAA,QAAA;AAAQ,IAAA,iBAAA,GAAA,cAAA;AAAY,IAAA,uBAAA;AAAU,IAAA,iBAAA,GAAA,qDAAA;AAClF,IAAA,yBAAA,GAAA,QAAA,EAAA;AAA0B,IAAA,iBAAA,GAAA,4EAAA;AAA0E,IAAA,uBAAA,EAAO;;;;;AAX/G,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAsD,GAAA,QAAA,EAAA;AAElD,IAAA,qBAAA,GAAA,8CAAA,GAAA,GAAA,OAAA,EAAA,EAAiG,GAAA,8CAAA,GAAA,GAAA,OAAA,EAAA;AAEnG,IAAA,uBAAA;AACA,IAAA,qBAAA,GAAA,yCAAA,GAAA,GAAA,OAAA,EAAA,EAA2C,GAAA,yCAAA,GAAA,GAAA,OAAA,EAAA;AAQ7C,IAAA,uBAAA;;;;AAXU,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,YAAA;AACA,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,CAAA,OAAA,YAAA;AAEe,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,YAAA;AAIA,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,CAAA,OAAA,YAAA;;;;;;AAOvB,IAAA,yBAAA,GAAA,OAAA,EAAA,EAIC,GAAA,OAAA,EAAA,EAC0B,GAAA,QAAA,EAAA;AACG,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA;AAC1C,IAAA,yBAAA,GAAA,UAAA,EAAA;AAAyC,IAAA,qBAAA,SAAA,SAAA,6DAAA;AAAA,YAAA,OAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,WAAA,IAAA,CAAa;IAAA,CAAA;;AAC7D,IAAA,yBAAA,GAAA,OAAA,EAAA;AACE,IAAA,oBAAA,GAAA,QAAA,EAAA;AACF,IAAA,uBAAA,EAAM,EACC;;AAGX,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAyB,GAAA,OAAA,EAAA;AAErB,IAAA,oBAAA,GAAA,aAAA,EAAA;AAQF,IAAA,uBAAA;AAEA,IAAA,yBAAA,IAAA,OAAA,EAAA,EAAgC,IAAA,OAAA,EAAA;AAE5B,IAAA,oBAAA,IAAA,oBAAA,EAAA;AASF,IAAA,uBAAA;AACA,IAAA,yBAAA,IAAA,OAAA,EAAA;AACE,IAAA,oBAAA,IAAA,oBAAA,EAAA;AAQF,IAAA,uBAAA;AACA,IAAA,yBAAA,IAAA,OAAA,EAAA;AACE,IAAA,oBAAA,IAAA,oBAAA,EAAA;AAUF,IAAA,uBAAA,EAAM,EACF,EACF;;;;;AA1DN,IAAA,qBAAA,iBAAA,IAAA;AAG4B,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,SAAA,OAAA,GAAA,EAAA;AAWtB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,MAAA,aAAA,IAAA,EAAqB,YAAA,IAAA,EAIJ,gBAAA,OAAA,aAAA,MAAA,MAAA,CAAA;AAQf,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,MAAA,YAAA,IAAA,EAAoB,OAAA,CAAA,EAIX,YAAA,IAAA,EACQ,gBAAA,OAAA,aAAA,MAAA,WAAA,CAAA;AAMjB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,MAAA,YAAA,IAAA,EAAoB,OAAA,CAAA;AAUpB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,MAAA,cAAA,IAAA,EAAsB,SAAA,OAAA,iBAAA,EACK,eAAA,OAAA,uBAAA,EACY,OAAA,CAAA,EAE9B,YAAA,IAAA,EACQ,QAAA,OAAA,gBAAA,EACQ,gBAAA,OAAA,aAAA,MAAA,qBAAA,CAAA;;;;;AAerC,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAyD,GAAA,KAAA,EAAA;AAChC,IAAA,iBAAA,GAAA,qBAAA;AAAmB,IAAA,uBAAA;AAC1C,IAAA,yBAAA,GAAA,KAAA,EAAA;AAAsB,IAAA,iBAAA,GAAA,sFAAA;AAAoF,IAAA,uBAAA,EAAI;;;AAiEhH,IAAO,qBAAP,MAAO,oBAAkB;EACpB;EAED,KAAK,IAAI,YAAW;EAE5B,IAAI,aAAU;AACZ,WAAO,KAAK,KAAK,IAAI,OAAO;EAC9B;EAEA,IAAI,eAAY;AACd,WAAO,KAAK,KAAK,IAAI,cAAc,GAAG,SAAS;EACjD;EAEA,IAAI,eAAY;AACd,WAAO,KAAK,iBAAiB;EAC/B;EAEA,IAAI,oBAAiB;AACnB,WAAO,KAAK,eAAe,sBAAsB;EACnD;EAEA,IAAI,0BAAuB;AACzB,WAAO,KAAK,eAAe,WAAW;EACxC;EAEA,IAAI,mBAAgB;AAClB,WAAO,KAAK,eACR,oCACA;EACN;EAEA,UAAO;AACL,UAAM,WAAW,KAAK,WAAW;AACjC,SAAK,WAAW,KAAK,KAAK,GAAG,MAAM;MACjC,MAAM,CAAC,IAAI,WAAW,QAAQ;MAC9B,WAAW,CAAC,GAAG,CAAC,WAAW,UAAU,WAAW,IAAI,CAAC,CAAC,CAAC;MACvD,WAAW,CAAC,IAAI;MAChB,qBAAqB,CAAC,GAAG,CAAC,WAAW,UAAU,WAAW,IAAI,CAAC,CAAC,CAAC;MACjE,WAAW,CAAC,QAAQ;KACrB,CAAC;EACJ;EAEA,WAAW,OAAa;AACtB,SAAK,WAAW,SAAS,KAAK;AAC9B,SAAK,WAAW,SAAS,QAAQ,CAAC,MAAM,MAAK;AAC3C,WAAK,IAAI,WAAW,GAAG,SAAS,CAAC;IACnC,CAAC;EACH;EAEA,aAAa,WAAmB,OAAa;AAC3C,UAAM,UAAU,KAAK,WAAW,GAAG,SAAS,GAAG,IAAI,KAAK;AACxD,QAAI,WAAW,QAAQ,WAAW,QAAQ,SAAS;AACjD,UAAI,QAAQ,SAAS,UAAU;AAAG,eAAO;AACzC,UAAI,QAAQ,SAAS,KAAK;AAAG,eAAO,OAAO,QAAQ,OAAO,KAAK,EAAE,GAAG;IACtE;AACA,WAAO;EACT;;qCAxDW,qBAAkB;EAAA;yEAAlB,qBAAkB,WAAA,CAAA,CAAA,gBAAA,CAAA,GAAA,QAAA,EAAA,MAAA,OAAA,GAAA,OAAA,IAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,aAAA,GAAA,WAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,eAAA,QAAA,GAAA,kBAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,OAAA,kBAAA,OAAA,GAAA,CAAA,MAAA,MAAA,MAAA,MAAA,KAAA,GAAA,GAAA,CAAA,KAAA,oBAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,SAAA,uBAAA,GAAA,MAAA,GAAA,CAAA,iBAAA,SAAA,GAAA,YAAA,GAAA,CAAA,SAAA,aAAA,GAAA,iBAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,cAAA,WAAA,QAAA,UAAA,GAAA,SAAA,GAAA,CAAA,SAAA,eAAA,GAAA,MAAA,GAAA,CAAA,GAAA,qBAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,KAAA,GAAA,MAAA,GAAA,CAAA,SAAA,YAAA,GAAA,MAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,GAAA,GAAA,CAAA,MAAA,KAAA,MAAA,KAAA,KAAA,KAAA,GAAA,CAAA,MAAA,MAAA,MAAA,MAAA,KAAA,KAAA,GAAA,CAAA,KAAA,iBAAA,GAAA,CAAA,KAAA,uDAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,aAAA,GAAA,eAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,QAAA,UAAA,SAAA,eAAA,GAAA,cAAA,GAAA,OAAA,GAAA,CAAA,KAAA,sBAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,SAAA,aAAA,eAAA,6BAAA,mBAAA,QAAA,GAAA,MAAA,YAAA,cAAA,GAAA,CAAA,GAAA,YAAA,WAAA,GAAA,CAAA,SAAA,aAAA,eAAA,KAAA,mBAAA,aAAA,GAAA,MAAA,OAAA,YAAA,cAAA,GAAA,CAAA,SAAA,aAAA,eAAA,YAAA,mBAAA,aAAA,QAAA,6BAAA,GAAA,MAAA,KAAA,GAAA,CAAA,mBAAA,uBAAA,GAAA,MAAA,SAAA,eAAA,OAAA,YAAA,QAAA,cAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,YAAA,CAAA,GAAA,UAAA,SAAA,4BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAzK3B,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA0C,GAAA,OAAA,CAAA,EACf,GAAA,QAAA,CAAA;;AAErB,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,oBAAA,GAAA,UAAA,CAAA,EAA+B,GAAA,QAAA,CAAA;AAEjC,MAAA,uBAAA,EAAM;;AAER,MAAA,yBAAA,GAAA,KAAA,CAAA;AACE,MAAA,iBAAA,GAAA,0KAAA;AAEF,MAAA,uBAAA,EAAI;AAIN,MAAA,qBAAA,GAAA,mCAAA,GAAA,GAAA,OAAA,CAAA;AAeA,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,qBAAA,IAAA,oCAAA,IAAA,IAAA,OAAA,CAAA;AA+DF,MAAA,uBAAA;AAEA,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,cAAA,EAAA;AACuB,MAAA,qBAAA,WAAA,SAAA,6DAAA;AAAA,eAAW,IAAA,QAAA;MAAS,CAAA;AACjE,MAAA,iBAAA,IAAA,cAAA;AACF,MAAA,uBAAA,EAAa;AAGf,MAAA,qBAAA,IAAA,oCAAA,GAAA,GAAA,OAAA,EAAA;AAIF,MAAA,uBAAA;;;AA1GuB,MAAA,qBAAA,aAAA,IAAA,IAAA;AAea,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,YAAA;AAiBb,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,WAAA,QAAA;AAsEK,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA,WAAA,CAAA;;;IA1G5B;IAAY;IAAA;IAAE;IAAmB;IAAA;IAAA;IAAA;IAAA;IAAA;IAAA;IAAE;IACnC;IAAsB;EAAe,GAAA,QAAA,CAAA,4+FAAA,EAAA,CAAA;;;sEA4K5B,oBAAkB,CAAA;UAjL9B;uBACW,kBAAgB,YACd,MAAI,SACP;MACP;MAAc;MAAqB;MACnC;MAAsB;OACvB,UACS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA4GT,QAAA,CAAA,sqFAAA,EAAA,CAAA;cA+DQ,MAAI,CAAA;UAAZ;;;;6EADU,oBAAkB,EAAA,WAAA,sBAAA,UAAA,4FAAA,YAAA,IAAA,CAAA;AAAA,GAAA;;;ACpIzB,IAAO,6BAAP,MAAO,4BAA0B;;qCAA1B,6BAA0B;EAAA;yEAA1B,6BAA0B,WAAA,CAAA,CAAA,wBAAA,CAAA,GAAA,OAAA,IAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,eAAA,QAAA,GAAA,kBAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,OAAA,kBAAA,OAAA,GAAA,CAAA,MAAA,MAAA,MAAA,MAAA,KAAA,GAAA,GAAA,CAAA,KAAA,oBAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,cAAA,WAAA,GAAA,UAAA,CAAA,GAAA,UAAA,SAAA,oCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AA5CnC,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA0B,GAAA,OAAA,CAAA,EACC,GAAA,QAAA,CAAA;;AAErB,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,oBAAA,GAAA,UAAA,CAAA,EAA+B,GAAA,QAAA,CAAA;AAEjC,MAAA,uBAAA,EAAM;;AAER,MAAA,yBAAA,GAAA,KAAA,CAAA;AACE,MAAA,iBAAA,GAAA,gIAAA;AAEF,MAAA,uBAAA,EAAI;AAGN,MAAA,yBAAA,GAAA,OAAA,CAAA,EAAwB,GAAA,cAAA,CAAA;AAEpB,MAAA,iBAAA,IAAA,wBAAA;AACF,MAAA,uBAAA,EAAa,EACT;;;AAH6B,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,YAAA,IAAA;;oBAjB7B,cAAc,eAAe,GAAA,QAAA,CAAA,q1BAAA,EAAA,CAAA;;;sEA8C5B,4BAA0B,CAAA;UAjDtC;uBACW,0BAAwB,YACtB,MAAI,SACP,CAAC,cAAc,eAAe,GAAC,UAC9B;;;;;;;;;;;;;;;;;;;;;KAqBT,QAAA,CAAA,g8BAAA,EAAA,CAAA;;;;6EAwBU,4BAA0B,EAAA,WAAA,8BAAA,UAAA,oGAAA,YAAA,GAAA,CAAA;AAAA,GAAA;;;;;;ACzCjC,IAAA,yBAAA,GAAA,aAAA,EAAA;AAAiE,IAAA,qBAAA,aAAA,SAAA,2EAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAA,OAAA,cAA2B,EAAE;IAAA,CAAA;AAC5F,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;AAF4C,IAAA,qBAAA,eAAA,IAAA;AAC1C,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,aAAA,GAAA;;;;;AAME,IAAA,yBAAA,GAAA,KAAA,EAAA;AACE,IAAA,iBAAA,GAAA,wBAAA;AAAqB,IAAA,yBAAA,GAAA,QAAA;AAAQ,IAAA,iBAAA,GAAA,WAAA;AAAS,IAAA,uBAAA;AAAU,IAAA,iBAAA,GAAA,kDAAA;AAClD,IAAA,uBAAA;;;;;AACA,IAAA,yBAAA,GAAA,KAAA,EAAA;AACE,IAAA,iBAAA,GAAA,wBAAA;AAAqB,IAAA,yBAAA,GAAA,QAAA;AAAQ,IAAA,iBAAA,GAAA,sBAAA;AAAoB,IAAA,uBAAA;AAAU,IAAA,iBAAA,GAAA,iCAAA;AAC7D,IAAA,uBAAA;;;;;AA2DA,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAoE,GAAA,QAAA,EAAA;AACzC,IAAA,iBAAA,GAAA,aAAA;AAAW,IAAA,uBAAA;AACpC,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyB,IAAA,iBAAA,CAAA;AAA4B,IAAA,uBAAA,EAAO;;;;AAAnC,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,OAAA,YAAA,KAAA,IAAA,CAAA;;;;;AAE3B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAsE,GAAA,QAAA,EAAA;AAC3C,IAAA,iBAAA,GAAA,aAAA;AAAW,IAAA,uBAAA;AACpC,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyB,IAAA,iBAAA,GAAA,iBAAA;AAAe,IAAA,uBAAA,EAAO;;;;;AA2CnD,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAqD,IAAA,iBAAA,GAAA,qBAAA;AAAmB,IAAA,uBAAA;;;;;AAQtE,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAsD,GAAA,QAAA,EAAA;AAC5B,IAAA,iBAAA,CAAA;AAAe,IAAA,uBAAA;AACvC,IAAA,yBAAA,GAAA,MAAA;AAAM,IAAA,iBAAA,CAAA;AAAoB,IAAA,uBAAA;AAC1B,IAAA,yBAAA,GAAA,MAAA;AAAM,IAAA,iBAAA,CAAA;AAA2B,IAAA,uBAAA;AACjC,IAAA,yBAAA,GAAA,MAAA;AAAM,IAAA,iBAAA,CAAA;AAAgC,IAAA,uBAAA,EAAO;;;;;AAHrB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,IAAA;AAClB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,SAAA;AACA,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,UAAA,QAAA,eAAA,QAAA,YAAA,SAAA,UAAA,QAAA;AACA,IAAA,oBAAA,CAAA;AAAA,IAAA,6BAAA,KAAA,QAAA,qBAAA,GAAA;;;;;AAXV,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAuD,GAAA,OAAA,EAAA,EACf,GAAA,MAAA;AAC9B,IAAA,iBAAA,GAAA,MAAA;AAAI,IAAA,uBAAA;AACV,IAAA,yBAAA,GAAA,MAAA;AAAM,IAAA,iBAAA,GAAA,KAAA;AAAG,IAAA,uBAAA;AACT,IAAA,yBAAA,GAAA,MAAA;AAAM,IAAA,iBAAA,GAAA,KAAA;AAAG,IAAA,uBAAA;AACT,IAAA,yBAAA,GAAA,MAAA;AAAM,IAAA,iBAAA,GAAA,SAAA;AAAO,IAAA,uBAAA,EAAO;AAEtB,IAAA,qBAAA,IAAA,8CAAA,GAAA,GAAA,OAAA,EAAA;AAMF,IAAA,uBAAA;;;;AANyC,IAAA,oBAAA,EAAA;AAAA,IAAA,qBAAA,WAAA,OAAA,UAAA;;;AAuE3C,IAAO,uBAAP,MAAO,sBAAoB;EACtB;EACA,oBAAoB;EACpB,uBAAuB;EACvB,YAAY;EACX,WAAW,IAAI,aAAY;EAC3B,SAAS,IAAI,aAAY;EAEnC,cAAc;EAEd,IAAI,YAAS;AACX,WAAO,KAAK,KAAK,YAAW;EAC9B;EAEA,IAAI,aAAU;AACZ,UAAM,QAAQ,KAAK,KAAK,IAAI,OAAO;AACnC,WAAO,QAAQ,MAAM,YAAW,IAAK,CAAA;EACvC;EAEA,IAAI,cAAW;AACb,UAAM,YAAY,KAAK,KAAK,IAAI,iBAAiB;AACjD,QAAI,CAAC;AAAW,aAAO,CAAA;AACvB,WAAO,UAAU,YAAW,EACzB,OAAO,CAAC,MAAW,EAAE,OAAO,EAC5B,IAAI,CAAC,MAAU;AACd,YAAM,QAAQ,EAAE,UAAU,OAAO,CAAC,IAAI,EAAE,UAAU,MAAM,CAAC,EAAE,YAAW;AACtE,YAAM,OAAO,EAAE,aAAa,EAAE,UAAU,KAAK,EAAE,SAAS,SAAI,EAAE,OAAO,MAAM;AAC3E,aAAO,QAAQ;IACjB,CAAC;EACL;EAGA,qBAAkB;AAChB,UAAM,OAAO,KAAK,UAAU;AAC5B,QAAI,SAAS;AAAc,aAAO;AAClC,QAAI,SAAS;AAAgB,aAAO;AACpC,WAAO;EACT;EAEA,sBAAmB;AACjB,UAAM,OAAO,KAAK,UAAU;AAC5B,UAAM,QAAQ,KAAK,UAAU;AAC7B,QAAI,CAAC,SAAS,UAAU;AAAG,aAAO;AAClC,QAAI,SAAS;AAAc,aAAO,GAAG,KAAK;AAC1C,QAAI,SAAS,gBAAgB;AAC3B,YAAM,YAAY,KAAK,UAAU;AACjC,aAAO,YAAY,GAAG,KAAK,iBAAiB,SAAS,WAAW,GAAG,KAAK;IAC1E;AACA,WAAO,OAAO,KAAK;EACrB;EAEA,oBAAiB;AACf,UAAM,MAA8B;MAClC,KAAK;MACL,gBAAgB;MAChB,qBAAqB;MACrB,mBAAmB;;AAErB,WAAO,IAAI,KAAK,UAAU,eAAe,KAAK;EAChD;EAEA,WAAW,KAAW;AACpB,QAAI,CAAC;AAAK,aAAO;AACjB,QAAI;AACF,aAAO,IAAI,KAAK,GAAG,EAAE,eAAe,SAAS;QAC3C,MAAM;QAAW,OAAO;QAAS,KAAK;QACtC,MAAM;QAAW,QAAQ;OAC1B;IACH,QAAQ;AACN,aAAO;IACT;EACF;;qCAvEW,uBAAoB;EAAA;yEAApB,uBAAoB,WAAA,CAAA,CAAA,kBAAA,CAAA,GAAA,QAAA,EAAA,MAAA,QAAA,mBAAA,qBAAA,sBAAA,wBAAA,WAAA,YAAA,GAAA,SAAA,EAAA,UAAA,YAAA,QAAA,SAAA,GAAA,OAAA,KAAA,MAAA,IAAA,QAAA,CAAA,CAAA,GAAA,cAAA,GAAA,CAAA,QAAA,SAAA,GAAA,eAAA,aAAA,GAAA,MAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,SAAA,eAAA,GAAA,MAAA,GAAA,CAAA,QAAA,UAAA,GAAA,kBAAA,GAAA,SAAA,UAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,QAAA,UAAA,SAAA,QAAA,GAAA,YAAA,GAAA,OAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,GAAA,GAAA,CAAA,KAAA,uDAAA,GAAA,CAAA,KAAA,uDAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,SAAA,2BAAA,GAAA,MAAA,GAAA,CAAA,SAAA,WAAA,GAAA,MAAA,GAAA,CAAA,SAAA,eAAA,GAAA,MAAA,GAAA,CAAA,QAAA,SAAA,GAAA,aAAA,aAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,gBAAA,YAAA,GAAA,CAAA,GAAA,SAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,YAAA,iBAAA,GAAA,CAAA,SAAA,YAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,GAAA,WAAA,CAAA,GAAA,UAAA,SAAA,8BAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAzM7B,MAAA,yBAAA,GAAA,OAAA,CAAA;AAEE,MAAA,qBAAA,GAAA,2CAAA,GAAA,GAAA,aAAA,CAAA;AAKA,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA4B,GAAA,OAAA,CAAA;AAExB,MAAA,qBAAA,GAAA,mCAAA,GAAA,GAAA,KAAA,CAAA,EAAiD,GAAA,mCAAA,GAAA,GAAA,KAAA,CAAA;AAMnD,MAAA,uBAAA;AACA,MAAA,yBAAA,GAAA,UAAA,CAAA;AAIE,MAAA,qBAAA,SAAA,SAAA,wDAAA;AAAA,eAAS,IAAA,OAAA,KAAA;MAAa,CAAA;AAEtB,MAAA,iBAAA,CAAA;AACF,MAAA,uBAAA,EAAS;AAIX,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA6B,GAAA,MAAA,CAAA,EACC,IAAA,QAAA,CAAA;AACA,MAAA,iBAAA,IAAA,GAAA;AAAC,MAAA,uBAAA;AAC3B,MAAA,iBAAA,IAAA,mBAAA;AACA,MAAA,yBAAA,IAAA,UAAA,CAAA;AAAuC,MAAA,qBAAA,SAAA,SAAA,yDAAA;AAAA,eAAS,IAAA,SAAA,KAAc,CAAC;MAAC,CAAA;;AAC9D,MAAA,yBAAA,IAAA,OAAA,EAAA;AAA4E,MAAA,oBAAA,IAAA,QAAA,EAAA,EAAiE,IAAA,QAAA,EAAA;AAAiE,MAAA,uBAAA,EAAM,EAC7M;;AAEX,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,OAAA,EAAA,EACE,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,MAAA;AAAI,MAAA,uBAAA;AAC7B,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAA2B,MAAA,uBAAA,EAAO;AAE7D,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,aAAA;AAAW,MAAA,uBAAA;AACpC,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAAkC,MAAA,uBAAA,EAAO;AAEpE,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,eAAA;AAAa,MAAA,uBAAA;AACtC,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAA0B,MAAA,uBAAA,EAAO;AAE5D,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,gBAAA;AAAc,MAAA,uBAAA;AACvC,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAA2B,MAAA,uBAAA,EAAO,EACvD,EACF;AAIR,MAAA,yBAAA,IAAA,OAAA,CAAA,EAA6B,IAAA,MAAA,CAAA,EACC,IAAA,QAAA,CAAA;AACA,MAAA,iBAAA,IAAA,GAAA;AAAC,MAAA,uBAAA;AAC3B,MAAA,iBAAA,IAAA,YAAA;AACA,MAAA,yBAAA,IAAA,UAAA,CAAA;AAAuC,MAAA,qBAAA,SAAA,SAAA,yDAAA;AAAA,eAAS,IAAA,SAAA,KAAc,CAAC;MAAC,CAAA;;AAC9D,MAAA,yBAAA,IAAA,OAAA,EAAA;AAA4E,MAAA,oBAAA,IAAA,QAAA,EAAA,EAAiE,IAAA,QAAA,EAAA;AAAiE,MAAA,uBAAA,EAAM,EAC7M;;AAEX,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,OAAA,EAAA,EACE,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,YAAA;AAAU,MAAA,uBAAA;AACnC,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAAiE,MAAA,uBAAA,EAAO;AAEnG,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,UAAA;AAAQ,MAAA,uBAAA;AACjC,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAAmE,MAAA,uBAAA,EAAO;AAErG,MAAA,qBAAA,IAAA,sCAAA,GAAA,GAAA,OAAA,EAAA,EAAoE,IAAA,sCAAA,GAAA,GAAA,OAAA,EAAA;AAQtE,MAAA,uBAAA,EAAM;AAIR,MAAA,yBAAA,IAAA,OAAA,CAAA,EAA6B,IAAA,MAAA,CAAA,EACC,IAAA,QAAA,CAAA;AACA,MAAA,iBAAA,IAAA,GAAA;AAAC,MAAA,uBAAA;AAC3B,MAAA,iBAAA,IAAA,SAAA;AACA,MAAA,yBAAA,IAAA,UAAA,CAAA;AAAuC,MAAA,qBAAA,SAAA,SAAA,yDAAA;AAAA,eAAS,IAAA,SAAA,KAAc,CAAC;MAAC,CAAA;;AAC9D,MAAA,yBAAA,IAAA,OAAA,EAAA;AAA4E,MAAA,oBAAA,IAAA,QAAA,EAAA,EAAiE,IAAA,QAAA,EAAA;AAAiE,MAAA,uBAAA,EAAM,EAC7M;;AAEX,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,OAAA,EAAA,EACE,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,WAAA;AAAS,MAAA,uBAAA;AAClC,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAAmC,MAAA,uBAAA,EAAO;AAErE,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,aAAA;AAAW,MAAA,uBAAA;AACpC,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAAyB,MAAA,uBAAA,EAAO;AAE3D,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,cAAA;AAAY,MAAA,uBAAA;AACrC,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAAgD,MAAA,uBAAA,EAAO;AAElF,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,QAAA,EAAA;AACC,MAAA,iBAAA,IAAA,gBAAA;AAAc,MAAA,uBAAA;AACvC,MAAA,yBAAA,IAAA,QAAA,EAAA;AAAyB,MAAA,iBAAA,EAAA;AAA2F,MAAA,uBAAA,EAAO,EACvH,EACF;AAIR,MAAA,yBAAA,IAAA,OAAA,CAAA,EAA6B,IAAA,MAAA,CAAA,EACC,IAAA,QAAA,CAAA;AACA,MAAA,iBAAA,IAAA,GAAA;AAAC,MAAA,uBAAA;AAC3B,MAAA,iBAAA,IAAA,SAAA;AACA,MAAA,yBAAA,IAAA,UAAA,CAAA;AAAuC,MAAA,qBAAA,SAAA,SAAA,yDAAA;AAAA,eAAS,IAAA,SAAA,KAAc,CAAC;MAAC,CAAA;;AAC9D,MAAA,yBAAA,IAAA,OAAA,EAAA;AAA4E,MAAA,oBAAA,IAAA,QAAA,EAAA,EAAiE,IAAA,QAAA,EAAA;AAAiE,MAAA,uBAAA,EAAM,EAC7M;AAEX,MAAA,qBAAA,IAAA,sCAAA,GAAA,GAAA,OAAA,EAAA,EAAqD,KAAA,uCAAA,IAAA,GAAA,OAAA,EAAA;AAevD,MAAA,uBAAA,EAAM;;;;;AAvIM,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA;AAOgB,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,iBAAA;AAGA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,CAAA,IAAA,iBAAA;AAOxB,MAAA,oBAAA;AAAA,MAAA,qBAAA,YAAA,CAAA,IAAA,wBAAA,IAAA,SAAA;AAGA,MAAA,oBAAA;AAAA,MAAA,6BAAA,KAAA,IAAA,YAAA,iBAAA,IAAA,oBAAA,aAAA,cAAA,GAAA;AAgB2B,MAAA,oBAAA,EAAA;AAAA,MAAA,4BAAA,IAAA,UAAA,QAAA,QAAA;AAIA,MAAA,oBAAA,CAAA;AAAA,MAAA,4BAAA,IAAA,UAAA,eAAA,QAAA;AAIA,MAAA,oBAAA,CAAA;AAAA,MAAA,4BAAA,IAAA,mBAAA,CAAA;AAIA,MAAA,oBAAA,CAAA;AAAA,MAAA,4BAAA,IAAA,oBAAA,CAAA;AAiBA,MAAA,oBAAA,EAAA;AAAA,MAAA,4BAAA,IAAA,UAAA,YAAA,IAAA,WAAA,IAAA,UAAA,SAAA,IAAA,QAAA;AAIA,MAAA,oBAAA,CAAA;AAAA,MAAA,4BAAA,IAAA,UAAA,UAAA,IAAA,WAAA,IAAA,UAAA,OAAA,IAAA,SAAA;AAEW,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,YAAA,SAAA,CAAA;AAIA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,YAAA,WAAA,CAAA;AAmBX,MAAA,oBAAA,EAAA;AAAA,MAAA,6BAAA,WAAA,IAAA,UAAA,oBAAA,QAAA,aAAA,SAAA,WAAA,CAAA;AAIA,MAAA,oBAAA,CAAA;AAAA,MAAA,4BAAA,IAAA,kBAAA,CAAA;AAIA,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,WAAA,WAAA,IAAA,UAAA,wBAAA,QAAA,aAAA,SAAA,WAAA,KAAA,GAAA;AAIA,MAAA,oBAAA,CAAA;AAAA,MAAA,4BAAA,IAAA,UAAA,oBAAA,IAAA,UAAA,oBAAA,UAAA,eAAA;AAcvB,MAAA,oBAAA,EAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA,WAAA,CAAA;AACA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA,SAAA,CAAA;;oBA7HF,cAAY,SAAA,MAAE,cAAc,GAAA,QAAA,CAAA,isGAAA,EAAA,CAAA;;;sEA2M3B,sBAAoB,CAAA;UA9MhC;uBACW,oBAAkB,YAChB,MAAI,SACP,CAAC,cAAc,cAAc,GAAC,UAC7B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA4IT,QAAA,CAAA,g9FAAA,EAAA,CAAA;cA+DQ,MAAI,CAAA;UAAZ;MACQ,mBAAiB,CAAA;UAAzB;MACQ,sBAAoB,CAAA;UAA5B;MACQ,WAAS,CAAA;UAAjB;MACS,UAAQ,CAAA;UAAjB;MACS,QAAM,CAAA;UAAf;;;;6EANU,sBAAoB,EAAA,WAAA,wBAAA,UAAA,8FAAA,YAAA,IAAA,CAAA;AAAA,GAAA;;;;;;ACpJvB,IAAA,yBAAA,GAAA,aAAA,EAAA;AAAiE,IAAA,qBAAA,aAAA,SAAA,mFAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAA,OAAA,cAA2B,EAAE;IAAA,CAAA;AAC5F,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;AAF4C,IAAA,qBAAA,eAAA,IAAA;AAC1C,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,aAAA,GAAA;;;;;AAIF,IAAA,oBAAA,GAAA,4BAAA,EAAA;;;;AAEE,IAAA,qBAAA,QAAA,OAAA,IAAA;;;;;AAIF,IAAA,oBAAA,GAAA,qBAAA,EAAA;;;;AAEE,IAAA,qBAAA,QAAA,OAAA,IAAA;;;;;AAIF,IAAA,oBAAA,GAAA,kBAAA,EAAA;;;;AAEE,IAAA,qBAAA,QAAA,OAAA,IAAA;;;;;AAIF,IAAA,oBAAA,GAAA,kBAAA,EAAA;;;;AAEE,IAAA,qBAAA,QAAA,OAAA,IAAA;;;;;AAIF,IAAA,oBAAA,GAAA,wBAAA;;;;;;AAKA,IAAA,yBAAA,GAAA,oBAAA,EAAA;AAME,IAAA,qBAAA,YAAA,SAAA,+FAAA,QAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAY,OAAA,SAAA,MAAA,CAAgB;IAAA,CAAA,EAAC,UAAA,SAAA,+FAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBACnB,OAAA,OAAA,CAAQ;IAAA,CAAA;AACnB,IAAA,uBAAA;;;;AANC,IAAA,qBAAA,QAAA,OAAA,IAAA,EAAa,qBAAA,OAAA,iBAAA,EAC0B,wBAAA,OAAA,oBAAA,EACM,aAAA,OAAA,SAAA;;;;;AAoBvC,IAAA,kCAAA,CAAA;;AACE,IAAA,yBAAA,GAAA,OAAA,EAAA;AAA4E,IAAA,oBAAA,GAAA,QAAA,EAAA;AAA0B,IAAA,uBAAA;;;;;;AAExG,IAAA,kCAAA,CAAA;AAA4C,IAAA,iBAAA,CAAA;;;;;AAAA,IAAA,oBAAA;AAAA,IAAA,4BAAA,QAAA,GAAA;;;;;;AAO9C,IAAA,yBAAA,GAAA,UAAA,EAAA;AAIE,IAAA,qBAAA,SAAA,SAAA,mFAAA,QAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA,CAAA;AAAS,aAAA,SAAA;AAAU,aAAA,sBAAE,OAAA,gBAAA,CAAwB;IAAA,CAAA;AAE7C,IAAA,iBAAA,GAAA,aAAA;AACF,IAAA,uBAAA;;;;;AATF,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAiE,GAAA,KAAA,EAAA;AAC1C,IAAA,iBAAA,CAAA;AAAe,IAAA,uBAAA;AACpC,IAAA,qBAAA,GAAA,4DAAA,GAAA,GAAA,UAAA,EAAA;AAQF,IAAA,uBAAA;;;;;AATuB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,IAAA;AAElB,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,cAAA,OAAA,MAAA,MAAA;;;;;AASL,IAAA,oBAAA,GAAA,OAAA,EAAA;;;;;;AA5BF,IAAA,yBAAA,GAAA,MAAA,EAAA;AAKI,IAAA,qBAAA,SAAA,SAAA,kEAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,SAAA,QAAA,GAAA,CAAkB;IAAA,CAAA;AAC7B,IAAA,yBAAA,GAAA,OAAA,EAAA,EAAsB,GAAA,QAAA,EAAA;AAElB,IAAA,qBAAA,GAAA,4DAAA,GAAA,GAAA,gBAAA,CAAA,EAA2C,GAAA,4DAAA,GAAA,GAAA,gBAAA,CAAA;AAI7C,IAAA,uBAAA;AACA,IAAA,yBAAA,GAAA,QAAA,EAAA;AAAyB,IAAA,iBAAA,CAAA;AAAgB,IAAA,uBAAA,EAAO;AAGlD,IAAA,qBAAA,GAAA,mDAAA,GAAA,GAAA,OAAA,EAAA,EAAiE,GAAA,mDAAA,GAAA,GAAA,OAAA,EAAA;AAanE,IAAA,uBAAA;;;;;;AA3BI,IAAA,sBAAA,UAAA,OAAA,gBAAA,QAAA,GAAA,EAAyC,QAAA,OAAA,WAAA,QAAA,GAAA,CAAA,EACN,UAAA,OAAA,cAAA,QAAA,OAAA,CAAA,OAAA,WAAA,QAAA,GAAA,CAAA;AAKlB,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,WAAA,QAAA,GAAA,CAAA;AAGA,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,CAAA,OAAA,WAAA,QAAA,GAAA,CAAA;AAEQ,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,KAAA;AAGrB,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,OAAA,gBAAA,QAAA,GAAA;AAYuB,IAAA,oBAAA;AAAA,IAAA,qBAAA,QAAA,CAAA,OAAA;;;;;;AAU7B,IAAA,yBAAA,GAAA,UAAA,EAAA;AAIE,IAAA,qBAAA,SAAA,SAAA,+EAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,OAAA,CAAQ;IAAA,CAAA;AAEjB,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;AAJE,IAAA,qBAAA,YAAA,OAAA,SAAA;AAGA,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,YAAA,iBAAA,OAAA,oBAAA,aAAA,cAAA,GAAA;;;;;;AAGF,IAAA,yBAAA,GAAA,UAAA,EAAA;AAIE,IAAA,qBAAA,SAAA,SAAA,+EAAA;AAAA,MAAA,wBAAA,GAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,UAAA,CAAW;IAAA,CAAA;AAEpB,IAAA,iBAAA,CAAA;AACF,IAAA,uBAAA;;;;AAJE,IAAA,qBAAA,YAAA,OAAA,MAAA;AAGA,IAAA,oBAAA;AAAA,IAAA,6BAAA,KAAA,OAAA,SAAA,cAAA,cAAA,GAAA;;;AApIhB,IAAM,QAAsB;EAC1B,EAAE,KAAK,GAAG,OAAO,mBAAmB,MAAM,wDAAuD;EACjG,EAAE,KAAK,GAAG,OAAO,YAAY,MAAM,6CAA4C;EAC/E,EAAE,KAAK,GAAG,OAAO,SAAS,MAAM,8CAA6C;EAC7E,EAAE,KAAK,GAAG,OAAO,oBAAoB,MAAM,kDAAiD;EAC5F,EAAE,KAAK,GAAG,OAAO,iBAAiB,MAAM,yCAAwC;EAChF,EAAE,KAAK,GAAG,OAAO,oBAAoB,MAAM,8CAA6C;;AAG1F,IAAM,WAAwB;EAC5B;EAAU;EAAW;EAAa;EAAY;EAAU;EAAY;;AAgPhE,IAAO,+BAAP,MAAO,8BAA4B;EAC/B,oBAAoB,OAAO,iBAAiB;EAC5C,QAAQ,OAAO,cAAc;EAC7B,SAAS,OAAO,MAAM;EACtB,KAAK,OAAO,WAAW;EACvB,QAAQ,OAAO,YAAY;EAC3B,wBAAwB,OAAO,qBAAqB;EACpD,WAAW,IAAI,QAAO;EAErB,QAAQ;EACjB,cAAc;;EAEd,iBAAiB;EACjB,YAAY;EACZ,SAAS;EACT,YAAY;EACZ,cAAc;EAEd;EAEA,IAAI,eAAY;AACd,WAAO,kCAAkC,KAAK,SAAS;EACzD;;EAGA,WAAW,SAAe;AACxB,QAAI,KAAK,iBAAiB;AAAS,aAAO;AAC1C,WAAO,KAAK,eAAe,OAAO;EACpC;;EAGA,eAAe,SAAe;AAC5B,QAAI,CAAC,KAAK;AAAM,aAAO;AACvB,YAAQ,SAAS;MACf,KAAK,GAAG;AACN,cAAM,OAAO,KAAK,KAAK,IAAI,MAAM;AACjC,cAAM,eAAe,KAAK,KAAK,IAAI,cAAc;AACjD,cAAM,gBAAgB,KAAK,KAAK,IAAI,eAAe;AACnD,cAAM,MAAM,KAAK,KAAK,IAAI,sBAAsB;AAChD,cAAM,OAAO,cAAc;AAC3B,cAAM,UAAU,MAAM;AACtB,cAAM,UAAU,OAAO,YAAY,YAAY,QAAQ,KAAI,EAAG,SAAS;AACvE,eAAO,CAAC,EAAE,WAAW,cAAc,SAAS,eAAe,UACrD,SAAS,kBAAmB,KAAK,SAAS,QAAQ,OAAO,KAAK,KAAK,IAAI;MAC/E;MACA,KAAK,GAAG;AACN,cAAM,QAAQ,KAAK,KAAK,IAAI,WAAW;AACvC,cAAM,IAAI,OAAO;AACjB,eAAO,CAAC,EAAE,OAAO,SAAS,KAAK,QAAQ,OAAO,CAAC,EAAE,KAAI,EAAG,SAAS;MACnE;MACA,KAAK,GAAG;AACN,cAAM,WAAW,KAAK,KAAK,IAAI,gBAAgB;AAC/C,eAAO,UAAU,UAAU;MAC7B;MACA,KAAK,GAAG;AACN,cAAM,QAAQ,KAAK,KAAK,IAAI,OAAO;AACnC,eAAO,OAAO,UAAU;MAC1B;MACA,KAAK;MACL,KAAK;AACH,eAAO;MACT;AACE,eAAO;IACX;EACF;;EAGA,IAAI,uBAAoB;AACtB,QAAI,CAAC,KAAK;AAAM,aAAO;AACvB,WAAO,KAAK,eAAe,CAAC,KAAK,KAAK,eAAe,CAAC,KAAM,KAAK,KAAK,IAAI,OAAO,GAAiB,UAAU;EAC9G;EAEA,WAAQ;AACN,SAAK,MAAM,SAAS,KAAK,UAAU,KAAK,QAAQ,CAAC,EAAE,UAAU,YAAS;AACpE,WAAK,YAAY,OAAO,IAAI,MAAM,KAAK;AACvC,YAAM,YAAY,OAAO,IAAI,MAAM;AACnC,UAAI,WAAW;AACb,cAAM,OAAO,SAAS,WAAW,EAAE;AACnC,YAAI,QAAQ,KAAK,QAAQ,MAAM,QAAQ;AACrC,eAAK,cAAc;AACnB,eAAK,iBAAiB,KAAK,IAAI,KAAK,gBAAgB,IAAI;QAC1D,OAAO;AACL,eAAK,OAAO,SAAS,CAAC,kBAAkB,UAAU,YAAY,KAAK,WAAW,SAAS,GAAG,GAAG,EAAE,YAAY,KAAI,CAAE;QACnH;MACF;IACF,CAAC;AAED,SAAK,kBAAkB,cAAc,2BAA2B;MAC9D,EAAE,OAAO,QAAQ,OAAO,QAAO;MAC/B,EAAE,OAAO,mBAAmB,OAAO,iBAAgB;MACnD,EAAE,OAAO,0BAAyB;KACnC;AAED,SAAK,UAAS;AACd,SAAK,kBAAiB;EACxB;EAEA,cAAW;AACT,SAAK,SAAS,KAAI;AAClB,SAAK,SAAS,SAAQ;EACxB;;EAIQ,YAAS;AACf,SAAK,OAAO,KAAK,GAAG,MAAM;;MAExB,MAAM,CAAC,IAAI,WAAW,QAAQ;MAC9B,aAAa,CAAC,EAAE;MAChB,cAAc,CAAC,IAAI,WAAW,QAAQ;MACtC,eAAe,CAAC,MAAM,CAAC,WAAW,UAAU,WAAW,IAAI,CAAC,CAAC,CAAC;MAC9D,sBAAsB,CAAC,IAAI;;MAG3B,WAAW,CAAC,IAAI,WAAW,QAAQ;MACnC,SAAS,CAAC,EAAE;MACZ,iBAAiB,KAAK,GAAG,MACvB,SAAS,IAAI,SAAM;AACjB,cAAM,YAAY,CAAC,UAAU,WAAW,aAAa,YAAY,QAAQ,EAAE,SAAS,GAAG;AACvF,eAAO,KAAK,GAAG,MAAM;UACnB,WAAW,CAAC,GAAG;UACf,SAAS,CAAC,SAAS;UACnB,WAAW,CAAC,OAAO;UACnB,SAAS,CAAC,OAAO;SAClB;MACH,CAAC,CAAC;;MAIJ,gBAAgB,CAAC,GAAG,WAAW,IAAI,CAAC,CAAC;MACrC,iBAAiB,CAAC,KAAK;MACvB,oBAAoB,CAAC,GAAG;MACxB,mBAAmB,CAAC,IAAI;;MAGxB,OAAO,KAAK,GAAG,MAAM,CAAA,CAAE;KACxB;EACH;;EAIQ,oBAAiB;AACvB,QAAI,CAAC,KAAK;AAAW;AAErB,SAAK,sBAAsB,WAAW,KAAK,SAAS,EACjD,KAAK,UAAU,KAAK,QAAQ,CAAC,EAC7B,UAAU;MACT,MAAM,CAAC,YAAW;AAChB,YAAI,QAAQ,WAAW,SAAS;AAC9B,eAAK,OAAO,SAAS,CAAC,kBAAkB,QAAQ,QAAQ,IAAI,GAAG,EAAE,YAAY,KAAI,CAAE;AACnF;QACF;AACA,aAAK,sBAAsB,OAAO;MACpC;MACA,OAAO,MAAK;MAAE;;KACf;EACL;EAEQ,sBAAsB,GAAwB;AACpD,SAAK,KAAK,WAAW;MACnB,MAAM,EAAE,QAAQ;MAChB,aAAa,EAAE,eAAe;MAC9B,WAAW,EAAE,YAAY,KAAK,gBAAgB,EAAE,SAAS,IAAI;MAC7D,SAAS,EAAE,UAAU,KAAK,gBAAgB,EAAE,OAAO,IAAI;KACxD;AAGD,QAAI,EAAE,cAAc;AAClB,WAAK,KAAK,WAAW;QACnB,cAAc,EAAE,aAAa;QAC7B,eAAe,EAAE,aAAa;QAC9B,sBAAsB,EAAE,aAAa;QACrC,gBAAgB,EAAE,aAAa;QAC/B,iBAAiB,EAAE,aAAa;QAChC,oBAAoB,EAAE,aAAa;QACnC,mBAAmB,EAAE,aAAa;OACnC;IACH;AAGA,QAAI,EAAE,mBAAmB,EAAE,gBAAgB,SAAS,GAAG;AACrD,YAAM,iBAAiB,KAAK,KAAK,IAAI,iBAAiB;AACtD,QAAE,gBAAgB,QAAQ,QAAK;AAC7B,cAAM,WAAW,SAAS,QAAQ,GAAG,SAAS;AAC9C,YAAI,YAAY,GAAG;AACjB,yBAAe,GAAG,QAAQ,EAAE,WAAW;YACrC,SAAS,GAAG;YACZ,WAAW,GAAG,aAAa;YAC3B,SAAS,GAAG,WAAW;WACxB;QACH;MACF,CAAC;IACH;AAGA,QAAI,EAAE,iBAAiB,EAAE,cAAc,SAAS,GAAG;AACjD,YAAM,aAAa,KAAK,KAAK,IAAI,OAAO;AACxC,iBAAW,MAAK;AAChB,QAAE,cAAc,QAAQ,OAAI;AAC1B,mBAAW,KAAK,KAAK,GAAG,MAAM;UAC5B,MAAM,CAAC,EAAE,MAAM,WAAW,QAAQ;UAClC,WAAW,CAAC,EAAE,WAAW,CAAC,WAAW,UAAU,WAAW,IAAI,CAAC,CAAC,CAAC;UACjE,WAAW,CAAC,EAAE,SAAS;UACvB,qBAAqB,CAAC,EAAE,qBAAqB,CAAC,WAAW,UAAU,WAAW,IAAI,CAAC,CAAC,CAAC;UACrF,WAAW,CAAC,EAAE,SAAS;SACxB,CAAC;MACJ,CAAC;IACH;EACF;EAEQ,gBAAgB,KAAW;AACjC,QAAI,CAAC;AAAK,aAAO;AACjB,QAAI;AACF,YAAM,IAAI,IAAI,KAAK,GAAG;AACtB,YAAM,MAAM,CAAC,MAAc,EAAE,SAAQ,EAAG,SAAS,GAAG,GAAG;AACvD,aAAO,GAAG,EAAE,YAAW,CAAE,IAAI,IAAI,EAAE,SAAQ,IAAK,CAAC,CAAC,IAAI,IAAI,EAAE,QAAO,CAAE,CAAC,IAAI,IAAI,EAAE,SAAQ,CAAE,CAAC,IAAI,IAAI,EAAE,WAAU,CAAE,CAAC;IACpH,QAAQ;AACN,aAAO;IACT;EACF;;EAIA,SAAS,MAAY;AACnB,QAAI,QAAQ,KAAK,QAAQ,MAAM,QAAQ;AACrC,WAAK,OAAO,SAAS,CAAC,kBAAkB,UAAU,YAAY,KAAK,WAAW,SAAS,KAAK,SAAQ,CAAE,CAAC;IACzG;EACF;EAEA,WAAQ;AACN,QAAI,KAAK,cAAc,MAAM,QAAQ;AACnC,YAAM,OAAO,KAAK,cAAc;AAChC,WAAK,OAAO,SAAS,CAAC,kBAAkB,UAAU,YAAY,KAAK,WAAW,SAAS,KAAK,SAAQ,CAAE,CAAC;IACzG;EACF;EAEA,WAAQ;AACN,QAAI,CAAC,KAAK,WAAW;AACnB,WAAK,OAAO,SAAS,CAAC,gBAAgB,CAAC;AACvC;IACF;AACA,SAAK,sBAAsB,cAAc,KAAK,SAAS,EAAE,UAAU;MACjE,MAAM,MAAM,KAAK,OAAO,SAAS,CAAC,gBAAgB,CAAC;MACnD,OAAO,MAAM,KAAK,OAAO,SAAS,CAAC,gBAAgB,CAAC;KACrD;EACH;;EAIQ,wBAAqB;AAC3B,UAAM,IAAI,KAAK,KAAK,YAAW;AAC/B,UAAM,YAAmC,EAAE,gBACxC,OAAO,CAAC,MAAW,EAAE,OAAO,EAC5B,IAAI,CAAC,OAAY;MAChB,WAAW,EAAE;MACb,SAAS;MACT,WAAW,EAAE,aAAa;MAC1B,SAAS,EAAE,WAAW;MACtB;AAEJ,UAAM,QAA6B,EAAE,MAAM,IAAI,CAAC,GAAQ,OAAe;MACrE,MAAM,EAAE;MACR,WAAW,EAAE;MACb,WAAW,EAAE,aAAa;MAC1B,qBAAqB,EAAE;MACvB,WAAW;MACX;AAEF,WAAO;MACL,MAAM,EAAE,QAAQ;MAChB,aAAa,EAAE,eAAe;MAC9B,cAAc,EAAE,gBAAgB;MAChC,eAAe,EAAE,iBAAiB;MAClC,sBAAsB,EAAE,wBAAwB;MAChD,gBAAgB,EAAE,kBAAkB;MACpC,iBAAiB,EAAE,mBAAmB;MACtC,oBAAoB,EAAE,sBAAsB;MAC5C,mBAAmB,EAAE,qBAAqB;MAC1C,WAAW,EAAE,YAAY,IAAI,KAAK,EAAE,SAAS,EAAE,YAAW,IAAK;MAC/D,SAAS,EAAE,UAAU,IAAI,KAAK,EAAE,OAAO,EAAE,YAAW,IAAK;MACzD,iBAAiB,UAAU,SAAS,IAAI,YAAY;MACpD,OAAO,MAAM,SAAS,IAAI,QAAQ;;EAEtC;;EAIA,YAAS;AACP,QAAI,CAAC,KAAK,aAAa,KAAK;AAAQ;AAEpC,SAAK,SAAS;AACd,SAAK,cAAc;AACnB,UAAM,UAAU,KAAK,sBAAqB;AAE1C,SAAK,sBAAsB,kBAAkB,KAAK,WAAW,OAAO,EACjE,KACC,UAAU,KAAK,QAAQ,GACvB,SAAS,MAAM,KAAK,SAAS,KAAK,CAAC,EAEpC,UAAU;MACT,MAAM,MAAK;AACT,aAAK,MAAM,QAAQ,aAAa;AAChC,aAAK,OAAO,SAAS,CAAC,gBAAgB,CAAC;MACzC;MACA,OAAO,CAAC,QAAO;AACb,cAAM,SAAS,KAAK,UAAU;AAC9B,cAAM,UAAU,KAAK,OAAO,WAAW;AACvC,YAAI,UAAU,KAAK;AACjB,eAAK,MAAM,MAAM,OAAO;QAC1B,OAAO;AACL,eAAK,cAAc;QACrB;MACF;KACD;EACL;;EAIA,IAAI,oBAAiB;AACnB,UAAM,YAAY,KAAK,KAAK,IAAI,WAAW,GAAG;AAC9C,QAAI,CAAC;AAAW,aAAO;AACvB,WAAO,IAAI,KAAK,SAAS,IAAI,oBAAI,KAAI;EACvC;EAEA,SAAM;AACJ,QAAI,CAAC,KAAK,aAAa,KAAK;AAAW;AAGvC,SAAK,KAAK,iBAAgB;AAE1B,SAAK,YAAY;AACjB,SAAK,cAAc;AAEnB,UAAM,IAAI,KAAK,KAAK,YAAW;AAC/B,UAAM,YAAmC,EAAE,gBACxC,OAAO,CAAC,MAAW,EAAE,OAAO,EAC5B,IAAI,CAAC,OAAY;MAChB,WAAW,EAAE;MACb,SAAS;MACT,WAAW,EAAE,aAAa;MAC1B,SAAS,EAAE,WAAW;MACtB;AAEJ,UAAM,QAA6B,EAAE,MAAM,IAAI,CAAC,GAAQ,OAAe;MACrE,MAAM,EAAE;MACR,WAAW,EAAE;MACb,WAAW,EAAE,aAAa;MAC1B,qBAAqB,EAAE;MACvB,WAAW;MACX;AAGF,UAAM,UAAwC;MAC5C,WAAW,CAAC,KAAK;MACjB,MAAM,EAAE,QAAQ;MAChB,aAAa,EAAE,eAAe;MAC9B,cAAc,EAAE,gBAAgB;MAChC,eAAe,EAAE,iBAAiB,OAAO,OAAO,EAAE,aAAa,IAAI;MACnE,sBAAsB,EAAE,wBAAwB,OAAO,OAAO,EAAE,oBAAoB,IAAI;MACxF,gBAAgB,EAAE,kBAAkB,OAAO,OAAO,EAAE,cAAc,IAAI;MACtE,iBAAiB,EAAE,mBAAmB;MACtC,oBAAoB,EAAE,sBAAsB,OAAO,OAAO,EAAE,kBAAkB,IAAI;MAClF,mBAAmB,EAAE,qBAAqB,OAAO,OAAO,EAAE,iBAAiB,IAAI;MAC/E,WAAW,EAAE,YAAY,IAAI,KAAK,EAAE,SAAS,EAAE,YAAW,IAAK;MAC/D,SAAS,EAAE,UAAU,IAAI,KAAK,EAAE,OAAO,EAAE,YAAW,IAAK;MACzD,iBAAiB,UAAU,SAAS,IAAI,YAAY;MACpD,OAAO,MAAM,SAAS,IAAI,QAAQ;;AAGpC,SAAK,sBAAsB,sBAAsB,KAAK,WAAW,OAAO,EACrE,KACC,UAAU,KAAK,QAAQ,GACvB,SAAS,MAAM,KAAK,YAAY,KAAK,CAAC,EAEvC,UAAU;MACT,MAAM,MAAK;AACT,aAAK,MAAM,QAAQ,KAAK,oBAAoB,sBAAsB,kBAAkB;AACpF,aAAK,OAAO,SAAS,CAAC,gBAAgB,CAAC;MACzC;MACA,OAAO,CAAC,QAAO;AACb,cAAM,SAAS,KAAK,UAAU;AAC9B,cAAM,UAAU,KAAK,OAAO,WAAW;AACvC,YAAI,UAAU,KAAK;AACjB,eAAK,MAAM,MAAM,OAAO;QAC1B,OAAO;AACL,eAAK,cAAc;QACrB;MACF;KACD;EACL;;qCArYW,+BAA4B;EAAA;yEAA5B,+BAA4B,WAAA,CAAA,CAAA,2BAAA,CAAA,GAAA,OAAA,IAAA,MAAA,IAAA,QAAA,CAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,QAAA,SAAA,GAAA,eAAA,aAAA,GAAA,MAAA,GAAA,CAAA,GAAA,QAAA,GAAA,MAAA,GAAA,CAAA,GAAA,MAAA,GAAA,CAAA,GAAA,QAAA,qBAAA,wBAAA,aAAA,YAAA,UAAA,GAAA,MAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,SAAA,aAAA,GAAA,UAAA,QAAA,UAAA,SAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,QAAA,UAAA,GAAA,cAAA,GAAA,OAAA,GAAA,CAAA,QAAA,UAAA,GAAA,kBAAA,cAAA,GAAA,UAAA,GAAA,CAAA,QAAA,UAAA,GAAA,kBAAA,GAAA,UAAA,GAAA,CAAA,QAAA,SAAA,GAAA,aAAA,aAAA,GAAA,CAAA,GAAA,MAAA,GAAA,CAAA,GAAA,YAAA,UAAA,QAAA,qBAAA,wBAAA,WAAA,GAAA,CAAA,GAAA,aAAA,GAAA,OAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,SAAA,sBAAA,GAAA,MAAA,GAAA,CAAA,SAAA,kBAAA,GAAA,MAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,GAAA,GAAA,CAAA,KAAA,gBAAA,GAAA,CAAA,GAAA,oBAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,QAAA,UAAA,SAAA,iBAAA,GAAA,SAAA,GAAA,MAAA,GAAA,CAAA,QAAA,UAAA,GAAA,iBAAA,GAAA,OAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,QAAA,UAAA,GAAA,kBAAA,cAAA,GAAA,SAAA,UAAA,GAAA,CAAA,QAAA,UAAA,GAAA,kBAAA,GAAA,SAAA,UAAA,CAAA,GAAA,UAAA,SAAA,sCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AApOrC,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA4B,GAAA,OAAA,CAAA,EACC,GAAA,QAAA,CAAA,EAEC,GAAA,MAAA,CAAA;AACD,MAAA,iBAAA,CAAA;AAAqD,MAAA,uBAAA;AAG5E,MAAA,qBAAA,GAAA,mDAAA,GAAA,GAAA,aAAA,CAAA,EAAgG,GAAA,kEAAA,GAAA,GAAA,4BAAA,CAAA,EAQ/F,GAAA,2DAAA,GAAA,GAAA,qBAAA,CAAA,EAMA,GAAA,wDAAA,GAAA,GAAA,kBAAA,CAAA,EAMA,GAAA,wDAAA,GAAA,GAAA,kBAAA,CAAA,EAMA,IAAA,iEAAA,GAAA,GAAA,0BAAA,CAAA,EAKA,IAAA,2DAAA,GAAA,GAAA,oBAAA,CAAA;AAYH,MAAA,uBAAA;AAGA,MAAA,yBAAA,IAAA,SAAA,CAAA,EAA6B,IAAA,MAAA,CAAA;AACD,MAAA,iBAAA,IAAA,kBAAA;AAAgB,MAAA,uBAAA;AAE1C,MAAA,yBAAA,IAAA,MAAA,EAAA;AACE,MAAA,qBAAA,IAAA,6CAAA,GAAA,IAAA,MAAA,EAAA;AA8BF,MAAA,uBAAA;AAGA,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA4B,IAAA,UAAA,EAAA;AACe,MAAA,qBAAA,SAAA,SAAA,iEAAA;AAAA,eAAS,IAAA,SAAA;MAAU,CAAA;AAC1D,MAAA,iBAAA,IAAA,UAAA;AACF,MAAA,uBAAA;AACA,MAAA,qBAAA,IAAA,sDAAA,GAAA,GAAA,UAAA,EAAA,EAA4B,IAAA,sDAAA,GAAA,GAAA,UAAA,EAAA;AAmB9B,MAAA,uBAAA,EAAM,EACA,EACJ;;;AA/GqB,MAAA,oBAAA,CAAA;AAAA,MAAA,6BAAA,IAAA,IAAA,aAAA,MAAA,IAAA,MAAA,IAAA,cAAA,CAAA,EAAA,OAAA,EAAA;AAGX,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,WAAA;AAMT,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,gBAAA,CAAA;AAMA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,gBAAA,CAAA;AAMA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,gBAAA,CAAA;AAMA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,gBAAA,CAAA;AAMA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,gBAAA,CAAA;AAKA,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,gBAAA,CAAA;AAeoB,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,KAAA;AAqCrB,MAAA,oBAAA,CAAA;AAAA,MAAA,wBAAA,IAAA,uBAAA,KAAA,EAAA;;;IAnGR;IAAY;IAAA;IAAE;IAAqB;IACnC;IAA6B;IAAuB;IACpD;IAAoB;IAA4B;EAAoB,GAAA,QAAA,CAAA,8wJAAA,EAAA,CAAA;;;sEAuO3D,8BAA4B,CAAA;UA7OxC;uBACW,6BAA2B,YACzB,MAAI,SACP;MACP;MAAc;MAAqB;MACnC;MAA6B;MAAuB;MACpD;MAAoB;MAA4B;OACjD,UACS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAsHT,QAAA,CAAA,ytIAAA,EAAA,CAAA;;;;6EA+GU,8BAA4B,EAAA,WAAA,gCAAA,UAAA,iGAAA,YAAA,IAAA,CAAA;AAAA,GAAA;",
  "names": []
}
