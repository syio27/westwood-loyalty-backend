{
  "version": 3,
  "sources": ["src/app/shared/components/select/select.component.ts"],
  "sourcesContent": ["import { Component, Input, forwardRef, ElementRef, HostListener } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR, FormsModule } from '@angular/forms';\n\nexport interface SelectOption {\n  value: any;\n  label: string;\n  disabled?: boolean;\n}\n\n@Component({\n  selector: 'app-select',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => SelectComponent),\n      multi: true\n    }\n  ],\n  template: `\n    <div class=\"select-wrapper\">\n      <label *ngIf=\"label\" class=\"select-label\">\n        {{ label }}\n        <span *ngIf=\"required\" class=\"required-mark\">*</span>\n      </label>\n\n      <div\n        class=\"select-trigger\"\n        [class.open]=\"isOpen\"\n        [class.error]=\"!!errorMessage\"\n        [class.disabled]=\"disabled\"\n        (click)=\"toggle()\"\n        tabindex=\"0\"\n        (keydown)=\"onKeydown($event)\"\n        (blur)=\"onBlurTrigger()\"\n      >\n        <span class=\"select-value\" [class.placeholder]=\"!selectedLabel\">\n          {{ selectedLabel || placeholder || 'Select...' }}\n        </span>\n        <svg class=\"select-chevron\" [class.rotated]=\"isOpen\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <path d=\"M6 9l6 6 6-6\"/>\n        </svg>\n      </div>\n\n      <div class=\"select-dropdown\" *ngIf=\"isOpen\">\n        <div\n          *ngFor=\"let option of options; let i = index\"\n          class=\"select-option\"\n          [class.selected]=\"option.value === value\"\n          [class.disabled]=\"option.disabled\"\n          [class.highlighted]=\"highlightedIndex === i\"\n          (click)=\"selectOption(option, $event)\"\n          (mouseenter)=\"highlightedIndex = i\"\n        >\n          {{ option.label }}\n        </div>\n        <div class=\"select-empty\" *ngIf=\"options.length === 0\">No options</div>\n      </div>\n\n      <span *ngIf=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</span>\n    </div>\n  `,\n  styles: [`\n    .select-wrapper {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n      width: 100%;\n      position: relative;\n    }\n\n    .select-label {\n      font-weight: 500;\n      font-size: 0.875rem;\n      color: #1a202c;\n    }\n\n    .required-mark {\n      color: #dc3545;\n      margin-left: 0.25rem;\n    }\n\n    .select-trigger {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      gap: 0.5rem;\n      width: 100%;\n      padding: 0.625rem 0.875rem;\n      border: 1px solid var(--color-input-border);\n      border-radius: 6px;\n      font-size: 0.875rem;\n      background-color: #ffffff;\n      color: #1a202c;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      user-select: none;\n      outline: none;\n    }\n\n    .select-trigger:hover:not(.disabled) {\n      border-color: var(--color-input-border-hover);\n    }\n\n    .select-trigger:focus:not(.disabled) {\n      border-color: var(--color-input-border-focus);\n      box-shadow: 0 0 0 3px var(--color-input-shadow-focus);\n    }\n\n    .select-trigger.open {\n      border-color: var(--color-input-border-focus);\n      box-shadow: 0 0 0 3px var(--color-input-shadow-focus);\n    }\n\n    .select-trigger.disabled {\n      background-color: #f8f9fa;\n      color: #94a3b8;\n      cursor: not-allowed;\n    }\n\n    .select-trigger.error {\n      border-color: var(--color-input-error);\n    }\n\n    .select-trigger.error:focus,\n    .select-trigger.error.open {\n      box-shadow: 0 0 0 3px var(--color-input-error-shadow);\n    }\n\n    .select-value {\n      flex: 1;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .select-value.placeholder {\n      color: #94a3b8;\n    }\n\n    .select-chevron {\n      width: 18px;\n      height: 18px;\n      color: #94a3b8;\n      flex-shrink: 0;\n      transition: transform 0.2s ease;\n    }\n\n    .select-chevron.rotated {\n      transform: rotate(180deg);\n    }\n\n    .select-dropdown {\n      position: absolute;\n      top: 100%;\n      left: 0;\n      right: 0;\n      z-index: 50;\n      margin-top: 4px;\n      background: #ffffff;\n      border: 1px solid #e2e8f0;\n      border-radius: 8px;\n      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.04);\n      max-height: 240px;\n      overflow-y: auto;\n      padding: 4px;\n    }\n\n    .select-option {\n      padding: 0.625rem 0.875rem;\n      font-size: 0.875rem;\n      color: #1a202c;\n      border-radius: 6px;\n      cursor: pointer;\n      transition: background-color 0.1s ease;\n      user-select: none;\n    }\n\n    .select-option:hover,\n    .select-option.highlighted {\n      background-color: #f0fdf4;\n      color: #15803d;\n    }\n\n    .select-option.selected {\n      background-color: #dcfce7;\n      color: #15803d;\n      font-weight: 600;\n    }\n\n    .select-option.disabled {\n      color: #94a3b8;\n      cursor: not-allowed;\n    }\n\n    .select-option.disabled:hover {\n      background-color: transparent;\n      color: #94a3b8;\n    }\n\n    .select-empty {\n      padding: 0.75rem;\n      font-size: 0.85rem;\n      color: #94a3b8;\n      text-align: center;\n    }\n\n    .error-message {\n      color: #dc3545;\n      font-size: 0.75rem;\n    }\n  `]\n})\nexport class SelectComponent implements ControlValueAccessor {\n  @Input() id = '';\n  @Input() label = '';\n  @Input() placeholder = '';\n  @Input() options: SelectOption[] = [];\n  @Input() disabled = false;\n  @Input() required = false;\n  @Input() errorMessage = '';\n\n  value: any = '';\n  isOpen = false;\n  highlightedIndex = -1;\n\n  private onChangeFn = (value: any) => {};\n  private onTouchedFn = () => {};\n\n  constructor(private elementRef: ElementRef) {}\n\n  get selectedLabel(): string {\n    const found = this.options.find(o => o.value === this.value);\n    return found ? found.label : '';\n  }\n\n  toggle(): void {\n    if (this.disabled) return;\n    this.isOpen = !this.isOpen;\n    if (this.isOpen) {\n      const idx = this.options.findIndex(o => o.value === this.value);\n      this.highlightedIndex = idx >= 0 ? idx : 0;\n    }\n  }\n\n  selectOption(option: SelectOption, event: Event): void {\n    event.stopPropagation();\n    if (option.disabled) return;\n    this.value = option.value;\n    this.onChangeFn(this.value);\n    this.isOpen = false;\n  }\n\n  onKeydown(event: KeyboardEvent): void {\n    if (this.disabled) return;\n\n    switch (event.key) {\n      case 'Enter':\n      case ' ':\n        event.preventDefault();\n        if (this.isOpen && this.highlightedIndex >= 0) {\n          const opt = this.options[this.highlightedIndex];\n          if (opt && !opt.disabled) {\n            this.selectOption(opt, event);\n          }\n        } else {\n          this.toggle();\n        }\n        break;\n      case 'ArrowDown':\n        event.preventDefault();\n        if (!this.isOpen) { this.isOpen = true; }\n        this.moveHighlight(1);\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n        this.moveHighlight(-1);\n        break;\n      case 'Escape':\n        this.isOpen = false;\n        break;\n    }\n  }\n\n  private moveHighlight(direction: number): void {\n    let next = this.highlightedIndex + direction;\n    while (next >= 0 && next < this.options.length && this.options[next].disabled) {\n      next += direction;\n    }\n    if (next >= 0 && next < this.options.length) {\n      this.highlightedIndex = next;\n    }\n  }\n\n  onBlurTrigger(): void {\n    // Small delay so click on option registers before closing\n    setTimeout(() => {\n      if (!this.elementRef.nativeElement.contains(document.activeElement)) {\n        this.isOpen = false;\n        this.onTouchedFn();\n      }\n    }, 150);\n  }\n\n  @HostListener('document:click', ['$event'])\n  onDocumentClick(event: Event): void {\n    if (!this.elementRef.nativeElement.contains(event.target)) {\n      this.isOpen = false;\n    }\n  }\n\n  writeValue(value: any): void {\n    this.value = value || '';\n  }\n\n  registerOnChange(fn: (value: any) => void): void {\n    this.onChangeFn = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouchedFn = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
