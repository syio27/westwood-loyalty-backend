{
  "version": 3,
  "sources": ["src/app/features/bonus-program/pages/program-view-page/program-view-page.component.ts"],
  "sourcesContent": ["import { Component, OnInit, OnDestroy, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ActivatedRoute, Router, RouterModule } from '@angular/router';\nimport { RewardProgramsService } from '../../../../core/services/reward-programs.service';\nimport { PageHeaderService } from '../../../../core/services/page-header.service';\nimport { DialogComponent } from '../../../../shared/components/dialog/dialog.component';\nimport { ModalComponent } from '../../../../shared/components/modal/modal.component';\nimport {\n  RewardProgramResponse,\n  RewardProgramType,\n  RewardProgramStatus,\n  CashbackType,\n  EligibilityType,\n  DayOfWeek,\n  CashbackTierResponse,\n  CashbackProgramRuleResponse,\n  WeeklyScheduleResponse,\n  PagedTieredClientsResponse\n} from '../../../../core/models/reward-program.model';\n\nconst DAY_ORDER: Record<string, number> = {\n  MONDAY: 0, TUESDAY: 1, WEDNESDAY: 2, THURSDAY: 3, FRIDAY: 4, SATURDAY: 5, SUNDAY: 6\n};\n\n/** Client in a tier (from tiered-clients API) */\nexport interface TierClientPlaceholder {\n  clientUuid: string;\n  name: string;\n  phone?: string;\n  totalSpend: number;\n}\n\n/** Grouped schedule line: \"Mon – Fri: 08:00 – 18:00\" or \"Sat: Off\" */\nexport interface ScheduleGroup {\n  label: string;\n  time: string;\n  enabled: boolean;\n}\n\ntype Tab = 'overview' | 'tiers' | 'schedule';\n\ntype ConfirmAction = 'deactivate' | 'archive' | 'launchNow';\n\n@Component({\n  selector: 'app-program-view-page',\n  standalone: true,\n  imports: [CommonModule, RouterModule, DialogComponent, ModalComponent],\n  template: `\n    @if (loading) {\n      <div class=\"page-shell\">\n        <div class=\"loading-state\">\n          <div class=\"spinner\"></div>\n          <p>Loading program...</p>\n        </div>\n      </div>\n    }\n\n    @if (!loading && error) {\n      <div class=\"page-shell\">\n        <div class=\"error-state\">\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" class=\"error-icon\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M12 8v4m0 4h.01\"/>\n          </svg>\n          <p>{{ error }}</p>\n          <button class=\"btn-retry\" (click)=\"loadProgram()\">Retry</button>\n        </div>\n      </div>\n    }\n\n    @if (!loading && !error && program) {\n      <div class=\"page-shell\">\n        <!-- Program Summary (contextual header) -->\n        <header class=\"program-summary\">\n          <div class=\"summary-left\">\n            <h1 class=\"summary-title\">{{ program.name || 'Untitled Program' }}</h1>\n            <span class=\"summary-badge status\" [attr.data-status]=\"program.status\">\n              <span class=\"summary-badge-icon\" aria-hidden=\"true\">\n                @switch (program.status) {\n                  @case ('ACTIVE') {\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M20 6L9 17l-5-5\"/></svg>\n                  }\n                  @case ('SCHEDULED') {\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\"/><path d=\"M16 2v4M8 2v4M3 10h18\"/></svg>\n                  }\n                  @case ('DRAFT') {\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\"/><path d=\"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"/></svg>\n                  }\n                  @case ('ARCHIVED') {\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M21 8v13H3V8\"/><path d=\"M1 3h22v5H1z\"/><path d=\"M10 12h4\"/></svg>\n                  }\n                  @case ('INACTIVE') {\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M10 15V9\"/><path d=\"M14 15V9\"/></svg>\n                  }\n                  @default {\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\"/></svg>\n                  }\n                }\n              </span>\n              <span class=\"summary-badge-text\">{{ statusLabel(program.status) }}</span>\n            </span>\n          </div>\n          <div class=\"summary-actions\">\n            <button type=\"button\" class=\"btn-action btn-secondary\" (click)=\"onAdjustProgram()\">Adjust Program</button>\n            @if (program.status === 'ACTIVE') {\n              <button type=\"button\" class=\"btn-action btn-outline-danger\" (click)=\"confirmAction = 'deactivate'\">Deactivate</button>\n            }\n            @if (program.status === 'SCHEDULED') {\n              <button type=\"button\" class=\"btn-action btn-primary\" (click)=\"confirmAction = 'launchNow'\">Launch Now</button>\n            }\n            @if (program.status === 'INACTIVE') {\n              <button type=\"button\" class=\"btn-action btn-outline\" (click)=\"confirmAction = 'archive'\">Archive</button>\n            }\n          </div>\n        </header>\n\n        <!-- Tabs (routable) -->\n        <div class=\"tabs-bar\" role=\"tablist\">\n          <a [routerLink]=\"['/bonus-program/view', viewUuid, 'overview']\" class=\"tab-item\" role=\"tab\" [attr.aria-selected]=\"activeTab === 'overview'\">Overview</a>\n          <a [routerLink]=\"['/bonus-program/view', viewUuid, 'tiers']\" class=\"tab-item\" role=\"tab\" [attr.aria-selected]=\"activeTab === 'tiers'\">Tiers</a>\n          <a [routerLink]=\"['/bonus-program/view', viewUuid, 'schedule']\" class=\"tab-item\" role=\"tab\" [attr.aria-selected]=\"activeTab === 'schedule'\">Schedule</a>\n        </div>\n\n        <div class=\"tab-content\">\n          <!-- OVERVIEW (combined: Cashback at a glance, Program info, Dates, Rules) -->\n          @if (activeTab === 'overview') {\n            <div class=\"tab-cards overview-cards\">\n              @if (program.type === 'CASHBACK' && program.cashbackRule) {\n                <section class=\"card card-span cashback-glance\">\n                  <h2 class=\"card-title\">Cashback at a Glance</h2>\n                  <div class=\"glance-two-views\">\n                    <div class=\"glance-view\">\n                      <span class=\"glance-view-label\">Rate</span>\n                      <span class=\"glance-view-value\">{{ formatCashbackValue(program.cashbackRule) }}</span>\n                    </div>\n                    <div class=\"glance-view\">\n                      <span class=\"glance-view-label\">Per spend</span>\n                      <span class=\"glance-view-value\">{{ getCashbackPerSpendText(program.cashbackRule) }}</span>\n                    </div>\n                  </div>\n                  <div class=\"stats-row\"> \n                    <div class=\"stat-block\">\n                      <span class=\"stat-value\">{{ program.cashbackRule.minSpendAmount | number:'1.0-0' }} ₸</span>\n                      <span class=\"stat-label\">Min. Spend</span>\n                    </div>\n                    <div class=\"stat-block\">\n                      <span class=\"stat-value\">{{ program.cashbackRule.redeemLimitPercent }}%</span>\n                      <span class=\"stat-label\">Redeem Limit</span>\n                    </div>\n                    @if (program.cashbackRule.bonusLifespanDays) {\n                      <div class=\"stat-block\">\n                        <span class=\"stat-value\">{{ program.cashbackRule.bonusLifespanDays }} days</span>\n                        <span class=\"stat-label\">Bonus Lifespan</span>\n                      </div>\n                    }\n                  </div>\n                </section>\n              }\n              <section class=\"card\">\n                <h2 class=\"card-title\">Program Information</h2>\n                <div class=\"info-list\">\n                  <div class=\"info-row\">\n                    <span class=\"info-label\">Name</span>\n                    <span class=\"info-value\">{{ program.name || '—' }}</span>\n                  </div>\n                  <div class=\"info-row\">\n                    <span class=\"info-label\">Type</span>\n                    <span class=\"info-value\">{{ typeLabel(program.type) }}</span>\n                  </div>\n                  <div class=\"info-row\">\n                    <span class=\"info-label\">Status</span>\n                    <span class=\"info-value\">\n                      <span class=\"status-dot\" [attr.data-status]=\"program.status\"></span>\n                      {{ statusLabel(program.status) }}\n                    </span>\n                  </div>\n                  <div class=\"info-row\">\n                    <span class=\"info-label\">Description</span>\n                    <span class=\"info-value description-text\">{{ program.description || '—' }}</span>\n                  </div>\n                </div>\n              </section>\n              <section class=\"card\">\n                <h2 class=\"card-title\">Dates</h2>\n                <div class=\"info-list\">\n                  <div class=\"info-row\">\n                    <span class=\"info-label\">Start</span>\n                    <span class=\"info-value\">{{ formatDate(program.startDate) }}</span>\n                  </div>\n                  <div class=\"info-row\">\n                    <span class=\"info-label\">End</span>\n                    <span class=\"info-value\">{{ formatDate(program.endDate) || 'No end date' }}</span>\n                  </div>\n                  <div class=\"info-row\">\n                    <span class=\"info-label\">Created</span>\n                    <span class=\"info-value\">{{ formatDate(program.createdAt) }}</span>\n                  </div>\n                  <div class=\"info-row\">\n                    <span class=\"info-label\">Updated</span>\n                    <span class=\"info-value\">{{ formatDate(program.updatedAt) }}</span>\n                  </div>\n                </div>\n              </section>\n              <section class=\"card card-span rules-card\">\n                <h2 class=\"card-title\">Cashback Rules</h2>\n                @if (program.cashbackRule; as rule) {\n                  <div class=\"rules-two-col\">\n                    <div class=\"rule-box earning\">\n                      <div class=\"rule-box-icon\">\n                        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z\"/><path d=\"M3 6h18M16 10a4 4 0 01-8 0\"/></svg>\n                      </div>\n                      <span class=\"rule-box-label\">Earning rule</span>\n                      <p class=\"rule-box-text\">{{ getEarningRuleText(rule) }}</p>\n                    </div>\n                    <div class=\"rule-box usage\">\n                      <div class=\"rule-box-icon\">\n                        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6\"/></svg>\n                      </div>\n                      <span class=\"rule-box-label\">Usage rule</span>\n                      <p class=\"rule-box-text\">{{ getUsageRuleText(rule) }}</p>\n                      @if (rule.bonusLifespanDays) {\n                        <div class=\"rule-box-meta\">\n                          <span>Bonus lifespan: {{ rule.bonusLifespanDays }} days</span>\n                        </div>\n                      }\n                    </div>\n                  </div>\n                  <div class=\"rules-criteria-row\">\n                    <div class=\"criteria-card min-spend\">\n                      <div class=\"criteria-card-icon\">\n                        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M21 12V7H5a2 2 0 01 0-4h14v4\"/><path d=\"M3 5v14a2 2 0 002 2h16a2 2 0 002-2V9\"/><path d=\"M18 12v4\"/><path d=\"M14 12v4\"/></svg>\n                      </div>\n                      <h3 class=\"criteria-card-title\">Minimum spend</h3>\n                      <p class=\"criteria-card-text\">{{ getMinSpendCardText(rule) }}</p>\n                    </div>\n                    <div class=\"criteria-card eligibility\">\n                      <div class=\"criteria-card-icon\">\n                        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M9 11l3 3L22 4\"/><path d=\"M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h14\"/></svg>\n                      </div>\n                      <h3 class=\"criteria-card-title\">Eligibility</h3>\n                      <p class=\"criteria-card-text\">{{ getEligibilityCardText(rule) }}</p>\n                    </div>\n                  </div>\n                } @else {\n                  <div class=\"empty-inline\">\n                    <p>No cashback rules defined for this program.</p>\n                  </div>\n                }\n              </section>\n            </div>\n          }\n\n          <!-- TIERS -->\n          @if (activeTab === 'tiers') {\n            <section class=\"card\">\n              <h2 class=\"card-title\">Tiers</h2>\n              @if (program.cashbackTiers && program.cashbackTiers.length > 0) {\n                <p class=\"card-desc\">Customers move up tiers based on total spend during the program period.</p>\n\n                <!-- Progress track -->\n                <div class=\"progress-track\">\n                  @for (tier of sortedTiers; track tier.sortOrder; let i = $index; let last = $last) {\n                    <div class=\"track-segment\" [class.last]=\"last\">\n                      <div class=\"track-node\">\n                        <span class=\"track-tier-name\">{{ tier.name }}</span>\n                        <span class=\"track-tier-badge\">+{{ tier.extraEarningPercent }}%</span>\n                      </div>\n                      @if (!last) {\n                        <div class=\"track-connector\">\n                          <span class=\"track-range\">{{ formatTierRange(tier) }}</span>\n                          <svg class=\"track-arrow\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M5 12h14M12 5l7 7-7 7\"/></svg>\n                        </div>\n                      }\n                    </div>\n                  }\n                </div>\n\n                <!-- Per-tier detail + clients -->\n                @for (tier of sortedTiers; track tier.sortOrder; let i = $index) {\n                  <div class=\"tier-detail\">\n                    <div class=\"tier-detail-header\">\n                      <h3 class=\"tier-detail-title\">{{ tier.name }}</h3>\n                      <span class=\"tier-detail-range\">{{ formatTierRange(tier) }}</span>\n                      <button type=\"button\" class=\"link-eligibility\" (click)=\"openEligibilityPopover($event, tier)\">\n                        View eligibility rules\n                      </button>\n                    </div>\n                    <div class=\"tier-clients-section\">\n                      @if (getTierClients(tier).length > 0) {\n                        <p class=\"tier-clients-summary\">\n                          You have {{ getTierClients(tier).length }} client{{ getTierClients(tier).length === 1 ? '' : 's' }} tiered in this level.\n                          <button type=\"button\" class=\"link-view-clients\" (click)=\"openTieredClientsModal(tier.name)\">→ View clients</button>\n                        </p>\n                      } @else {\n                        <p class=\"tier-clients-empty\">\n                          No clients in this tier yet.\n                          <button type=\"button\" class=\"link-eligibility\" (click)=\"openEligibilityPopover($event, tier)\">\n                            View eligibility rules\n                          </button>\n                        </p>\n                      }\n                    </div>\n                  </div>\n                }\n              } @else {\n                <div class=\"empty-tiers\">\n                  <div class=\"empty-tiers-icon\">\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\">\n                      <path d=\"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3\"/>\n                    </svg>\n                  </div>\n                  <h3 class=\"empty-tiers-title\">This program has no tiers</h3>\n                  <p class=\"empty-tiers-desc\">\n                    Tiers reward your best customers with higher cashback as they spend more. They increase motivation to return and help you recognize loyalty.\n                  </p>\n                  <p class=\"empty-tiers-cta\">\n                    Add tiers when editing this program to unlock tiered rewards (e.g. Bronze, Silver, Gold) and watch repeat spend grow.\n                  </p>\n                </div>\n              }\n            </section>\n          }\n\n          <!-- SCHEDULE -->\n          @if (activeTab === 'schedule') {\n            <div class=\"tab-cards\">\n              <section class=\"card card-span program-period-card\">\n                <h2 class=\"card-title\">Program Period</h2>\n                <div class=\"period-hero\">\n                  <span class=\"period-date start\">{{ formatDateShort(program.startDate) }}</span>\n                  <span class=\"period-sep\">→</span>\n                  <span class=\"period-date end\">{{ program.endDate ? formatDateShort(program.endDate) : 'No end' }}</span>\n                </div>\n                @if (program.endDate) {\n                  <p class=\"period-info-copy\">This program is live only until {{ formatDateShort(program.endDate) }}.</p>\n                } @else {\n                  <p class=\"period-info-copy\">This program is always on, until you deactivate it.</p>\n                }\n              </section>\n              <section class=\"card card-span\">\n                <h2 class=\"card-title card-title-with-icon\">\n                  <svg class=\"card-title-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"/><line x1=\"16\" y1=\"2\" x2=\"16\" y2=\"6\"/><line x1=\"8\" y1=\"2\" x2=\"8\" y2=\"6\"/><line x1=\"3\" y1=\"10\" x2=\"21\" y2=\"10\"/></svg>\n                  Weekly Schedule\n                </h2>\n                @if (program.weeklySchedules && program.weeklySchedules.length > 0) {\n                  <div class=\"schedule-blocks\">\n                    @for (day of sortedScheduleDays; track day.dayOfWeek) {\n                      <div class=\"schedule-block\" [class.on]=\"day.enabled\" [class.off]=\"!day.enabled\">\n                        <span class=\"schedule-block-day\">{{ dayShort(day.dayOfWeek) }}</span>\n                        <span class=\"schedule-block-time\">{{ day.enabled ? (day.startTime && day.endTime ? formatTimeHHMM(day.startTime) + ' – ' + formatTimeHHMM(day.endTime) : 'All day') : 'Off' }}</span>\n                      </div>\n                    }\n                  </div>\n                  <p class=\"schedule-timezone-note\">Bonuses apply only during the weekly schedule below.</p>\n                  <p class=\"schedule-timezone-note\">Times are shown in your local timezone.</p>\n                } @else {\n                  <p class=\"strip-all-day\">Active every day, all day.</p>\n                }\n              </section>\n            </div>\n          }\n        </div>\n\n        <!-- Eligibility popover -->\n        @if (eligibilityPopoverTier) {\n          <div class=\"popover-backdrop\" (click)=\"closeEligibilityPopover()\"></div>\n          <div class=\"popover\" [style.left.px]=\"popoverX\" [style.top.px]=\"popoverY\" role=\"dialog\" aria-label=\"Eligibility rules\">\n            <p class=\"popover-text\">{{ getEligibilityHumanText(eligibilityPopoverTier) }}</p>\n            <button type=\"button\" class=\"popover-close\" (click)=\"closeEligibilityPopover()\">Close</button>\n          </div>\n        }\n\n        <app-dialog\n          [visible]=\"!!confirmAction\"\n          [title]=\"confirmDialogTitle\"\n          [message]=\"confirmDialogMessage\"\n          [confirmLabel]=\"confirmDialogConfirmLabel\"\n          cancelLabel=\"Cancel\"\n          (confirmed)=\"onConfirmAction()\"\n          (cancelled)=\"confirmAction = null\"\n          (closed)=\"confirmAction = null\">\n        </app-dialog>\n\n        <app-modal\n          [visible]=\"showTieredClientsModal\"\n          [title]=\"tieredClientsFilterTier ? tieredClientsFilterTier + ' — Clients' : 'Tiered clients'\"\n          [showCloseButton]=\"true\"\n          [showFooter]=\"false\"\n          size=\"large\"\n          (closed)=\"closeTieredClientsModal()\">\n          <div class=\"tiered-clients-modal-body\">\n            @if (loadingTieredClients) {\n              <div class=\"tiered-clients-loading\">\n                <div class=\"spinner\"></div>\n                <p>Loading clients…</p>\n              </div>\n            } @else if (tieredClientsData) {\n              @if (tieredClientsData.content.length === 0) {\n                <p class=\"tiered-clients-empty-msg\">No clients in this tier yet. Tiering is based on spend during the program period.</p>\n              } @else {\n                <div class=\"tiered-clients-table-wrap\">\n                  <table class=\"tiered-clients-table\">\n                    <thead>\n                      <tr>\n                        <th>Client</th>\n                        <th>Contact</th>\n                        <th>Spend (period)</th>\n                        <th>Progress to next tier</th>\n                        <th></th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      @for (row of tieredClientsData.content; track row.clientUuid) {\n                        <tr>\n                          <td><a [routerLink]=\"['/clients', row.clientUuid]\" class=\"client-link\" (click)=\"closeTieredClientsModal()\">{{ row.clientName }}</a></td>\n                          <td>{{ row.phone || '—' }}</td>\n                          <td>{{ row.programPeriodSpend | number:'1.0-0' }} ₸</td>\n                          <td>\n                            @if (row.percentToNextTier != null) {\n                              <div class=\"progress-to-next\">\n                                <div class=\"progress-bar-track\"><div class=\"progress-bar-fill\" [style.width.%]=\"row.percentToNextTier\"></div></div>\n                                <span class=\"progress-label\">{{ row.percentToNextTier | number:'1.0-1' }}%</span>\n                                @if (row.nextTierName) {\n                                  <span class=\"next-tier-label\">→ {{ row.nextTierName }}</span>\n                                }\n                              </div>\n                            } @else {\n                              <span class=\"top-tier-label\">Top tier</span>\n                            }\n                          </td>\n                          <td>\n                            <a [routerLink]=\"['/clients', row.clientUuid]\" class=\"link-profile\" (click)=\"closeTieredClientsModal()\">Profile</a>\n                          </td>\n                        </tr>\n                      }\n                    </tbody>\n                  </table>\n                </div>\n                @if (tieredClientsData.totalPages > 1) {\n                  <div class=\"tiered-clients-pagination\">\n                    <button type=\"button\" class=\"page-btn\" [disabled]=\"tieredClientsData.first\" (click)=\"loadTieredClientsPage(tieredClientsData.page - 1)\">Previous</button>\n                    <span class=\"page-info\">Page {{ tieredClientsData.page + 1 }} of {{ tieredClientsData.totalPages }}</span>\n                    <button type=\"button\" class=\"page-btn\" [disabled]=\"tieredClientsData.last\" (click)=\"loadTieredClientsPage(tieredClientsData.page + 1)\">Next</button>\n                  </div>\n                }\n              }\n            }\n          </div>\n        </app-modal>\n      </div>\n    }\n  `,\n  styles: [`\n    .page-shell { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem 3rem; }\n\n    .loading-state, .error-state {\n      display: flex; flex-direction: column; align-items: center;\n      justify-content: center; gap: 1rem; padding: 6rem 0; color: #64748b;\n    }\n    .spinner {\n      width: 36px; height: 36px; border: 3px solid #e2e8f0;\n      border-top-color: var(--primary-color, #15803d);\n      border-radius: 50%; animation: spin .7s linear infinite;\n    }\n    @keyframes spin { to { transform: rotate(360deg); } }\n    .error-icon { width: 40px; height: 40px; color: #ef4444; }\n    .btn-retry {\n      padding: 0.5rem 1.25rem; border: 1px solid #e2e8f0; border-radius: 8px;\n      background: #fff; font-size: 0.875rem; font-weight: 500; cursor: pointer;\n      color: #0f172a; transition: all 0.15s;\n    }\n    .btn-retry:hover { border-color: var(--primary-color, #15803d); color: var(--primary-color, #15803d); }\n\n    /* Program Summary header */\n    .program-summary {\n      display: flex; align-items: center; justify-content: space-between;\n      gap: 1rem; margin-bottom: 1.75rem; flex-wrap: wrap;\n    }\n    .summary-left { display: flex; flex-direction: column; gap: 0.25rem; }\n    .summary-title {\n      font-size: 2.5rem; font-weight: 700; color: #0f172a;\n      margin: 0; letter-spacing: -0.03em; line-height: 1.2;\n    }\n    .summary-badge {\n      display: inline-flex; align-items: center; gap: 0.4rem;\n      font-size: 0.75rem; font-weight: 600; text-transform: uppercase;\n      letter-spacing: 0.05em; padding: 0.25rem 1rem; border-radius: 6px; align-self: flex-start;\n    }\n    .summary-badge-icon { display: inline-flex; width: 16px; height: 16px; flex-shrink: 0; }\n    .summary-badge-icon svg { width: 100%; height: 100%; }\n    .summary-badge-text { text-transform: none; }\n    .summary-badge[data-status=\"ACTIVE\"]    { background: #dcfce7; color: #15803d; }\n    .summary-badge[data-status=\"SCHEDULED\"] { background: #e0f2fe; color: #0369a1; }\n    .summary-badge[data-status=\"DRAFT\"]     { background: #fef3c7; color: #92400e; }\n    .summary-badge[data-status=\"INACTIVE\"]  { background: #fee2e2; color: #991b1b; }\n    .summary-badge[data-status=\"ARCHIVED\"]  { background: #f1f5f9; color: #475569; }\n\n    .summary-actions { display: flex; gap: 0.5rem; flex-shrink: 0; }\n    .btn-action {\n      padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.8125rem;\n      font-weight: 600; cursor: pointer; border: 1px solid transparent; transition: all 0.15s;\n    }\n    .btn-secondary {\n      background: #f1f5f9; color: #475569; border-color: #e2e8f0;\n    }\n    .btn-secondary:hover { background: #e2e8f0; }\n    .btn-primary {\n      background: var(--primary-color, #15803d); color: #fff; border-color: var(--primary-color, #15803d);\n    }\n    .btn-primary:hover { background: var(--primary-color-hover, #14532d); }\n    .btn-outline { background: #fff; color: #475569; border-color: #e2e8f0; }\n    .btn-outline:hover { border-color: #94a3b8; }\n    .btn-outline-danger { background: #fff; color: #dc2626; border-color: #fecaca; }\n    .btn-outline-danger:hover { background: #fef2f2; border-color: #f87171; }\n\n    /* Tabs */\n    .tabs-bar {\n      display: flex; gap: 0; border-bottom: 1px solid #cbd5e1; margin-bottom: 1.5rem;\n    }\n    .tab-item {\n      padding: 0.75rem 1.25rem; background: none; border: none;\n      font-size: 0.875rem; font-weight: 500; color: #64748b;\n      cursor: pointer; position: relative; transition: color 0.15s; border-radius: 6px 6px 0 0;\n      text-decoration: none;\n    }\n    .tab-item::after {\n      content: ''; position: absolute; left: 0; right: 0; bottom: -1px;\n      height: 2px; background: transparent; border-radius: 1px; transition: background 0.15s;\n    }\n    .tab-item:hover { color: #0f172a; }\n    .tab-item[aria-selected=\"true\"] { color: var(--primary-color, #15803d); }\n    .tab-item[aria-selected=\"true\"]::after { background: var(--primary-color, #15803d); }\n\n    .tab-content { min-height: 280px; }\n    .tab-cards {\n      display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.25rem;\n    }\n    .tab-cards .card-span { grid-column: 1 / -1; }\n\n    /* Cards: white, clear border and shadow so they don't blend with page background */\n    .card {\n      background: #ffffff; border: 1px solid #cbd5e1; border-radius: 12px;\n      padding: 1.25rem; box-shadow: 0 1px 3px rgba(0,0,0,0.06);\n    }\n    .card-title {\n      font-size: 0.75rem; font-weight: 600; color: #64748b;\n      text-transform: uppercase; letter-spacing: 0.06em;\n      margin: 0 0 0.75rem 0; padding-bottom: 0.5rem; border-bottom: 1px solid #e2e8f0;\n    }\n    .card-title-with-icon {\n      display: flex; align-items: center; gap: 0.5rem;\n    }\n    .card-title-icon {\n      width: 18px; height: 18px; color: #64748b; flex-shrink: 0;\n    }\n    .card-desc {\n      font-size: 0.8125rem; color: #64748b; margin: 0 0 0.75rem 0; line-height: 1.45;\n    }\n    .overview-cards { display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.25rem; }\n    .overview-cards .card-span { grid-column: 1 / -1; }\n    .cashback-glance .stats-row { margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #e2e8f0; }\n    .glance-two-views { display: flex; gap: 2rem; flex-wrap: wrap; margin-bottom: 0; }\n    .glance-view { display: flex; flex-direction: column; gap: 0.2rem; }\n    .glance-view-label { font-size: 0.6875rem; font-weight: 600; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.04em; }\n    .glance-view-value { font-size: 1.5rem; font-weight: 700; color: #0f172a; letter-spacing: -0.02em; }\n    .stats-row { display: flex; gap: 1.5rem; flex-wrap: wrap; }\n    .stat-block { display: flex; flex-direction: column; gap: 0.25rem; min-width: 100px; }\n    .stat-value { font-size: 1.25rem; font-weight: 700; color: #0f172a; letter-spacing: -0.02em; }\n    .stat-label { font-size: 0.6875rem; font-weight: 500; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.04em; }\n    .rule-box-meta {\n      font-size: 0.75rem; color: #64748b; margin-top: 0.5rem; display: flex; flex-direction: column; gap: 0.2rem;\n    }\n\n    /* Typography: labels smaller/greyer, values bolder */\n    .info-list { display: flex; flex-direction: column; gap: 0.5rem; }\n    .info-row { display: flex; justify-content: space-between; align-items: flex-start; gap: 0.75rem; }\n    .info-label {\n      font-size: 0.6875rem; font-weight: 500; color: #94a3b8;\n      text-transform: uppercase; letter-spacing: 0.04em; flex-shrink: 0;\n    }\n    .info-value {\n      font-size: 0.875rem; font-weight: 700; color: #0f172a; text-align: right;\n    }\n    .description-text { text-align: right; max-width: 220px; line-height: 1.4; white-space: pre-wrap; font-weight: 500; }\n\n    .status-dot {\n      display: inline-block; width: 6px; height: 6px; border-radius: 50%;\n      margin-right: 0.25rem; vertical-align: middle;\n    }\n    .status-dot[data-status=\"ACTIVE\"]    { background: #22c55e; }\n    .status-dot[data-status=\"SCHEDULED\"] { background: #0ea5e9; }\n    .status-dot[data-status=\"DRAFT\"]     { background: #f59e0b; }\n    .status-dot[data-status=\"INACTIVE\"]  { background: #ef4444; }\n    .status-dot[data-status=\"ARCHIVED\"]  { background: #94a3b8; }\n\n    /* Schedule strip (grouped, Mon–Sun order) */\n    .schedule-strip { display: flex; flex-direction: column; gap: 0.25rem; }\n    .strip-row {\n      display: flex; justify-content: space-between; align-items: center;\n      padding: 0.4rem 0.5rem; border-radius: 6px; font-size: 0.8125rem;\n    }\n    .strip-row:not(.off) { background: #f0fdf4; }\n    .strip-row.off { background: #f1f5f9; color: #94a3b8; }\n    .strip-label { font-weight: 600; color: #0f172a; }\n    .strip-row.off .strip-label { color: #94a3b8; font-weight: 500; }\n    .strip-time { font-weight: 600; color: var(--primary-color, #15803d); }\n    .strip-row.off .strip-time { color: #94a3b8; font-weight: 500; font-style: italic; }\n    .strip-all-day { font-size: 0.8125rem; color: #64748b; margin: 0; }\n    .program-period-card .period-hero {\n      display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap;\n      margin-bottom: 1rem;\n    }\n    .period-date {\n      font-size: 1.125rem; font-weight: 700; color: #0f172a;\n      padding: 0.5rem 1rem; border-radius: 10px; background: #f0fdf4; border: 1px solid #dcfce7;\n    }\n    .period-date.end:empty { display: none; }\n    .period-sep { font-size: 1rem; color: #94a3b8; font-weight: 600; }\n    .period-info-copy {\n      font-size: 0.8125rem; color: #64748b; line-height: 1.5; margin: 0 0 0.35rem 0;\n    }\n    .schedule-by-day { display: flex; flex-direction: column; gap: 0.35rem; }\n\n    /* Weekly schedule: reference layout – 7 blocks, day + time inside each, no controls */\n    .schedule-blocks {\n      display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem;\n    }\n    .schedule-block {\n      min-height: 72px; padding: 0.75rem;\n      border-radius: 10px; border: 1px solid transparent;\n      display: flex; flex-direction: column; align-items: center; justify-content: center;\n      gap: 0.35rem; text-align: center;\n    }\n    .schedule-block.on {\n      background: #dcfce7; border-color: #86efac; color: #166534;\n    }\n    .schedule-block.off {\n      background: #f1f5f9; border-color: #e2e8f0; color: #64748b;\n    }\n    .schedule-block-day {\n      font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.04em;\n    }\n    .schedule-block.on .schedule-block-day { color: #15803d; }\n    .schedule-block.off .schedule-block-day { color: #94a3b8; }\n    .schedule-block-time {\n      font-size: 0.8125rem; font-weight: 600;\n    }\n    .schedule-block.on .schedule-block-time { color: #0f172a; }\n    .schedule-block.off .schedule-block-time { color: #94a3b8; font-style: italic; font-weight: 500; }\n    .schedule-timezone-note {\n      font-size: 0.75rem; color: #94a3b8; margin: 0.75rem 0 0 0;\n    }\n\n    .empty-inline { font-size: 0.875rem; color: #94a3b8; margin: 0; }\n\n    /* Rules: full width, all cards same grey style */\n    .rules-card { width: 100%; }\n    .rules-two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }\n    .rule-box {\n      padding: 1rem 1.25rem; border-radius: 10px;\n      border: 1px solid #e2e8f0; background: #f8fafc;\n    }\n    .rule-box-icon {\n      width: 40px; height: 40px; border-radius: 8px;\n      background: #e8f4ec; display: flex; align-items: center; justify-content: center;\n      color: #15803d; margin-bottom: 0.75rem;\n    }\n    .rule-box-icon svg { width: 20px; height: 20px; }\n    .rule-box-label {\n      display: block; font-size: 0.6875rem; font-weight: 700; color: #64748b;\n      text-transform: uppercase; letter-spacing: 0.06em; margin-bottom: 0.35rem;\n    }\n    .rule-box-text {\n      font-size: 0.875rem; color: #0f172a; line-height: 1.5; margin: 0; font-weight: 500;\n    }\n    .rules-criteria-row {\n      display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1.25rem; padding-top: 1.25rem; border-top: 1px solid #e2e8f0;\n    }\n    .criteria-card {\n      padding: 1rem 1.25rem; border-radius: 10px;\n      border: 1px solid #e2e8f0; background: #f8fafc;\n    }\n    .criteria-card-icon {\n      width: 40px; height: 40px; border-radius: 8px;\n      display: flex; align-items: center; justify-content: center;\n      margin-bottom: 0.75rem; background: #e8f4ec; color: #15803d;\n    }\n    .criteria-card-icon svg { width: 20px; height: 20px; }\n    .criteria-card-title {\n      font-size: 0.6875rem; font-weight: 700; color: #64748b;\n      text-transform: uppercase; letter-spacing: 0.06em; margin: 0 0 0.35rem 0;\n    }\n    .criteria-card-text {\n      font-size: 0.875rem; color: #0f172a; line-height: 1.5; margin: 0; font-weight: 500;\n    }\n\n    /* Schedule: day strip + bars + summary */\n    .schedule-visual { display: flex; flex-direction: column; gap: 0.75rem; }\n    .schedule-days-row {\n      display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.25rem; text-align: center;\n    }\n    .schedule-day-abbr {\n      font-size: 0.75rem; font-weight: 600; color: #64748b;\n    }\n    .schedule-bars-row {\n      display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.25rem;\n    }\n    .schedule-bar {\n      height: 28px; border-radius: 6px; transition: background 0.15s;\n    }\n    .schedule-bar.on { background: #86efac; border: 1px solid #4ade80; }\n    .schedule-bar.off { background: #e2e8f0; border: 1px solid #cbd5e1; }\n    .schedule-summary {\n      font-size: 0.875rem; color: #0f172a; font-weight: 600; margin: 0;\n      display: flex; flex-wrap: wrap; gap: 0.5rem 1rem;\n    }\n    .schedule-summary-item {\n      display: inline;\n    }\n\n    /* Progress track (horizontal) */\n    .progress-track {\n      display: flex; align-items: center; flex-wrap: wrap; gap: 0;\n      margin-bottom: 1.5rem; padding: 0.75rem 0;\n    }\n    .track-segment { display: flex; align-items: center; }\n    .track-node {\n      display: flex; flex-direction: column; align-items: center; gap: 0.25rem;\n      padding: 0.75rem 1rem; background: #f0fdf4; border: 1px solid #dcfce7;\n      border-radius: 10px; min-width: 90px;\n    }\n    .track-tier-name { font-size: 0.875rem; font-weight: 700; color: #0f172a; }\n    .track-tier-badge { font-size: 0.6875rem; font-weight: 700; color: var(--primary-color, #15803d); }\n    .track-connector {\n      display: flex; align-items: center; gap: 0.25rem;\n      padding: 0 0.5rem; color: #94a3b8; font-size: 0.6875rem;\n    }\n    .track-range { font-weight: 600; color: #64748b; }\n    .track-arrow { width: 16px; height: 16px; flex-shrink: 0; }\n    .track-segment.last .track-connector { display: none; }\n\n    /* Tier detail */\n    .tier-detail {\n      border: 1px solid #cbd5e1; border-radius: 12px;\n      padding: 1.25rem; background: #ffffff;\n      box-shadow: 0 1px 3px rgba(0,0,0,0.06);\n    }\n    .tier-detail + .tier-detail { margin-top: 1rem; }\n    .tier-detail-header {\n      display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap; margin-bottom: 0.75rem;\n    }\n    .tier-detail-title { font-size: 1rem; font-weight: 700; color: #0f172a; margin: 0; }\n    .tier-detail-range { font-size: 0.8125rem; color: #64748b; font-weight: 600; }\n    .link-eligibility {\n      background: none; border: none; padding: 0; font-size: 0.8125rem;\n      font-weight: 600; color: var(--primary-color, #15803d); cursor: pointer;\n      text-decoration: underline; text-underline-offset: 2px;\n    }\n    .link-eligibility:hover { color: var(--primary-color-hover, #14532d); }\n\n    .tier-clients-section { padding-top: 0.75rem; border-top: 1px solid #f1f5f9; }\n    .tier-clients-summary {\n      margin: 0; font-size: 0.875rem; color: #475569;\n      display: flex; align-items: center; gap: 0.35rem; flex-wrap: wrap;\n    }\n    .link-view-clients {\n      background: none; border: none; padding: 0; font-size: 0.875rem; font-weight: 600;\n      color: var(--primary-color, #15803d); cursor: pointer;\n      text-decoration: none; display: inline-flex; align-items: center;\n    }\n    .link-view-clients:hover { text-decoration: underline; }\n\n    .tier-clients-empty {\n      margin: 0; padding: 0.75rem 1rem; background: #f8fafc; border-radius: 8px;\n      border: 1px dashed #cbd5e1; font-size: 0.8125rem; color: #64748b;\n      display: flex; align-items: center; gap: 0.35rem; flex-wrap: wrap;\n    }\n    .tier-clients-empty .link-eligibility { font-size: 0.8125rem; }\n    .tiered-clients-modal-body { min-height: 200px; }\n    .tiered-clients-loading {\n      display: flex; flex-direction: column; align-items: center; justify-content: center;\n      gap: 1rem; padding: 3rem; color: #64748b;\n    }\n    .tiered-clients-loading .spinner {\n      width: 32px; height: 32px; border: 3px solid #e2e8f0;\n      border-top-color: var(--primary-color, #15803d); border-radius: 50%;\n      animation: spin .7s linear infinite;\n    }\n    .tiered-clients-empty-msg { font-size: 0.9375rem; color: #64748b; margin: 0; padding: 1.5rem; }\n    .tiered-clients-table-wrap { overflow-x: auto; margin-bottom: 1rem; }\n    .tiered-clients-table {\n      width: 100%; border-collapse: collapse; font-size: 0.875rem;\n    }\n    .tiered-clients-table th {\n      text-align: left; padding: 0.6rem 0.75rem; font-weight: 600;\n      color: #64748b; font-size: 0.6875rem; text-transform: uppercase;\n      letter-spacing: 0.04em; background: #f8fafc; border-bottom: 1px solid #e2e8f0;\n    }\n    .tiered-clients-table td {\n      padding: 0.6rem 0.75rem; border-bottom: 1px solid #f1f5f9; color: #0f172a;\n    }\n    .tiered-clients-table tbody tr:hover { background: #f8fafc; }\n    .tiered-clients-table .client-link {\n      font-weight: 600; color: var(--primary-color, #15803d); text-decoration: none;\n    }\n    .tiered-clients-table .client-link:hover { text-decoration: underline; }\n    .tier-badge {\n      display: inline-block; padding: 0.2rem 0.5rem; border-radius: 6px;\n      font-size: 0.75rem; font-weight: 600; background: #e8f4ec; color: #15803d;\n    }\n    .progress-to-next { display: flex; align-items: center; gap: 0.5rem; }\n    .progress-bar-track {\n      width: 80px; height: 6px; border-radius: 3px; background: #e2e8f0; overflow: hidden; flex-shrink: 0;\n    }\n    .progress-bar-fill {\n      height: 100%; border-radius: 3px; background: var(--primary-color, #15803d);\n      transition: width 0.3s ease;\n    }\n    .progress-label { font-size: 0.8125rem; font-weight: 600; color: #0f172a; white-space: nowrap; }\n    .next-tier-label { font-size: 0.75rem; color: #64748b; white-space: nowrap; }\n    .top-tier-label { font-size: 0.75rem; color: #64748b; font-style: italic; }\n    .link-profile {\n      font-size: 0.8125rem; font-weight: 600; color: var(--primary-color, #15803d);\n      text-decoration: none;\n    }\n    .link-profile:hover { text-decoration: underline; }\n    .tiered-clients-pagination {\n      display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;\n      padding-top: 1rem; border-top: 1px solid #e2e8f0;\n    }\n    .tiered-clients-pagination .page-btn {\n      padding: 0.4rem 0.75rem; border-radius: 8px; font-size: 0.8125rem; font-weight: 600;\n      background: #f1f5f9; border: 1px solid #e2e8f0; color: #475569;\n      cursor: pointer; transition: all 0.2s;\n    }\n    .tiered-clients-pagination .page-btn:hover:not(:disabled) {\n      background: #e2e8f0; border-color: #cbd5e1; color: #0f172a;\n    }\n    .tiered-clients-pagination .page-btn:disabled { opacity: 0.5; cursor: not-allowed; }\n    .tiered-clients-pagination .page-info { font-size: 0.8125rem; color: #64748b; }\n\n    /* No-tiers empty (motivational) */\n    .empty-tiers {\n      text-align: center; padding: 2.5rem 1.5rem;\n      background: #ffffff; border: 1px solid #cbd5e1; border-radius: 12px;\n      box-shadow: 0 1px 3px rgba(0,0,0,0.06);\n    }\n    .empty-tiers-icon {\n      width: 48px; height: 48px; margin: 0 auto 1rem;\n      border-radius: 10px; background: #e2e8f0;\n      display: flex; align-items: center; justify-content: center; color: #94a3b8;\n    }\n    .empty-tiers-icon svg { width: 24px; height: 24px; }\n    .empty-tiers-title {\n      font-size: 1rem; font-weight: 700; color: #0f172a; margin: 0 0 0.5rem 0;\n    }\n    .empty-tiers-desc {\n      font-size: 0.875rem; color: #64748b; line-height: 1.5;\n      margin: 0 0 0.75rem 0; max-width: 400px; margin-left: auto; margin-right: auto;\n    }\n    .empty-tiers-cta {\n      font-size: 0.8125rem; color: #94a3b8; line-height: 1.45; margin: 0;\n    }\n\n    /* Eligibility popover */\n    .popover-backdrop {\n      position: fixed; inset: 0; background: rgba(0,0,0,0.2); z-index: 40;\n    }\n    .popover {\n      position: fixed; z-index: 50;\n      max-width: 320px; padding: 1rem 1.25rem;\n      background: #fff; border: 1px solid #e2e8f0; border-radius: 10px;\n      box-shadow: 0 10px 40px rgba(0,0,0,0.12);\n    }\n    .popover-text {\n      font-size: 0.875rem; color: #0f172a; line-height: 1.5; margin: 0 0 0.75rem 0;\n    }\n    .popover-close {\n      display: block; width: 100%; padding: 0.5rem;\n      background: #f1f5f9; border: none; border-radius: 6px;\n      font-size: 0.8125rem; font-weight: 600; color: #475569; cursor: pointer;\n    }\n    .popover-close:hover { background: #e2e8f0; }\n\n    @media (max-width: 900px) {\n      .tab-cards { grid-template-columns: 1fr; }\n      .rules-two-col { grid-template-columns: 1fr; }\n      .rules-criteria-row { grid-template-columns: 1fr; }\n      .schedule-blocks { grid-template-columns: repeat(4, 1fr); }\n      .progress-track { flex-direction: column; align-items: flex-start; }\n      .track-segment { flex-direction: column; align-items: flex-start; }\n      .track-connector { padding: 0.25rem 0 0.25rem 1rem; }\n      .track-arrow { transform: rotate(-90deg); }\n    }\n    @media (max-width: 520px) {\n      .schedule-blocks { grid-template-columns: repeat(2, 1fr); }\n    }\n    @media (max-width: 640px) {\n      .program-summary { flex-direction: column; align-items: flex-start; }\n      .summary-left { flex-direction: column; align-items: flex-start; }\n      .info-row { flex-direction: column; gap: 0.15rem; }\n      .info-value { text-align: left; }\n    }\n  `]\n})\nexport class ProgramViewPageComponent implements OnInit, OnDestroy {\n  program: RewardProgramResponse | null = null;\n  loading = true;\n  error: string | null = null;\n  activeTab: Tab = 'overview';\n  confirmAction: ConfirmAction | null = null;\n\n  showTieredClientsModal = false;\n  tieredClientsData: PagedTieredClientsResponse | null = null;\n  loadingTieredClients = false;\n  tieredClientsFilterTier: string | null = null;\n\n  get confirmDialogTitle(): string {\n    if (!this.confirmAction) return '';\n    const t: Record<ConfirmAction, string> = {\n      deactivate: 'Deactivate program?',\n      archive: 'Archive program?',\n      launchNow: 'Launch program now?'\n    };\n    return t[this.confirmAction];\n  }\n\n  get confirmDialogMessage(): string {\n    if (!this.confirmAction) return '';\n    const m: Record<ConfirmAction, string> = {\n      deactivate: 'This program will be deactivated and will stop affecting customers.',\n      archive: 'This program will be moved to the archive.',\n      launchNow: 'It will start affecting customers and the start date will be set to today.'\n    };\n    return m[this.confirmAction];\n  }\n\n  get confirmDialogConfirmLabel(): string {\n    if (!this.confirmAction) return 'Confirm';\n    const l: Record<ConfirmAction, string> = {\n      deactivate: 'Deactivate',\n      archive: 'Archive',\n      launchNow: 'Launch now'\n    };\n    return l[this.confirmAction];\n  }\n\n  /** UUID from route for tab links */\n  get viewUuid(): string {\n    return this.uuid;\n  }\n\n  /** Sorted Mon–Sun for display */\n  get sortedTiers(): CashbackTierResponse[] {\n    if (!this.program?.cashbackTiers?.length) return [];\n    return [...this.program.cashbackTiers].sort((a, b) => a.sortOrder - b.sortOrder);\n  }\n\n  /** Schedule grouped (e.g. \"Mon – Fri: 08:00 – 18:00\") */\n  get scheduleGroups(): ScheduleGroup[] {\n    if (!this.program?.weeklySchedules?.length) return [];\n    return this.groupSchedule(this.sortedScheduleDays);\n  }\n\n  /** True when different days have different times (use list view instead of bars) */\n  get hasDifferentScheduleTimes(): boolean {\n    const days = this.sortedScheduleDays;\n    const enabled = days.filter(d => d.enabled);\n    if (enabled.length <= 1) return false;\n    const first = enabled[0];\n    const same = enabled.every(d =>\n      d.startTime === first?.startTime && d.endTime === first?.endTime\n    );\n    return !same;\n  }\n\n  /** One entry per weekday, Mon–Sun order (always 7; missing days are off) */\n  get sortedScheduleDays(): WeeklyScheduleResponse[] {\n    const order: DayOfWeek[] = ['MONDAY', 'TUESDAY', 'WEDNESDAY', 'THURSDAY', 'FRIDAY', 'SATURDAY', 'SUNDAY'];\n    if (!this.program?.weeklySchedules?.length) {\n      return order.map(dayOfWeek => ({ dayOfWeek, enabled: false, startTime: null, endTime: null }));\n    }\n    const byDay = new Map<string, WeeklyScheduleResponse>();\n    for (const d of this.program.weeklySchedules) {\n      if (!byDay.has(d.dayOfWeek)) byDay.set(d.dayOfWeek, d);\n    }\n    return order.map(dayOfWeek =>\n      byDay.get(dayOfWeek) ?? { dayOfWeek, enabled: false, startTime: null, endTime: null }\n    );\n  }\n\n  eligibilityPopoverTier: CashbackTierResponse | null = null;\n  popoverX = 0;\n  popoverY = 0;\n\n  private uuid = '';\n  private pageHeaderService = inject(PageHeaderService);\n  private route = inject(ActivatedRoute);\n  private router = inject(Router);\n  private rewardService = inject(RewardProgramsService);\n  private tierClientsMap = new Map<number, TierClientPlaceholder[]>();\n  private routeParamSub?: ReturnType<typeof this.route.paramMap.subscribe>;\n\n  private static readonly VALID_TABS: Tab[] = ['overview', 'tiers', 'schedule'];\n\n  ngOnInit(): void {\n    this.uuid = this.route.snapshot.paramMap.get('uuid') || '';\n    if (!this.uuid) {\n      this.error = 'Missing program identifier.';\n      this.loading = false;\n      return;\n    }\n    this.syncTabFromRoute();\n    this.routeParamSub = this.route.paramMap.subscribe(() => this.syncTabFromRoute());\n    this.loadProgram();\n  }\n\n  ngOnDestroy(): void {\n    this.routeParamSub?.unsubscribe();\n    this.pageHeaderService.clear();\n  }\n\n  private syncTabFromRoute(): void {\n    const tab = this.route.snapshot.paramMap.get('tab') ?? 'overview';\n    if (ProgramViewPageComponent.VALID_TABS.includes(tab as Tab)) {\n      this.activeTab = tab as Tab;\n    } else {\n      this.router.navigate(['/bonus-program/view', this.uuid, 'overview'], { replaceUrl: true });\n    }\n  }\n\n  loadProgram(): void {\n    this.loading = true;\n    this.error = null;\n    this.tierClientsMap.clear();\n    this.rewardService.getProgram(this.uuid).subscribe({\n      next: (p) => {\n        if (p.status === 'DRAFT') {\n          this.router.navigate(['/bonus-program', 'create', p.type.toLowerCase(), p.uuid]);\n          return;\n        }\n        this.program = p;\n        this.loading = false;\n        this.setPageHeader();\n        this.loadTieredClientsForTiersSection();\n      },\n      error: (err) => {\n        this.error = err?.error?.message || 'Failed to load program.';\n        this.loading = false;\n      }\n    });\n  }\n\n  /** Load tiered clients once to populate inline \"Clients in this tier\" per tier */\n  private loadTieredClientsForTiersSection(): void {\n    if (!this.program?.uuid || !this.program.cashbackTiers?.length) return;\n    this.rewardService.getTieredClients(this.program.uuid, 0, 500).subscribe({\n      next: (res) => {\n        const bySortOrder = new Map<number, TierClientPlaceholder[]>();\n        for (const row of res.content) {\n          const list = bySortOrder.get(row.tierSortOrder) ?? [];\n          list.push({\n            clientUuid: row.clientUuid,\n            name: row.clientName,\n            phone: row.phone ?? undefined,\n            totalSpend: row.programPeriodSpend\n          });\n          bySortOrder.set(row.tierSortOrder, list);\n        }\n        this.tierClientsMap = bySortOrder;\n      }\n    });\n  }\n\n  private setPageHeader(): void {\n    if (!this.program) return;\n    this.pageHeaderService.setPageHeader('Program View', [\n      { label: 'Home', route: '/home' },\n      { label: 'Reward Programs', route: '/bonus-program' },\n      { label: 'Program View', route: '/bonus-program/view/' + this.program.uuid }\n    ]);\n  }\n\n  /** Group consecutive days with same schedule into \"Mon – Fri: 08:00 – 18:00\" */\n  private groupSchedule(days: WeeklyScheduleResponse[]): ScheduleGroup[] {\n    const short: Record<string, string> = {\n      MONDAY: 'Mon', TUESDAY: 'Tue', WEDNESDAY: 'Wed', THURSDAY: 'Thu',\n      FRIDAY: 'Fri', SATURDAY: 'Sat', SUNDAY: 'Sun'\n    };\n    const groups: ScheduleGroup[] = [];\n    let i = 0;\n    while (i < days.length) {\n      const d = days[i];\n      const time = d.enabled\n        ? (d.startTime && d.endTime ? `${d.startTime} – ${d.endTime}` : 'All day')\n        : 'Off';\n      let j = i + 1;\n      while (\n        j < days.length &&\n        days[j].enabled === d.enabled &&\n        (d.enabled\n          ? (days[j].startTime === d.startTime && days[j].endTime === d.endTime)\n          : true)\n      ) {\n        j++;\n      }\n      const startDay = short[d.dayOfWeek] ?? d.dayOfWeek;\n      const endDay = j - 1 > i ? short[days[j - 1].dayOfWeek] ?? days[j - 1].dayOfWeek : startDay;\n      const label = startDay === endDay ? startDay : `${startDay} – ${endDay}`;\n      groups.push({ label, time, enabled: d.enabled });\n      i = j;\n    }\n    return groups;\n  }\n\n  formatTierRange(tier: CashbackTierResponse): string {\n    const min = tier.minAmount.toLocaleString('en-US') + ' ₸';\n    const max = tier.maxAmount != null ? tier.maxAmount.toLocaleString('en-US') + ' ₸' : 'No cap';\n    return `${min} – ${max}`;\n  }\n\n  dayShort(dayOfWeek: string): string {\n    const m: Record<string, string> = {\n      MONDAY: 'Mon', TUESDAY: 'Tue', WEDNESDAY: 'Wed', THURSDAY: 'Thu',\n      FRIDAY: 'Fri', SATURDAY: 'Sat', SUNDAY: 'Sun'\n    };\n    return m[dayOfWeek] ?? dayOfWeek;\n  }\n\n  getEarningRuleText(rule: CashbackProgramRuleResponse): string {\n    const value = rule.cashbackType === 'PERCENTAGE'\n      ? `${rule.cashbackValue}%`\n      : `${rule.cashbackValue} pts`;\n    const min = rule.minSpendAmount.toLocaleString('en-US');\n    return `Earn ${value} back on every purchase over ${min} ₸.`;\n  }\n\n  getUsageRuleText(rule: CashbackProgramRuleResponse): string {\n    const parts: string[] = [];\n    parts.push(`Redeem up ${rule.redeemLimitPercent}% of your bill.`);\n    if (rule.bonusLifespanDays != null) {\n      parts.push(`Points expire in ${rule.bonusLifespanDays} days.`);\n    }\n    return parts.join(' ');\n  }\n\n  getEligibilityHumanText(tier: CashbackTierResponse): string {\n    const min = tier.minAmount.toLocaleString('en-US');\n    if (tier.maxAmount != null) {\n      const maxStr = tier.maxAmount.toLocaleString('en-US');\n      return `To reach ${tier.name}, a customer must spend between ${min} ₸ and ${maxStr} ₸ within the program period.`;\n    }\n    return `To reach ${tier.name}, a customer must spend a total of ${min} ₸ or more within the program period.`;\n  }\n\n  openEligibilityPopover(event: MouseEvent, tier: CashbackTierResponse): void {\n    this.eligibilityPopoverTier = tier;\n    const rect = (event.target as HTMLElement).getBoundingClientRect();\n    this.popoverX = Math.min(rect.left, window.innerWidth - 340);\n    this.popoverY = rect.bottom + 8;\n  }\n\n  closeEligibilityPopover(): void {\n    this.eligibilityPopoverTier = null;\n  }\n\n  openTieredClientsModal(tierName?: string): void {\n    this.tieredClientsFilterTier = tierName ?? null;\n    this.showTieredClientsModal = true;\n    this.tieredClientsData = null;\n    this.loadTieredClientsPage(0);\n  }\n\n  closeTieredClientsModal(): void {\n    this.showTieredClientsModal = false;\n    this.tieredClientsData = null;\n    this.tieredClientsFilterTier = null;\n  }\n\n\n  loadTieredClientsPage(page: number): void {\n    if (!this.program) return;\n    this.loadingTieredClients = true;\n    this.rewardService.getTieredClients(this.program.uuid, page, 20, this.tieredClientsFilterTier ?? undefined).subscribe({\n      next: (data) => {\n        this.tieredClientsData = data;\n        this.loadingTieredClients = false;\n      },\n      error: () => {\n        this.loadingTieredClients = false;\n      }\n    });\n  }\n\n  onAdjustProgram(): void {\n    // Mock: could navigate to configure or show toast\n  }\n\n  getTierClients(tier: CashbackTierResponse): TierClientPlaceholder[] {\n    return this.tierClientsMap.get(tier.sortOrder) ?? [];\n  }\n\n  typeLabel(t: RewardProgramType): string {\n    const m: Record<RewardProgramType, string> = {\n      CASHBACK: 'Cashback', WELCOME: 'Welcome', BIRTHDAY: 'Birthday', REFERRAL: 'Referral'\n    };\n    return m[t] ?? t;\n  }\n\n  statusLabel(s: RewardProgramStatus): string {\n    const m: Record<RewardProgramStatus, string> = {\n      ACTIVE: 'Active', SCHEDULED: 'Scheduled', DRAFT: 'Draft',\n      INACTIVE: 'Inactive', ARCHIVED: 'Archived'\n    };\n    return m[s] ?? s;\n  }\n\n  cashbackTypeLabel(t: CashbackType): string {\n    return t === 'PERCENTAGE' ? 'Percentage (%)' : 'Bonus Points';\n  }\n\n  eligibilityLabel(t: EligibilityType): string {\n    const m: Record<EligibilityType, string> = {\n      ALL: 'All items and categories',\n      SPECIFIC_ITEMS: 'Specific items',\n      SPECIFIC_CATEGORIES: 'Specific categories',\n      SPECIFIC_SERVICES: 'Specific services'\n    };\n    return m[t] ?? t;\n  }\n\n  /** Copy for the Min. spend criteria card */\n  getMinSpendCardText(rule: CashbackProgramRuleResponse): string {\n    const amount = rule.minSpendAmount.toLocaleString('en-US');\n    return `Bonuses apply only to payment transactions that meet or exceed ${amount} ₸.`;\n  }\n\n  /** Copy for the Eligibility criteria card */\n  getEligibilityCardText(rule: CashbackProgramRuleResponse): string {\n    const t = rule.eligibilityType;\n    if (t === 'ALL') return 'Bonuses apply to all purchases—any item or category qualifies.';\n    if (t === 'SPECIFIC_ITEMS') return 'Bonuses apply only to transactions made to buy specific items.';\n    if (t === 'SPECIFIC_CATEGORIES') return 'Bonuses apply only to transactions made to buy items from specific categories.';\n    if (t === 'SPECIFIC_SERVICES') return 'Bonuses apply only to transactions made to buy specific services.';\n    return `Bonuses apply to purchases of ${this.eligibilityLabel(t).toLowerCase()}.`;\n  }\n\n  formatDate(iso: string | null): string {\n    if (!iso) return '—';\n    try {\n      return new Date(iso).toLocaleDateString('en-US', {\n        year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'\n      });\n    } catch { return iso; }\n  }\n\n  formatDateShort(iso: string | null): string {\n    if (!iso) return '—';\n    try {\n      return new Date(iso).toLocaleDateString('en-US', {\n        year: 'numeric', month: 'short', day: 'numeric'\n      });\n    } catch { return iso; }\n  }\n\n  /** Time as HH:MM (strips seconds if present, e.g. 08:00:00 → 08:00) */\n  formatTimeHHMM(value: string | null): string {\n    if (!value) return '—';\n    const trimmed = value.trim();\n    if (trimmed.length >= 5) return trimmed.slice(0, 5);\n    return trimmed;\n  }\n\n  getCashbackPerSpendText(rule: CashbackProgramRuleResponse): string {\n    if (rule.cashbackType === 'PERCENTAGE') {\n      return `${rule.cashbackValue} ₸ back per 100₸`;\n    }\n    return `${rule.cashbackValue} pts per ${rule.pointsSpendThreshold} ₸`;\n  }\n\n  formatCashbackValue(rule: CashbackProgramRuleResponse): string {\n    return rule.cashbackType === 'PERCENTAGE'\n      ? `${rule.cashbackValue}%`\n      : `${rule.cashbackValue} pts`;\n  }\n\n  onConfirmAction(): void {\n    const action = this.confirmAction;\n    this.confirmAction = null;\n    if (!action || !this.program) return;\n    if (action === 'deactivate') this.doDeactivate();\n    else if (action === 'archive') this.doArchive();\n    else if (action === 'launchNow') this.doLaunchNow();\n  }\n\n  private doDeactivate(): void {\n    if (!this.program) return;\n    this.rewardService.deactivateProgram(this.program.uuid).subscribe({\n      next: (p) => { this.program = p; this.setPageHeader(); },\n      error: () => {}\n    });\n  }\n\n  private doLaunchNow(): void {\n    if (!this.program) return;\n    this.rewardService.launchCashbackProgram(this.program.uuid, { immediate: true }).subscribe({\n      next: (p) => {\n        this.program = p;\n        this.setPageHeader();\n      },\n      error: () => {}\n    });\n  }\n\n  private doArchive(): void {\n    if (!this.program) return;\n    this.rewardService.archiveProgram(this.program.uuid).subscribe({\n      next: (p) => { this.program = p; this.setPageHeader(); },\n      error: () => {}\n    });\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
