import{a as c}from"./chunk-3B24VZJ2.js";import{P as i,S as r,d as n,e as l,ub as s,vb as a}from"./chunk-IGKWEZVA.js";var f=(()=>{class o{visibleSource=new l(!1);visible$=this.visibleSource.asObservable();initialPhoneSource=new l(null);initialPhone$=this.initialPhoneSource.asObservable();transactionCompleteSource=new n;transactionComplete$=this.transactionCompleteSource.asObservable();open(t){t?this.initialPhoneSource.next(t):this.initialPhoneSource.next(null),this.visibleSource.next(!0)}close(){this.visibleSource.next(!1),this.initialPhoneSource.next(null)}toggle(){this.visibleSource.next(!this.visibleSource.value)}emitTransactionComplete(t){this.transactionCompleteSource.next(t)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var d=(()=>{class o{http;apiUrl=`${c.apiUrl}/payments`;constructor(t){this.http=t}searchPayments(t){return this.http.post(`${this.apiUrl}/search`,t)}refundPayment(t,e){return this.http.post(`${this.apiUrl}/${t}/refund`,e)}getClientPayments(t,e=0,h=100){let p=new s().set("page",e.toString()).set("size",h.toString());return this.http.get(`${this.apiUrl}/client/${t}`,{params:p})}createDraftPayment(t){return console.log("=== CREATE DRAFT PAYMENT REQUEST ==="),console.log("URL:",`${this.apiUrl}/draft`),console.log("Method: POST"),console.log("Full Request Payload:",JSON.stringify(t,null,2)),console.log("Request Payload (object):",t),console.log("===================================="),this.http.post(`${this.apiUrl}/draft`,t)}completePayment(t,e){return console.log("=== COMPLETE PAYMENT REQUEST ==="),console.log("URL:",`${this.apiUrl}/${t}/complete`),console.log("Method: POST"),console.log("Payment TX ID:",t),console.log("Full Request Payload:",JSON.stringify(e,null,2)),console.log("Request Payload (object):",e),console.log("================================"),this.http.post(`${this.apiUrl}/${t}/complete`,e)}deleteDraftPayment(t){return console.log("=== DELETE DRAFT PAYMENT REQUEST ==="),console.log("URL:",`${this.apiUrl}/draft/${t}`),console.log("Method: DELETE"),console.log("Payment TX ID:",t),console.log("====================================="),this.http.delete(`${this.apiUrl}/draft/${t}`)}getPaymentByTxId(t){return this.http.get(`${this.apiUrl}/${t}`)}updatePaymentMethod(t,e){return this.http.put(`${this.apiUrl}/${t}/payment-method`,e)}deletePayment(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||o)(r(a))};static \u0275prov=i({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{f as a,d as b};
