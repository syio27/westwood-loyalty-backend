{
  "version": 3,
  "sources": ["src/app/core/services/reward-programs.service.ts", "src/app/features/bonus-program/pages/program-types-page/program-types-page.component.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../environments/environment';\n\nexport type RewardProgramType = 'WELCOME' | 'BIRTHDAY' | 'REFERRAL' | 'CASHBACK';\n\nexport type RewardProgramSlotStatus = 'NOT_CREATED' | 'DRAFT' | 'ACTIVE';\n\nexport interface RewardProgramSlot {\n  type: RewardProgramType;\n  status: RewardProgramSlotStatus;\n  uuid: string | null;\n}\n\nexport interface CreateDraftResponse {\n  uuid: string;\n  type: RewardProgramType;\n  status: 'DRAFT' | 'ACTIVE';\n}\n\nconst API = `${environment.apiUrl}/reward-programs`;\n\n@Injectable({ providedIn: 'root' })\nexport class RewardProgramsService {\n\n  constructor(private http: HttpClient) {}\n\n  getSlots(): Observable<RewardProgramSlot[]> {\n    return this.http.get<RewardProgramSlot[]>(`${API}/slots`);\n  }\n\n  createDraft(type: RewardProgramType): Observable<CreateDraftResponse> {\n    return this.http.post<CreateDraftResponse>(`${API}/draft`, { type });\n  }\n}\n\n/** URL path segment for route (lowercase). */\nexport function rewardProgramTypeToSlug(type: RewardProgramType): string {\n  return type.toLowerCase();\n}\n\nexport function slugToRewardProgramType(slug: string): RewardProgramType | null {\n  const upper = slug?.toUpperCase();\n  if (upper === 'WELCOME' || upper === 'BIRTHDAY' || upper === 'REFERRAL' || upper === 'CASHBACK') {\n    return upper as RewardProgramType;\n  }\n  return null;\n}\n", "import { Component, OnInit, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Router } from '@angular/router';\nimport { PageHeaderService } from '../../../../core/services/page-header.service';\nimport { RewardProgramsService, RewardProgramType } from '../../../../core/services/reward-programs.service';\n\ntype ProgramTypeId = 'welcome' | 'birthday' | 'referral' | 'cashback';\n\ninterface ProgramTypeCard {\n  id: ProgramTypeId;\n  title: string;\n  description: string;\n  section: 'Acquisition' | 'Events' | 'Growth';\n  icon: string;\n}\n\nconst PROGRAM_TYPES: ProgramTypeCard[] = [\n  { id: 'welcome', title: 'Welcome reward', description: 'Fixed bonus after the first purchase.', section: 'Acquisition', icon: 'welcome' },\n  { id: 'birthday', title: 'Birthday reward', description: 'Bonus to customers on their birthday.', section: 'Events', icon: 'gift' },\n  { id: 'referral', title: 'Referral', description: 'Rewards for successful client referrals.', section: 'Growth', icon: 'referral' },\n  { id: 'cashback', title: 'Cashback', description: 'Percentage cashback on each payment.', section: 'Growth', icon: 'percent' }\n];\n\n@Component({\n  selector: 'app-program-types-page',\n  standalone: true,\n  imports: [CommonModule],\n  template: `\n    <div class=\"page-wrapper\">\n      <div class=\"content-layout\">\n        <!-- Left: Reward Program types -->\n        <section class=\"types-section\">\n          <h2 class=\"page-title\">Reward Program types</h2>\n          <p class=\"page-subtitle\">Choose what kind of reward program you want to configure.</p>\n\n          <div class=\"types-grid\">\n            <article *ngFor=\"let card of PROGRAM_TYPES\" class=\"type-card\">\n              <div class=\"type-card-header\">\n                <div class=\"type-card-icon\">\n                  <ng-container [ngSwitch]=\"card.icon\">\n                    <svg *ngSwitchCase=\"'welcome'\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\"><rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\"/><path d=\"M3 10h18\"/><path d=\"M7 4v4M17 4v4\"/></svg>\n                    <svg *ngSwitchCase=\"'gift'\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\"><path d=\"M20 12v9H4v-9\"/><rect x=\"2\" y=\"7\" width=\"20\" height=\"5\" rx=\"1\"/><path d=\"M12 22V7\"/><path d=\"M12 7c-2-2-4-2.5-4-4.5a2 2 0 0 1 4 0c0 1.5-2 2-4 4.5\"/><path d=\"M12 7c2-2 4-2.5 4-4.5a2 2 0 0 0-4 0c0 1.5 2 2 4 4.5\"/></svg>\n                    <svg *ngSwitchCase=\"'referral'\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\"><circle cx=\"18\" cy=\"5\" r=\"2.5\"/><circle cx=\"6\" cy=\"12\" r=\"2.5\"/><circle cx=\"18\" cy=\"19\" r=\"2.5\"/><path d=\"M8.5 13.5l7 4M15.5 6.5l-7 4\"/></svg>\n                    <svg *ngSwitchCase=\"'percent'\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\"><circle cx=\"9\" cy=\"9\" r=\"2\"/><circle cx=\"15\" cy=\"15\" r=\"2\"/><path d=\"M5 19L19 5\"/></svg>\n                  </ng-container>\n                </div>\n              </div>\n              <div class=\"type-card-body\">\n                <h3 class=\"type-card-title\">{{ card.title }}</h3>\n                <p class=\"type-card-desc\">{{ card.description }}</p>\n              </div>\n              <div class=\"type-card-footer\">\n                <button type=\"button\" class=\"btn-create\" (click)=\"onCreate(card)\">\n                  Create\n                  <svg class=\"btn-create-arrow\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M9 18l6-6-6-6\"/></svg>\n                </button>\n              </div>\n            </article>\n          </div>\n        </section>\n\n        <!-- Right: templates (placeholder) -->\n        <aside class=\"templates-sidebar\">\n          <h3 class=\"templates-title\">Reward Program templates</h3>\n          <p class=\"templates-subtitle\">Start quickly from a pre-configured template (coming soon).</p>\n        </aside>\n      </div>\n    </div>\n  `,\n  styles: [`\n    :host { display: block; height: 100%; }\n    .page-wrapper { min-height: 100%; margin: -2rem; padding: 2rem; background: #f8fafc; }\n    .content-layout { display: grid; grid-template-columns: minmax(0, 1fr) 280px; gap: 1.5rem; align-items: flex-start; }\n\n    .types-section { background: white; border-radius: 12px; border: 1px solid #e2e8f0; padding: 1.75rem 2rem 2rem; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }\n    .page-title { font-size: 1.4rem; font-weight: 700; margin: 0 0 0.25rem 0; color: #0f172a; }\n    .page-subtitle { font-size: 0.9rem; color: #64748b; margin: 0 0 1.5rem 0; }\n\n    .types-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.5rem; }\n    .type-card { display: flex; flex-direction: column; gap: 0.75rem; padding: 2rem 2rem 1.5rem; border-radius: 14px; border: 1px solid #e2e8f0; background: #ffffff; box-shadow: 0 2px 6px rgba(0,0,0,0.04); }\n    .type-card-header { display: flex; justify-content: flex-start; margin-bottom: 0.25rem; }\n    .type-card-icon { width: 56px; height: 56px; border-radius: 14px; background: #e0f2fe; color: #0284c7; display: flex; align-items: center; justify-content: center; }\n    .type-card-icon svg { width: 28px; height: 28px; }\n    .type-card-body { flex: 1; }\n    .type-card-title { font-size: 1.2rem; font-weight: 700; color: #0f172a; margin: 0 0 0.35rem 0; }\n    .type-card-desc { font-size: 0.95rem; color: #64748b; margin: 0; line-height: 1.5; }\n    .type-card-footer { margin-top: 1rem; }\n    .btn-create { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.6rem 1.25rem; border-radius: 8px; border: none; background: #16A34A; color: white; font-size: 0.95rem; font-weight: 600; cursor: pointer; }\n    .btn-create:hover { background: #15803d; }\n    .btn-create-arrow { width: 18px; height: 18px; }\n\n    .templates-sidebar { background: white; border-radius: 12px; border: 1px solid #e2e8f0; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.04); }\n    .templates-title { font-size: 1rem; font-weight: 700; margin: 0 0 0.5rem 0; color: #0f172a; }\n    .templates-subtitle { font-size: 0.85rem; color: #64748b; margin: 0; }\n\n    @media (max-width: 900px) {\n      .content-layout { grid-template-columns: minmax(0, 1fr); }\n      .templates-sidebar { order: -1; }\n    }\n  `]\n})\nexport class ProgramTypesPageComponent implements OnInit {\n  private pageHeaderService = inject(PageHeaderService);\n  private router = inject(Router);\n  private rewardProgramsService = inject(RewardProgramsService);\n\n  readonly PROGRAM_TYPES = PROGRAM_TYPES;\n\n  ngOnInit(): void {\n    this.pageHeaderService.setPageHeader('Create Program', [\n      { label: 'Главная', route: '/home' },\n      { label: 'Reward Programs', route: '/bonus-program' },\n      { label: 'Reward Program types' }\n    ]);\n  }\n\n  onCreate(card: ProgramTypeCard): void {\n    const type = this.toRewardProgramType(card.id);\n    this.rewardProgramsService.createDraft(type).subscribe({\n      next: res => {\n        this.router.navigate(['/bonus-program', 'create', res.uuid]);\n      }\n    });\n  }\n\n  private toRewardProgramType(id: ProgramTypeId): RewardProgramType {\n    switch (id) {\n      case 'welcome': return 'WELCOME';\n      case 'birthday': return 'BIRTHDAY';\n      case 'referral': return 'REFERRAL';\n      case 'cashback':\n      default:\n        return 'CASHBACK';\n    }\n  }\n}\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,IAAM,MAAM,GAAG,YAAY,MAAM;AAG3B,IAAO,wBAAP,MAAO,uBAAqB;EAEZ;EAApB,YAAoB,MAAgB;AAAhB,SAAA,OAAA;EAAmB;EAEvC,WAAQ;AACN,WAAO,KAAK,KAAK,IAAyB,GAAG,GAAG,QAAQ;EAC1D;EAEA,YAAY,MAAuB;AACjC,WAAO,KAAK,KAAK,KAA0B,GAAG,GAAG,UAAU,EAAE,KAAI,CAAE;EACrE;;qCAVW,wBAAqB,mBAAA,UAAA,CAAA;EAAA;4EAArB,wBAAqB,SAArB,uBAAqB,WAAA,YADR,OAAM,CAAA;;;sEACnB,uBAAqB,CAAA;UADjC;WAAW,EAAE,YAAY,OAAM,CAAE;;;;;;;;ACiBd,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAwG,IAAA,oBAAA,GAAA,QAAA,EAAA,EAAiD,GAAA,QAAA,EAAA,EAAoB,GAAA,QAAA,EAAA;AAAyB,IAAA,uBAAA;;;;;;AACtM,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAqG,IAAA,oBAAA,GAAA,QAAA,EAAA,EAAyB,GAAA,QAAA,EAAA,EAAgD,GAAA,QAAA,EAAA,EAAoB,GAAA,QAAA,EAAA,EAAgE,GAAA,QAAA,EAAA;AAA+D,IAAA,uBAAA;;;;;;AACjU,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAyG,IAAA,oBAAA,GAAA,UAAA,EAAA,EAAgC,GAAA,UAAA,EAAA,EAAgC,GAAA,UAAA,EAAA,EAAiC,GAAA,QAAA,EAAA;AAAuC,IAAA,uBAAA;;;;;;AACjP,IAAA,yBAAA,GAAA,OAAA,EAAA;AAAwG,IAAA,oBAAA,GAAA,UAAA,EAAA,EAA6B,GAAA,UAAA,EAAA,EAA+B,GAAA,QAAA,EAAA;AAAsB,IAAA,uBAAA;;;;;;AAPlM,IAAA,yBAAA,GAAA,WAAA,EAAA,EAA8D,GAAA,OAAA,EAAA,EAC9B,GAAA,OAAA,EAAA;AAE1B,IAAA,kCAAA,GAAA,EAAA;AACE,IAAA,qBAAA,GAAA,yDAAA,GAAA,GAAA,OAAA,EAAA,EAAwG,GAAA,yDAAA,GAAA,GAAA,OAAA,EAAA,EACH,GAAA,yDAAA,GAAA,GAAA,OAAA,EAAA,EACI,GAAA,yDAAA,GAAA,GAAA,OAAA,EAAA;;AAG7G,IAAA,uBAAA,EAAM;AAER,IAAA,yBAAA,GAAA,OAAA,EAAA,EAA4B,GAAA,MAAA,EAAA;AACE,IAAA,iBAAA,EAAA;AAAgB,IAAA,uBAAA;AAC5C,IAAA,yBAAA,IAAA,KAAA,EAAA;AAA0B,IAAA,iBAAA,EAAA;AAAsB,IAAA,uBAAA,EAAI;AAEtD,IAAA,yBAAA,IAAA,OAAA,EAAA,EAA8B,IAAA,UAAA,EAAA;AACa,IAAA,qBAAA,SAAA,SAAA,wEAAA;AAAA,YAAA,UAAA,wBAAA,GAAA,EAAA;AAAA,YAAA,SAAA,wBAAA;AAAA,aAAA,sBAAS,OAAA,SAAA,OAAA,CAAc;IAAA,CAAA;AAC9D,IAAA,iBAAA,IAAA,UAAA;;AACA,IAAA,yBAAA,IAAA,OAAA,EAAA;AAAqG,IAAA,oBAAA,IAAA,QAAA,EAAA;AAAyB,IAAA,uBAAA,EAAM,EAC7H,EACL;;;;AAjBY,IAAA,oBAAA,CAAA;AAAA,IAAA,qBAAA,YAAA,QAAA,IAAA;AACN,IAAA,oBAAA;AAAA,IAAA,qBAAA,gBAAA,SAAA;AACA,IAAA,oBAAA;AAAA,IAAA,qBAAA,gBAAA,MAAA;AACA,IAAA,oBAAA;AAAA,IAAA,qBAAA,gBAAA,UAAA;AACA,IAAA,oBAAA;AAAA,IAAA,qBAAA,gBAAA,SAAA;AAKkB,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,KAAA;AACF,IAAA,oBAAA,CAAA;AAAA,IAAA,4BAAA,QAAA,WAAA;;;AAjC1C,IAAM,gBAAmC;EACvC,EAAE,IAAI,WAAW,OAAO,kBAAkB,aAAa,yCAAyC,SAAS,eAAe,MAAM,UAAS;EACvI,EAAE,IAAI,YAAY,OAAO,mBAAmB,aAAa,yCAAyC,SAAS,UAAU,MAAM,OAAM;EACjI,EAAE,IAAI,YAAY,OAAO,YAAY,aAAa,4CAA4C,SAAS,UAAU,MAAM,WAAU;EACjI,EAAE,IAAI,YAAY,OAAO,YAAY,aAAa,wCAAwC,SAAS,UAAU,MAAM,UAAS;;AAiFxH,IAAO,4BAAP,MAAO,2BAAyB;EAC5B,oBAAoB,OAAO,iBAAiB;EAC5C,SAAS,OAAO,MAAM;EACtB,wBAAwB,OAAO,qBAAqB;EAEnD,gBAAgB;EAEzB,WAAQ;AACN,SAAK,kBAAkB,cAAc,kBAAkB;MACrD,EAAE,OAAO,8CAAW,OAAO,QAAO;MAClC,EAAE,OAAO,mBAAmB,OAAO,iBAAgB;MACnD,EAAE,OAAO,uBAAsB;KAChC;EACH;EAEA,SAAS,MAAqB;AAC5B,UAAM,OAAO,KAAK,oBAAoB,KAAK,EAAE;AAC7C,SAAK,sBAAsB,YAAY,IAAI,EAAE,UAAU;MACrD,MAAM,SAAM;AACV,aAAK,OAAO,SAAS,CAAC,kBAAkB,UAAU,IAAI,IAAI,CAAC;MAC7D;KACD;EACH;EAEQ,oBAAoB,IAAiB;AAC3C,YAAQ,IAAI;MACV,KAAK;AAAW,eAAO;MACvB,KAAK;AAAY,eAAO;MACxB,KAAK;AAAY,eAAO;MACxB,KAAK;MACL;AACE,eAAO;IACX;EACF;;qCAjCW,4BAAyB;EAAA;yEAAzB,4BAAyB,WAAA,CAAA,CAAA,wBAAA,CAAA,GAAA,OAAA,IAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,cAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,SAAA,aAAA,GAAA,SAAA,SAAA,GAAA,CAAA,GAAA,mBAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,GAAA,oBAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,UAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,OAAA,GAAA,cAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,iBAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,kBAAA,GAAA,CAAA,QAAA,UAAA,GAAA,cAAA,GAAA,OAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,KAAA,GAAA,kBAAA,GAAA,CAAA,KAAA,eAAA,GAAA,CAAA,WAAA,aAAA,QAAA,QAAA,UAAA,gBAAA,gBAAA,KAAA,GAAA,CAAA,KAAA,KAAA,KAAA,KAAA,SAAA,MAAA,UAAA,MAAA,MAAA,GAAA,GAAA,CAAA,KAAA,UAAA,GAAA,CAAA,KAAA,eAAA,GAAA,CAAA,KAAA,eAAA,GAAA,CAAA,KAAA,KAAA,KAAA,KAAA,SAAA,MAAA,UAAA,KAAA,MAAA,GAAA,GAAA,CAAA,KAAA,UAAA,GAAA,CAAA,KAAA,sDAAA,GAAA,CAAA,KAAA,qDAAA,GAAA,CAAA,MAAA,MAAA,MAAA,KAAA,KAAA,KAAA,GAAA,CAAA,MAAA,KAAA,MAAA,MAAA,KAAA,KAAA,GAAA,CAAA,MAAA,MAAA,MAAA,MAAA,KAAA,KAAA,GAAA,CAAA,KAAA,6BAAA,GAAA,CAAA,MAAA,KAAA,MAAA,KAAA,KAAA,GAAA,GAAA,CAAA,MAAA,MAAA,MAAA,MAAA,KAAA,GAAA,GAAA,CAAA,KAAA,YAAA,CAAA,GAAA,UAAA,SAAA,mCAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AAzElC,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA0B,GAAA,OAAA,CAAA,EACI,GAAA,WAAA,CAAA,EAEK,GAAA,MAAA,CAAA;AACN,MAAA,iBAAA,GAAA,sBAAA;AAAoB,MAAA,uBAAA;AAC3C,MAAA,yBAAA,GAAA,KAAA,CAAA;AAAyB,MAAA,iBAAA,GAAA,2DAAA;AAAyD,MAAA,uBAAA;AAElF,MAAA,yBAAA,GAAA,OAAA,CAAA;AACE,MAAA,qBAAA,GAAA,8CAAA,IAAA,GAAA,WAAA,CAAA;AAsBF,MAAA,uBAAA,EAAM;AAIR,MAAA,yBAAA,GAAA,SAAA,CAAA,EAAiC,IAAA,MAAA,CAAA;AACH,MAAA,iBAAA,IAAA,0BAAA;AAAwB,MAAA,uBAAA;AACpD,MAAA,yBAAA,IAAA,KAAA,CAAA;AAA8B,MAAA,iBAAA,IAAA,6DAAA;AAA2D,MAAA,uBAAA,EAAI,EACvF,EACJ;;;AA9B0B,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,WAAA,IAAA,aAAA;;oBAV1B,cAAY,SAAA,UAAA,YAAA,GAAA,QAAA,CAAA,w+FAAA,EAAA,CAAA;;;sEA2EX,2BAAyB,CAAA;UA9ErC;uBACW,0BAAwB,YACtB,MAAI,SACP,CAAC,YAAY,GAAC,UACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAyCT,QAAA,CAAA,+wFAAA,EAAA,CAAA;;;;6EAiCU,2BAAyB,EAAA,WAAA,6BAAA,UAAA,2FAAA,YAAA,IAAA,CAAA;AAAA,GAAA;",
  "names": []
}
