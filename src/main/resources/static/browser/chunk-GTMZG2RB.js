import{a as R}from"./chunk-M2BNJ2YX.js";import{a as j}from"./chunk-W3QYXCYD.js";import{a as N}from"./chunk-KJP7RGDR.js";import{a as G}from"./chunk-UFJZUWY7.js";import{a as A}from"./chunk-H4NEVOOS.js";import"./chunk-3B24VZJ2.js";import{a as L}from"./chunk-QHRJ7I7H.js";import{$ as f,Aa as t,Ab as U,Ba as n,Ca as p,Eb as z,Ga as w,Ha as k,Ia as c,Pa as o,Qa as s,Ra as m,Sa as I,T as _,Z as S,Za as P,_ as O,aa as x,ib as B,jb as T,la as a,oa as E,pb as D,sa as g,wa as u,xb as F,ya as h,za as C}from"./chunk-XIV6Y6YY.js";var H=r=>["/clients",r];function $(r,l){r&1&&(t(0,"div",4),p(1,"app-loader"),n())}function V(r,l){r&1&&p(0,"app-not-found-state",5)}function q(r,l){if(r&1&&(t(0,"p",51),o(1),n()),r&2){let e=c(2);a(),s(e.user.phoneNumber)}}function J(r,l){if(r&1&&(t(0,"div",31)(1,"span",32),o(2,"\u0421\u0442\u0430\u0442\u0443\u0441:"),n(),t(3,"span",33)(4,"span",52),p(5,"span",53),o(6),n()()()),r&2){let e=c(2);a(4),h("online",e.userStatus.isOnline)("offline",!e.userStatus.isOnline),a(2),m(" ",e.userStatus.isOnline?"\u041E\u043D\u043B\u0430\u0439\u043D":"\u041E\u0444\u043B\u0430\u0439\u043D"," ")}}function K(r,l){if(r&1&&(t(0,"div",31)(1,"span",32),o(2,"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u0440\u0430\u0437 \u043E\u043D\u043B\u0430\u0439\u043D:"),n(),t(3,"span",33),o(4),n()()),r&2){let e=c(2);a(4),s(e.formatLastSeen((e.userStatus==null?null:e.userStatus.lastSeenAt)||null))}}function Q(r,l){if(r&1&&(t(0,"app-badge",79),o(1),n()),r&2){let e=c().$implicit,i=c(2);a(),m(" +",i.formatAmount(i.getBonusGranted(e))," ")}}function W(r,l){if(r&1&&(t(0,"app-badge",80),o(1),n()),r&2){let e=c().$implicit,i=c(2);a(),m(" -",i.formatAmount(i.getBonusUsed(e))," ")}}function X(r,l){r&1&&(t(0,"span",81),o(1,"\u2014"),n())}function Y(r,l){if(r&1&&(t(0,"tr",54)(1,"td",55)(2,"span",56),o(3),n()(),t(4,"td",57)(5,"div",58)(6,"div",59),o(7),n(),t(8,"div",60)(9,"a",61)(10,"span",62),o(11),n()(),t(12,"span",63),o(13),n()()()(),t(14,"td",64)(15,"span",65),o(16),n()(),t(17,"td",66)(18,"div",67),g(19,Q,2,1,"app-badge",68)(20,W,2,1,"app-badge",69)(21,X,2,0,"span",70),n()(),t(22,"td",71)(23,"span",72),o(24),n()(),t(25,"td",73)(26,"app-badge",74),o(27),n()(),t(28,"td",75)(29,"div",76)(30,"span",77),o(31),n(),t(32,"span",78),o(33),n()()()()),r&2){let e=l.$implicit,i=c(2);a(3),m("#",e.txId||e.id,""),a(4),m(" ",i.getInitials(e.clientName)," "),a(2),u("routerLink",P(17,H,e.clientId)),a(2),s(e.clientName),a(2),s(e.clientPhone),a(3),m("",i.formatAmount(e.amount)," \u20B8"),a(3),u("ngIf",i.getBonusGranted(e)>0),a(),u("ngIf",i.getBonusUsed(e)>0),a(),u("ngIf",i.getBonusGranted(e)===0&&i.getBonusUsed(e)===0),a(2),C("method-"+(i.getPaymentMethod(e)||"unknown")),a(),m(" ",i.getPaymentMethodLabel(i.getPaymentMethod(e))," "),a(2),u("badgeType",i.isRefunded(e)?"refund":"payment")("icon",i.isRefunded(e)?"refund":"payment"),a(),m(" ",i.isRefunded(e)?"\u0412\u043E\u0437\u0432\u0440\u0430\u0442":"\u041E\u043F\u043B\u0430\u0447\u0435\u043D\u043E"," "),a(4),s(i.getFormattedDate(e)),a(2),s(i.getFormattedTime(e))}}function Z(r,l){r&1&&(t(0,"div",82),f(),t(1,"svg",19),p(2,"path",83)(3,"rect",84)(4,"path",85),n(),x(),t(5,"span"),o(6,"\u041D\u0435\u0442 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439"),n()())}function ee(r,l){if(r&1&&(t(0,"app-badge",104),o(1),n()),r&2){let e=c().$implicit,i=c(2);a(),m("+",i.formatAmount(i.getBonusGranted(e)),"")}}function te(r,l){if(r&1&&(t(0,"app-badge",105),o(1),n()),r&2){let e=c().$implicit,i=c(2);a(),m("-",i.formatAmount(i.getBonusUsed(e)),"")}}function ne(r,l){r&1&&(t(0,"span"),o(1,"\u2014"),n())}function ie(r,l){if(r&1){let e=w();t(0,"div",86)(1,"div",87),k("click",function(){let d=S(e).$implicit,b=c(2);return O(b.toggleMobilePaymentCard(d.txId||d.id))}),t(2,"div",88)(3,"div")(4,"div",89),o(5),n(),t(6,"div",90),o(7),n()()(),t(8,"div",91),f(),t(9,"svg",92),p(10,"path",93),n()()(),x(),t(11,"div",94)(12,"div",95)(13,"span",96),o(14,"\u041A\u043B\u0438\u0435\u043D\u0442:"),n(),t(15,"a",97),o(16),n()(),t(17,"div",95)(18,"span",96),o(19,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D:"),n(),t(20,"span",98),o(21),n()(),t(22,"div",95)(23,"span",96),o(24,"\u0411\u043E\u043D\u0443\u0441\u044B:"),n(),t(25,"div",99),g(26,ee,2,1,"app-badge",100)(27,te,2,1,"app-badge",101)(28,ne,2,0,"span",102),n()(),t(29,"div",95)(30,"span",96),o(31,"\u0421\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B:"),n(),t(32,"span",103),o(33),n()(),t(34,"div",95)(35,"span",96),o(36,"\u0414\u0430\u0442\u0430:"),n(),t(37,"span",98),o(38),n()()()()}if(r&2){let e=l.$implicit,i=c(2);a(5),m("#",e.txId||e.id,""),a(2),m("",i.formatAmount(e.amount)," \u20B8"),a(),h("expanded",i.isMobilePaymentExpanded(e.txId||e.id)),a(3),h("expanded",i.isMobilePaymentExpanded(e.txId||e.id)),a(4),u("routerLink",P(17,H,e.clientId)),a(),m(" ",e.clientName," "),a(5),s(e.clientPhone),a(5),u("ngIf",i.getBonusGranted(e)>0),a(),u("ngIf",i.getBonusUsed(e)>0),a(),u("ngIf",i.getBonusGranted(e)===0&&i.getBonusUsed(e)===0),a(4),C("method-"+(i.getPaymentMethod(e)||"unknown")),a(),m(" ",i.getPaymentMethodLabel(i.getPaymentMethod(e))," "),a(5),I("",i.getFormattedDate(e)," ",i.getFormattedTime(e),"")}}function ae(r,l){r&1&&(t(0,"div",106),f(),t(1,"svg",19),p(2,"path",83)(3,"rect",84)(4,"path",85),n(),x(),t(5,"span"),o(6,"\u041D\u0435\u0442 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439"),n()())}function oe(r,l){if(r&1&&(t(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10),o(5),n(),p(6,"div",11),n(),t(7,"div",12)(8,"div",13)(9,"h1",14),o(10),n(),t(11,"app-badge",15),o(12),n()(),t(13,"p",16),o(14),n(),g(15,q,2,1,"p",17),t(16,"div",18),f(),t(17,"svg",19),p(18,"path",20)(19,"path",21)(20,"path",22),n(),x(),t(21,"span"),o(22),n()()()()(),t(23,"div",23)(24,"div",24)(25,"div",25)(26,"div",26),f(),t(27,"svg",19),p(28,"path",27)(29,"circle",28),n()(),x(),t(30,"h3",29),o(31,"\u041B\u0438\u0447\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435"),n()()(),t(32,"div",30)(33,"div",31)(34,"span",32),o(35,"\u0418\u043C\u044F:"),n(),t(36,"span",33),o(37),n()(),t(38,"div",31)(39,"span",32),o(40,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F:"),n(),t(41,"span",33),o(42),n()(),t(43,"div",31)(44,"span",32),o(45,"Email:"),n(),t(46,"span",33),o(47),n()(),t(48,"div",31)(49,"span",32),o(50,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D:"),n(),t(51,"span",33),o(52),n()(),t(53,"div",31)(54,"span",32),o(55,"\u0420\u043E\u043B\u044C:"),n(),t(56,"span",33),o(57),n()(),t(58,"div",31)(59,"span",32),o(60,"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:"),n(),t(61,"span",33),o(62),n()(),g(63,J,7,5,"div",34)(64,K,5,1,"div",34),n()(),t(65,"div",35)(66,"div",24)(67,"div",25)(68,"div",26),f(),t(69,"svg",19),p(70,"path",36),n()(),x(),t(71,"h3",29),o(72,"\u0418\u0441\u0442\u043E\u0440\u0438\u044F \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u0439"),n()()(),t(73,"div",37)(74,"table",38)(75,"thead")(76,"tr")(77,"th",39),o(78,"ID \u043F\u043B\u0430\u0442\u0435\u0436\u0430"),n(),t(79,"th",40),o(80,"\u041A\u043B\u0438\u0435\u043D\u0442"),n(),t(81,"th",41),o(82,"\u0421\u0443\u043C\u043C\u0430"),n(),t(83,"th",42),o(84,"\u0411\u043E\u043D\u0443\u0441\u044B"),n(),t(85,"th",43),o(86,"\u0421\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B"),n(),t(87,"th",44),o(88,"\u0421\u0442\u0430\u0442\u0443\u0441"),n(),t(89,"th",45),o(90,"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043C\u044F"),n()()(),t(91,"tbody"),g(92,Y,34,19,"tr",46),n()(),g(93,Z,7,0,"div",47),n(),t(94,"div",48),g(95,ie,39,19,"div",49)(96,ae,7,0,"div",50),n()()()),r&2){let e=c();a(5),m(" ",e.getInitials()," "),a(),h("online",e.userStatus==null?null:e.userStatus.isOnline)("offline",!(e.userStatus!=null&&e.userStatus.isOnline)),a(4),s(e.getFullName()),a(),u("badgeType",e.getStatusBadgeType(e.user.status)),a(),m(" ",e.getStatusLabel(e.user.status)," "),a(2),s(e.user.email),a(),u("ngIf",e.user.phoneNumber),a(7),s(e.user.role),a(15),s(e.user.firstName),a(5),s(e.user.lastName),a(5),s(e.user.email),a(5),s(e.user.phoneNumber||"\u2014"),a(5),s(e.user.role),a(5),s(e.formatDate(e.user.createdAt)),a(),u("ngIf",e.userStatus),a(),u("ngIf",e.userStatus==null?null:e.userStatus.lastSeenAt),a(28),u("ngForOf",e.userPayments),a(),u("ngIf",e.userPayments.length===0),a(2),u("ngForOf",e.userPayments),a(),u("ngIf",e.userPayments.length===0)}}var he=(()=>{class r{pageHeaderService=_(A);route=_(F);usersService=_(N);toastService=_(L);user=null;userPayments=[];isLoading=!0;userNotFound=!1;userStatus=null;expandedMobilePaymentCards=new Set;ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?(this.pageHeaderService.setPageHeader("\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",[{label:"\u0413\u043B\u0430\u0432\u043D\u0430\u044F",route:"/home"},{label:"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0438",route:"/users"},{label:"\u041F\u0440\u043E\u0444\u0438\u043B\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"}]),this.loadUser(e),this.loadTransactions(e),this.loadUserStatus(e)):(this.isLoading=!1,this.toastService.error("ID \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D"))}loadUser(e){this.usersService.getUserById(e).subscribe({next:i=>{this.user=this.mapApiUserToUser(i),this.isLoading=!1},error:i=>{if(i.status===404){this.userNotFound=!0,this.isLoading=!1;return}let d=i.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F";this.toastService.error(d),this.isLoading=!1}})}loadTransactions(e){this.usersService.getUserTransactions(e).subscribe({next:i=>{this.userPayments=i.map(d=>this.mapTransactionToPayment(d))},error:i=>{let d=i.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0439";this.toastService.error(d)}})}loadUserStatus(e){this.usersService.getUserStatus(e).subscribe({next:i=>{this.userStatus={isOnline:i.isOnline,lastSeenAt:i.lastSeenAt}},error:i=>{console.error("Error loading user status:",i)}})}formatLastSeen(e){if(!e)return"\u041D\u0438\u043A\u043E\u0433\u0434\u0430";let i=new Date(e),b=new Date().getTime()-i.getTime(),v=Math.floor(b/6e4),y=Math.floor(b/36e5),M=Math.floor(b/864e5);return v<1?"\u0422\u043E\u043B\u044C\u043A\u043E \u0447\u0442\u043E":v<60?`${v} \u043C\u0438\u043D \u043D\u0430\u0437\u0430\u0434`:y<24?`${y} \u0447 \u043D\u0430\u0437\u0430\u0434`:M<7?`${M} \u0434\u043D \u043D\u0430\u0437\u0430\u0434`:i.toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"})}mapApiUserToUser(e){return{id:e.id,firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:e.phone||"\u2014",role:this.getRoleLabel(e.roles),status:this.mapAccountStatusToStatus(e.accountStatus,e.active),createdAt:e.createdAt||""}}mapAccountStatusToStatus(e,i){return e==="PENDING_ACTIVATION"?"invited":i===!1?"closed":"active"}getRoleLabel(e){return e.includes("SUDO")?"\u0421\u0443\u043F\u0435\u0440 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440":e.includes("ADMIN")?"\u0410\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440":e.includes("MANAGER")?"\u041C\u0435\u043D\u0435\u0434\u0436\u0435\u0440":e.join(", ")}mapTransactionToPayment(e){let i=new Date(e.createdAt);return{id:e.txId,clientId:e.clientId,clientName:e.clientName,clientPhone:e.clientPhone,amount:e.amount,bonusEarned:e.bonusGranted,bonusUsed:e.bonusUsed,paymentMethod:e.paymentMethod||"unknown",isRefund:e.status==="REFUNDED",date:i.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}),time:i.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})}}getBonusGranted(e){return e.bonusEarned||0}getBonusUsed(e){return e.bonusUsed||0}getPaymentMethod(e){return e.paymentMethod||"unknown"}isRefunded(e){return e.isRefund||!1}getFormattedDate(e){return e.date||""}getFormattedTime(e){return e.time||""}ngAfterViewInit(){let e=document.querySelector(".sidebar-content");e&&(e.scrollTop=0),window.scrollTo(0,0)}getFullName(){return this.user?`${this.user.firstName} ${this.user.lastName}`:""}getInitials(e){return e?e.split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2):this.user?`${this.user.firstName.charAt(0)}${this.user.lastName.charAt(0)}`.toUpperCase():""}getStatusBadgeType(e){switch(e){case"active":return"success";case"invited":return"warning";case"closed":return"danger";default:return"secondary"}}getStatusLabel(e){switch(e){case"invited":return"\u041F\u0440\u0438\u0433\u043B\u0430\u0448\u0435\u043D";case"active":return"\u0410\u043A\u0442\u0438\u0432\u043D\u044B\u0439";case"closed":return"\u0417\u0430\u043A\u0440\u044B\u0442\u044B\u0439";default:return e}}formatDate(e){return new Date(e).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}formatAmount(e){return e.toLocaleString("ru-RU")}getPaymentMethodLabel(e){switch(e){case"cash":return"\u041D\u0430\u043B\u0438\u0447\u043D\u044B\u0435";case"card":return"\u041A\u0430\u0440\u0442\u0430";case"online":return"\u041E\u043D\u043B\u0430\u0439\u043D";default:return e}}toggleMobilePaymentCard(e){this.expandedMobilePaymentCards.has(e)?this.expandedMobilePaymentCards.delete(e):this.expandedMobilePaymentCards.add(e)}isMobilePaymentExpanded(e){return this.expandedMobilePaymentCards.has(e)}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=E({type:r,selectors:[["app-user-profile-page"]],decls:4,vars:3,consts:[[1,"page-wrapper"],["class","loading-container",4,"ngIf"],["title","\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D","description","\u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u0437\u0430\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043B\u0438 \u0431\u044B\u043B \u0443\u0434\u0430\u043B\u0435\u043D.","backLink","/users","backText","\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C",4,"ngIf"],["class","profile-container",4,"ngIf"],[1,"loading-container"],["title","\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D","description","\u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u0437\u0430\u043F\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u043D\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043B\u0438 \u0431\u044B\u043B \u0443\u0434\u0430\u043B\u0435\u043D.","backLink","/users","backText","\u0412\u0435\u0440\u043D\u0443\u0442\u044C\u0441\u044F \u043A \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F\u043C"],[1,"profile-container"],[1,"profile-header-card"],[1,"profile-header-content"],[1,"avatar-wrapper"],[1,"avatar-large"],[1,"status-indicator"],[1,"profile-main-info"],[1,"name-row"],[1,"profile-name"],["size","medium",3,"badgeType"],[1,"profile-email"],["class","profile-phone",4,"ngIf"],[1,"role-badge"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none"],["d","M12 2L2 7l10 5 10-5-10-5z","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2 17l10 5 10-5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2 12l10 5 10-5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"info-card"],[1,"card-header"],[1,"card-header-left"],[1,"card-icon"],["d","M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2","stroke","currentColor","stroke-width","1.5"],["cx","12","cy","7","r","4","stroke","currentColor","stroke-width","1.5"],[1,"card-title"],[1,"info-content"],[1,"info-row"],[1,"info-label"],[1,"info-value"],["class","info-row",4,"ngIf"],[1,"activity-card"],["d","M22 12h-4l-3 9L9 3l-3 9H2","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"payments-table-container","desktop-view"],[1,"payments-table"],[1,"th-id"],[1,"th-client"],[1,"th-amount"],[1,"th-bonuses"],[1,"th-method"],[1,"th-status"],[1,"th-date"],["class","payment-row",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"mobile-payments-cards","mobile-view"],["class","mobile-payment-card",4,"ngFor","ngForOf"],["class","empty-state mobile-view",4,"ngIf"],[1,"profile-phone"],[1,"status-badge"],[1,"status-dot"],[1,"payment-row"],[1,"td-id"],[1,"payment-id"],[1,"td-client"],[1,"client-cell"],[1,"client-avatar"],[1,"client-info"],[1,"client-name-link",3,"routerLink"],[1,"client-name"],[1,"client-phone"],[1,"td-amount"],[1,"amount-value"],[1,"td-bonuses"],[1,"bonus-info"],["badgeType","bonusGranted","size","medium","icon","star","class","bonus-badge",4,"ngIf"],["badgeType","bonusUsed","size","medium","icon","check","class","bonus-badge",4,"ngIf"],["class","bonus-none",4,"ngIf"],[1,"td-method"],[1,"method-badge"],[1,"td-status"],["size","medium",3,"badgeType","icon"],[1,"td-date"],[1,"date-info"],[1,"date-text"],[1,"time-text"],["badgeType","bonusGranted","size","medium","icon","star",1,"bonus-badge"],["badgeType","bonusUsed","size","medium","icon","check",1,"bonus-badge"],[1,"bonus-none"],[1,"empty-state"],["d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2","stroke","currentColor","stroke-width","1.5"],["x","9","y","3","width","6","height","4","rx","1","stroke","currentColor","stroke-width","1.5"],["d","M9 12h6M9 16h6","stroke","currentColor","stroke-width","1.5","stroke-linecap","round"],[1,"mobile-payment-card"],[1,"mobile-payment-card-header",3,"click"],[1,"mobile-payment-card-main"],[1,"mobile-payment-id"],[1,"mobile-payment-amount"],[1,"mobile-payment-expand"],["viewBox","0 0 24 24","fill","none"],["d","M6 9l6 6 6-6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"mobile-payment-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value","link",3,"routerLink"],[1,"detail-value"],[1,"detail-value","bonus-info"],["badgeType","bonusGranted","size","small",4,"ngIf"],["badgeType","bonusUsed","size","small",4,"ngIf"],[4,"ngIf"],[1,"detail-value","method-badge"],["badgeType","bonusGranted","size","small"],["badgeType","bonusUsed","size","small"],[1,"empty-state","mobile-view"]],template:function(i,d){i&1&&(t(0,"div",0),g(1,$,2,0,"div",1)(2,V,1,0,"app-not-found-state",2)(3,oe,97,23,"div",3),n()),i&2&&(a(),u("ngIf",d.isLoading),a(),u("ngIf",!d.isLoading&&d.userNotFound),a(),u("ngIf",!d.isLoading&&d.user&&!d.userNotFound))},dependencies:[D,B,T,z,U,G,j,R],styles:[".page-wrapper[_ngcontent-%COMP%]{min-height:100%;margin:-2rem;padding:2rem;background:linear-gradient(180deg,#f0fdf4,#f8fafc 50% 100%)}.profile-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;display:flex;flex-direction:column;gap:1.5rem}.profile-header-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem;box-shadow:0 1px 3px #0000000d}.profile-header-content[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:flex-start}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.avatar-large[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:20px;background:linear-gradient(135deg,#16a34a,#22c55e);display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:700;color:#fff}.status-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:24px;height:24px;border-radius:50%;background:#94a3b8;border:3px solid white}.status-indicator.online[_ngcontent-%COMP%]{background:#22c55e}.status-indicator.offline[_ngcontent-%COMP%]{background:#94a3b8}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.375rem .75rem;border-radius:8px;font-size:.875rem;font-weight:500}.status-badge.online[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.status-badge.offline[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.status-badge[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;flex-shrink:0}.status-badge.online[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#16a34a;box-shadow:0 0 0 2px #16a34a33}.status-badge.offline[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#94a3b8}.profile-main-info[_ngcontent-%COMP%]{flex:1}.name-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:.75rem}.profile-name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1f2937;margin:0}.profile-email[_ngcontent-%COMP%], .profile-phone[_ngcontent-%COMP%]{font-size:1rem;color:#64748b;margin:.5rem 0}.role-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;background:#f0fdf4;color:#16a34a;padding:.5rem 1rem;border-radius:12px;font-weight:600;font-size:.9375rem;margin-top:.75rem}.role-badge[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:18px;height:18px}.info-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem;box-shadow:0 1px 3px #0000000d}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.card-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.card-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,#f0fdf4,#dcfce7);display:flex;align-items:center;justify-content:center;color:#16a34a}.card-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#1f2937;margin:0}.info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.info-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:.75rem 0;border-bottom:1px solid #f1f5f9}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.info-label[_ngcontent-%COMP%]{font-weight:600;color:#64748b;min-width:150px;font-size:.9375rem}.info-value[_ngcontent-%COMP%]{color:#1f2937;font-size:.9375rem}.activity-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:2rem;box-shadow:0 1px 3px #0000000d}.payments-table-container[_ngcontent-%COMP%]{overflow-x:auto}.payments-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.payments-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#f8fafc}.payments-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:1rem;text-align:left;font-size:.875rem;font-weight:600;color:#64748b;border-bottom:1px solid #e2e8f0}.payments-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f1f5f9}.payments-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8fafc}.payment-id[_ngcontent-%COMP%]{font-family:monospace;font-weight:600;color:#64748b;font-size:.875rem}.client-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.client-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px;background:linear-gradient(135deg,#f0fdf4,#dcfce7);display:flex;align-items:center;justify-content:center;font-weight:600;color:#16a34a;font-size:.875rem;flex-shrink:0}.client-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.client-name-link[_ngcontent-%COMP%]{text-decoration:none;color:#1f2937;font-weight:600;font-size:.9375rem;transition:color .2s;cursor:pointer;display:inline-block}.client-name-link[_ngcontent-%COMP%]:hover{color:#16a34a}.client-name-link[_ngcontent-%COMP%]   .client-name[_ngcontent-%COMP%]{cursor:pointer}.client-phone[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b}.amount-value[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:.9375rem}.bonus-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;flex-wrap:wrap}.bonus-badge[_ngcontent-%COMP%]{display:inline-block}.bonus-none[_ngcontent-%COMP%]{color:#94a3b8;font-size:.875rem}.method-badge[_ngcontent-%COMP%]{display:inline-block;padding:.375rem .75rem;border-radius:8px;font-size:.8125rem;font-weight:500}.method-cash[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.method-card[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.method-online[_ngcontent-%COMP%]{background:#dcfce7;color:#15803d}.date-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.date-text[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:500}.time-text[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;color:#94a3b8;gap:1rem}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:48px;height:48px}.empty-state[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9375rem}.mobile-payments-cards[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:1rem}.mobile-payment-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1rem;box-shadow:0 1px 3px #0000000d;border:1px solid #e5e7eb}.mobile-payment-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;cursor:pointer}.mobile-payment-card-main[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;flex:1}.mobile-payment-id[_ngcontent-%COMP%]{font-family:monospace;font-size:.875rem;font-weight:600;color:#64748b}.mobile-payment-amount[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#16a34a}.mobile-payment-expand[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;align-items:center;justify-content:center;color:#64748b;transition:transform .2s}.mobile-payment-expand.expanded[_ngcontent-%COMP%]{transform:rotate(180deg)}.mobile-payment-details[_ngcontent-%COMP%]{margin-top:.75rem;padding-top:.75rem;border-top:1px solid #e5e7eb;display:none;flex-direction:column;gap:.75rem}.mobile-payment-details.expanded[_ngcontent-%COMP%]{display:flex}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:#64748b;font-weight:500;flex-shrink:0}.detail-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1f2937;font-weight:500;text-align:right;flex:1}.detail-value.link[_ngcontent-%COMP%]{color:#16a34a;text-decoration:none}.detail-value.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.detail-value.bonus-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;justify-content:flex-end;flex-wrap:wrap}.detail-value.method-badge[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .5rem;border-radius:6px;font-size:.75rem;font-weight:500}@media (max-width: 768px){.page-wrapper[_ngcontent-%COMP%]{margin:-1rem;padding:1rem}.profile-header-card[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:1rem}.profile-header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;padding:1.5rem 1rem}.avatar-large[_ngcontent-%COMP%]{width:80px;height:80px;font-size:1.5rem}.profile-main-info[_ngcontent-%COMP%]{width:100%;text-align:center}.name-row[_ngcontent-%COMP%]{justify-content:center;flex-wrap:wrap}.profile-name[_ngcontent-%COMP%]{font-size:1.25rem}.info-card[_ngcontent-%COMP%], .activity-card[_ngcontent-%COMP%]{border-radius:12px;padding:1.25rem 1rem}.card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.125rem}.info-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem;padding:.75rem 0}.info-label[_ngcontent-%COMP%]{min-width:auto;font-size:.875rem}.info-value[_ngcontent-%COMP%]{font-size:.875rem}.desktop-view[_ngcontent-%COMP%]{display:none!important}.mobile-view[_ngcontent-%COMP%]{display:flex!important}.payments-table-container[_ngcontent-%COMP%]{padding:0}}@media (min-width: 769px){.mobile-view[_ngcontent-%COMP%]{display:none!important}.desktop-view[_ngcontent-%COMP%]{display:block!important}}"]})}return r})();export{he as UserProfilePageComponent};
