{
  "version": 3,
  "sources": ["src/app/core/services/profile.service.ts", "src/app/features/users/pages/account-page/account-page.component.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../environments/environment';\nimport {\n  UserProfile,\n  UpdateProfileRequest,\n  ChangePasswordRequest\n} from '../models/user.model';\n\n/**\n * Profile Service - User Profile Management\n * \n * Endpoints:\n * - GET /user/profile - Get current user's profile\n * - PUT /user/profile - Update profile (email, firstName, lastName, phone)\n * - PUT /user/profile/password - Change password\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProfileService {\n  private readonly apiUrl = `${environment.apiUrl}/user/profile`;\n\n  constructor(private http: HttpClient) {\n    console.log('[ProfileService] Initialized with API URL:', this.apiUrl);\n  }\n\n  /**\n   * Get current authenticated user's profile\n   * @returns UserProfile with full user information\n   */\n  getProfile(): Observable<UserProfile> {\n    console.log('[ProfileService] GET', this.apiUrl);\n    return this.http.get<UserProfile>(this.apiUrl);\n  }\n\n  /**\n   * Update current user's profile\n   * @param data - email, firstName, lastName, phone\n   * @returns Updated UserProfile\n   */\n  updateProfile(data: UpdateProfileRequest): Observable<UserProfile> {\n    return this.http.put<UserProfile>(this.apiUrl, data);\n  }\n\n  /**\n   * Change current user's password\n   * @param data - currentPassword, newPassword, confirmPassword\n   * @returns void (204 No Content on success)\n   */\n  changePassword(data: ChangePasswordRequest): Observable<void> {\n    return this.http.put<void>(`${this.apiUrl}/password`, data);\n  }\n\n  /**\n   * Get current user's payment transactions (operations history)\n   * @returns Array of user's payment transactions\n   */\n  getUserTransactions(): Observable<UserTransaction[]> {\n    return this.http.get<UserTransaction[]>(`${this.apiUrl}/transactions`);\n  }\n}\n\nexport interface UserTransaction {\n  txId: string;\n  clientId: string;\n  clientName: string;\n  clientPhone: string;\n  clientEmail: string | null;\n  amount: number;\n  status: string;\n  paymentMethod: string | null;\n  initiatedBy: string | null;\n  createdAt: string;\n  refundedPaymentTxId: string | null;\n  bonusGranted: number;\n  bonusUsed: number;\n  bonusRevoked: number;\n  refundReason: string | null;\n}\n", "import { Component, OnInit, inject, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Router } from '@angular/router';\nimport { PageHeaderService } from '../../../../core/services/page-header.service';\nimport { ProfileService, UserTransaction } from '../../../../core/services/profile.service';\nimport { PaymentSearchResult } from '../../../../core/services/payments.service';\nimport { UserProfile, UpdateProfileRequest, ChangePasswordRequest } from '../../../../core/models/user.model';\nimport { BadgeComponent } from '../../../../shared/components/badge/badge.component';\nimport { ButtonComponent } from '../../../../shared/components/button/button.component';\nimport { IconButtonComponent } from '../../../../shared/components/icon-button/icon-button.component';\nimport { LoaderComponent } from '../../../../shared/components/loader/loader.component';\nimport { ToastService } from '../../../../core/services/toast.service';\nimport { PaymentViewModalComponent } from '../../../../shared/components/payment-view-modal/payment-view-modal.component';\nimport { TransactionModalService } from '../../../../core/services/transaction-modal.service';\nimport { Subject, takeUntil } from 'rxjs';\n\ninterface UserPayment {\n  id: string;\n  txId: string; // Full transaction ID for API calls\n  clientId: string;\n  clientName: string;\n  clientPhone: string;\n  amount: number;\n  bonusEarned: number;\n  bonusUsed: number;\n  bonusRevoked: number;\n  paymentMethod: 'cash' | 'card' | 'transfer';\n  isRefund: boolean;\n  date: string;\n  time: string;\n}\n\n@Component({\n  selector: 'app-account-page',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule, BadgeComponent, ButtonComponent, IconButtonComponent, LoaderComponent, PaymentViewModalComponent],\n  template: `\n    <div class=\"page-wrapper\">\n      <div class=\"profile-container-wrapper\">\n        <!-- Loading State -->\n        <div class=\"page-loading-container\" *ngIf=\"isLoading\">\n          <app-loader [visible]=\"true\" [overlay]=\"false\" type=\"logo\" size=\"large\"></app-loader>\n        </div>\n        \n        <div class=\"profile-container\" *ngIf=\"profile && !isLoading\">\n        \n        <!-- Profile Header Card -->\n        <div class=\"profile-header-card\">\n          <div class=\"profile-header-content\">\n            <div class=\"avatar-wrapper\">\n              <div class=\"avatar-large\">\n                {{ getInitials() }}\n              </div>\n              <div class=\"status-indicator\" [class.active]=\"profile.active\"></div>\n            </div>\n            <div class=\"profile-main-info\">\n              <div class=\"name-row\">\n                <h1 class=\"profile-name\">{{ getFullName() }}</h1>\n                <app-badge \n                  [badgeType]=\"getStatusBadgeType(profile.active)\" \n                  size=\"medium\">\n                  {{ getStatusLabel(profile.active) }}\n                </app-badge>\n              </div>\n              <p class=\"profile-email\">{{ profile.email }}</p>\n              <p class=\"profile-phone\" *ngIf=\"profile.phone\">{{ profile.phone }}</p>\n              <div class=\"role-badge\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M12 2L2 7l10 5 10-5-10-5z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                  <path d=\"M2 17l10 5 10-5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                  <path d=\"M2 12l10 5 10-5\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n                <span>{{ getRoleLabel(profile.roles) }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Personal Data Card -->\n        <div class=\"info-card\">\n          <div class=\"card-header\">\n            <div class=\"card-header-left\">\n              <div class=\"card-icon\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                  <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                </svg>\n              </div>\n              <h3 class=\"card-title\">Личные данные</h3>\n            </div>\n            <app-icon-button\n              *ngIf=\"!isEditingPersonal\"\n              iconButtonType=\"edit\"\n              size=\"large\"\n              tooltip=\"Редактировать\"\n              (onClick)=\"startEditPersonal()\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                <path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            </app-icon-button>\n            <div class=\"card-actions\" *ngIf=\"isEditingPersonal\">\n              <app-button buttonType=\"ghost\" size=\"medium\" (onClick)=\"cancelEditPersonal()\" [disabled]=\"isSavingPersonal\">\n                Отмена\n              </app-button>\n              <app-button buttonType=\"primary\" size=\"medium\" (onClick)=\"savePersonal()\" [loading]=\"isSavingPersonal\">\n                Сохранить\n              </app-button>\n            </div>\n          </div>\n          <div class=\"info-content\">\n            <div class=\"info-row\">\n              <span class=\"info-label\">Имя:</span>\n              <span class=\"info-value\" *ngIf=\"!isEditingPersonal\">{{ profile.firstName }}</span>\n              <input class=\"info-input\" *ngIf=\"isEditingPersonal\" [(ngModel)]=\"editedPersonal.firstName\" placeholder=\"Введите имя\">\n            </div>\n            <div class=\"info-row\">\n              <span class=\"info-label\">Фамилия:</span>\n              <span class=\"info-value\" *ngIf=\"!isEditingPersonal\">{{ profile.lastName }}</span>\n              <input class=\"info-input\" *ngIf=\"isEditingPersonal\" [(ngModel)]=\"editedPersonal.lastName\" placeholder=\"Введите фамилию\">\n            </div>\n            <div class=\"info-row\">\n              <span class=\"info-label\">Email:</span>\n              <span class=\"info-value\" *ngIf=\"!isEditingPersonal\">{{ profile.email }}</span>\n              <input class=\"info-input\" *ngIf=\"isEditingPersonal\" [(ngModel)]=\"editedPersonal.email\" type=\"email\" placeholder=\"Введите email\">\n            </div>\n            <div class=\"info-row\">\n              <span class=\"info-label\">Телефон:</span>\n              <span class=\"info-value\" *ngIf=\"!isEditingPersonal\">{{ profile.phone || '—' }}</span>\n              <input class=\"info-input\" *ngIf=\"isEditingPersonal\" [(ngModel)]=\"editedPersonal.phone\" type=\"tel\" placeholder=\"Введите телефон\">\n            </div>\n            <div class=\"info-row\">\n              <span class=\"info-label\">Роль:</span>\n              <span class=\"info-value\">{{ getRoleLabel(profile.roles) }}</span>\n            </div>\n            <div class=\"info-row readonly\">\n              <span class=\"info-label\">Дата регистрации:</span>\n              <span class=\"info-value\">{{ formatDate(profile.createdAt) }}</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Password Change Card -->\n        <div class=\"info-card\">\n          <div class=\"card-header\">\n            <div class=\"card-header-left\">\n              <div class=\"card-icon\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                  <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                  <path d=\"M7 11V7a5 5 0 0110 0v4\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                </svg>\n              </div>\n              <h3 class=\"card-title\">Безопасность</h3>\n            </div>\n            <app-icon-button\n              *ngIf=\"!isEditingPassword\"\n              iconButtonType=\"edit\"\n              size=\"large\"\n              tooltip=\"Изменить пароль\"\n              (onClick)=\"startEditPassword()\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                <path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            </app-icon-button>\n            <div class=\"card-actions\" *ngIf=\"isEditingPassword\">\n              <app-button buttonType=\"ghost\" size=\"medium\" (onClick)=\"cancelEditPassword()\" [disabled]=\"isSavingPassword\">\n                Отмена\n              </app-button>\n              <app-button buttonType=\"primary\" size=\"medium\" (onClick)=\"savePassword()\" [disabled]=\"!isPasswordFormValid()\" [loading]=\"isSavingPassword\">\n                Сохранить\n              </app-button>\n            </div>\n          </div>\n          <div class=\"info-content\" *ngIf=\"!isEditingPassword\">\n            <div class=\"info-row\">\n              <span class=\"info-label\">Пароль:</span>\n              <span class=\"info-value\">••••••••</span>\n            </div>\n          </div>\n          <div class=\"password-form\" *ngIf=\"isEditingPassword\">\n            <div class=\"error-message server-error\" *ngIf=\"passwordError\">\n              {{ passwordError }}\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-label\">Текущий пароль</label>\n              <input \n                type=\"password\" \n                class=\"form-input\" \n                [(ngModel)]=\"passwordData.currentPassword\"\n                placeholder=\"Введите текущий пароль\">\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-label\">Новый пароль</label>\n              <input \n                type=\"password\" \n                class=\"form-input\" \n                [(ngModel)]=\"passwordData.newPassword\"\n                placeholder=\"Введите новый пароль (минимум 6 символов)\">\n            </div>\n            <div class=\"form-group\">\n              <label class=\"form-label\">Подтвердите новый пароль</label>\n              <input \n                type=\"password\" \n                class=\"form-input\" \n                [(ngModel)]=\"passwordData.confirmPassword\"\n                placeholder=\"Повторите новый пароль\">\n              <div class=\"error-message\" *ngIf=\"passwordData.newPassword && passwordData.confirmPassword && passwordData.newPassword !== passwordData.confirmPassword\">\n                Пароли не совпадают\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Payments History Card -->\n        <div class=\"activity-card\">\n          <div class=\"card-header\">\n            <div class=\"card-header-left\">\n              <div class=\"card-icon\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M22 12h-4l-3 9L9 3l-3 9H2\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n              </div>\n              <h3 class=\"card-title\">История операций</h3>\n            </div>\n          </div>\n          <!-- Desktop Table View -->\n          <div class=\"payments-table-container desktop-view\">\n            <table class=\"payments-table\">\n              <thead>\n                <tr>\n                  <th class=\"th-id\">ID платежа</th>\n                  <th class=\"th-client\">Клиент</th>\n                  <th class=\"th-amount\">Сумма</th>\n                  <th class=\"th-bonuses\">Бонусы</th>\n                  <th class=\"th-method\">Способ оплаты</th>\n                  <th class=\"th-status\">Статус</th>\n                  <th class=\"th-date\">Дата и время</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr *ngFor=\"let payment of userPayments\" class=\"payment-row\">\n                  <td class=\"td-id\">\n                    <span class=\"payment-id clickable\" (click)=\"openPaymentView(payment.txId)\">#{{ payment.txId }}</span>\n                  </td>\n                  <td class=\"td-client\">\n                    <div class=\"client-cell\">\n                      <div class=\"client-avatar\">\n                        {{ getInitials(payment.clientName) }}\n                      </div>\n                      <div class=\"client-info\">\n                        <a [routerLink]=\"['/clients', payment.clientId]\" class=\"client-name-link\">\n                          <span class=\"client-name\">{{ payment.clientName }}</span>\n                        </a>\n                        <span class=\"client-phone\">{{ payment.clientPhone }}</span>\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"td-amount\">\n                    <span class=\"amount-value\">{{ formatAmount(payment.amount) }} ₸</span>\n                  </td>\n                  <td class=\"td-bonuses\">\n                    <div class=\"bonus-info\">\n                      <app-badge \n                        *ngIf=\"payment.bonusEarned > 0\"\n                        badgeType=\"bonusGranted\" \n                        size=\"medium\"\n                        icon=\"star\"\n                        class=\"bonus-badge\">\n                        +{{ formatAmount(payment.bonusEarned) }}\n                      </app-badge>\n                      <app-badge \n                        *ngIf=\"payment.bonusUsed > 0\"\n                        badgeType=\"bonusUsed\" \n                        size=\"medium\"\n                        icon=\"check\"\n                        class=\"bonus-badge\">\n                        -{{ formatAmount(payment.bonusUsed) }}\n                      </app-badge>\n                      <app-badge \n                        *ngIf=\"payment.bonusRevoked > 0\"\n                        badgeType=\"refund\" \n                        size=\"medium\"\n                        icon=\"refund\"\n                        class=\"bonus-badge\">\n                        -{{ formatAmount(payment.bonusRevoked) }}\n                      </app-badge>\n                      <span class=\"bonus-none\" *ngIf=\"payment.bonusEarned === 0 && payment.bonusUsed === 0 && payment.bonusRevoked === 0\">—</span>\n                    </div>\n                  </td>\n                  <td class=\"td-method\">\n                    <app-badge \n                      badgeType=\"paymentMethod\" \n                      size=\"medium\"\n                      [paymentMethod]=\"getPaymentMethodForBadge(payment.paymentMethod)\">\n                    </app-badge>\n                  </td>\n                  <td class=\"td-status\">\n                    <app-badge \n                      [badgeType]=\"payment.isRefund ? 'refund' : 'payment'\" \n                      size=\"medium\"\n                      [icon]=\"payment.isRefund ? 'refund' : 'payment'\">\n                      {{ payment.isRefund ? 'Возврат' : 'Оплачено' }}\n                    </app-badge>\n                  </td>\n                  <td class=\"td-date\">\n                    <div class=\"date-info\">\n                      <span class=\"date-text\">{{ payment.date }}</span>\n                      <span class=\"time-text\">{{ payment.time }}</span>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div class=\"empty-state\" *ngIf=\"userPayments.length === 0\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <rect x=\"9\" y=\"3\" width=\"6\" height=\"4\" rx=\"1\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <path d=\"M9 12h6M9 16h6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n              </svg>\n              <span>Нет операций</span>\n            </div>\n          </div>\n\n          <!-- Mobile Card View -->\n          <div class=\"mobile-payments-cards mobile-view\">\n            <div class=\"mobile-payment-card\" *ngFor=\"let payment of userPayments\">\n              <div class=\"mobile-payment-card-header\" (click)=\"toggleMobilePaymentCard(payment.id)\">\n                <div class=\"mobile-payment-card-main\">\n                  <div>\n                    <div class=\"mobile-payment-id clickable\" (click)=\"openPaymentView(payment.txId); $event.stopPropagation()\">#{{ payment.txId }}</div>\n                    <div class=\"mobile-payment-amount\">{{ formatAmount(payment.amount) }} ₸</div>\n                  </div>\n                </div>\n                <div class=\"mobile-payment-expand\" [class.expanded]=\"isMobilePaymentExpanded(payment.id)\">\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                    <path d=\"M6 9l6 6 6-6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                  </svg>\n                </div>\n              </div>\n              <div class=\"mobile-payment-details\" [class.expanded]=\"isMobilePaymentExpanded(payment.id)\">\n                <div class=\"detail-row\">\n                  <span class=\"detail-label\">Клиент:</span>\n                  <a [routerLink]=\"['/clients', payment.clientId]\" class=\"detail-value link\">\n                    {{ payment.clientName }}\n                  </a>\n                </div>\n                <div class=\"detail-row\">\n                  <span class=\"detail-label\">Телефон:</span>\n                  <span class=\"detail-value\">{{ payment.clientPhone }}</span>\n                </div>\n                <div class=\"detail-row\">\n                  <span class=\"detail-label\">Бонусы:</span>\n                  <div class=\"detail-value bonus-info\">\n                    <app-badge *ngIf=\"payment.bonusEarned > 0\" badgeType=\"bonusGranted\" size=\"small\">+{{ formatAmount(payment.bonusEarned) }}</app-badge>\n                    <app-badge *ngIf=\"payment.bonusUsed > 0\" badgeType=\"bonusUsed\" size=\"small\">-{{ formatAmount(payment.bonusUsed) }}</app-badge>\n                    <app-badge *ngIf=\"payment.bonusRevoked > 0\" badgeType=\"refund\" size=\"small\">-{{ formatAmount(payment.bonusRevoked) }}</app-badge>\n                    <span *ngIf=\"payment.bonusEarned === 0 && payment.bonusUsed === 0 && payment.bonusRevoked === 0\">—</span>\n                  </div>\n                </div>\n                <div class=\"detail-row\">\n                  <span class=\"detail-label\">Способ оплаты:</span>\n                  <span class=\"detail-value\">\n                    <app-badge \n                      badgeType=\"paymentMethod\" \n                      size=\"small\"\n                      [paymentMethod]=\"getPaymentMethodForBadge(payment.paymentMethod)\">\n                    </app-badge>\n                  </span>\n                </div>\n                <div class=\"detail-row\">\n                  <span class=\"detail-label\">Дата:</span>\n                  <span class=\"detail-value\">{{ payment.date }} {{ payment.time }}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"empty-state mobile-view\" *ngIf=\"userPayments.length === 0\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <rect x=\"9\" y=\"3\" width=\"6\" height=\"4\" rx=\"1\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <path d=\"M9 12h6M9 16h6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n              </svg>\n              <span>Нет операций</span>\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n    </div>\n\n    <!-- Payment View Modal -->\n    <app-payment-view-modal\n      [visible]=\"showPaymentViewModal\"\n      [paymentTxId]=\"selectedPaymentTxId\"\n      [paymentSearchResult]=\"selectedPaymentSearchResult\"\n      (visibleChange)=\"closePaymentView()\"\n      (paymentUpdated)=\"onPaymentUpdated()\"\n      (refundedPaymentClick)=\"openPaymentView($event)\">\n    </app-payment-view-modal>\n  `,\n  styles: [`\n    .page-wrapper {\n      min-height: 100%;\n      margin: -2rem;\n      padding: 2rem;\n      background: linear-gradient(180deg, #f0fdf4 0%, #f8fafc 50%, #f8fafc 100%);\n    }\n\n    .profile-container-wrapper {\n      position: relative;\n      min-height: 400px;\n    }\n\n    .page-loading-container {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      min-height: 60vh;\n      width: 100%;\n    }\n\n    .profile-container {\n      max-width: 1200px;\n      margin: 0 auto;\n      display: flex;\n      flex-direction: column;\n      gap: 1.5rem;\n    }\n\n    /* Profile Header Card */\n    .profile-header-card {\n      background: white;\n      border-radius: 20px;\n      padding: 2rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n    }\n\n    .profile-header-content {\n      display: flex;\n      gap: 2rem;\n      align-items: flex-start;\n    }\n\n    .avatar-wrapper {\n      position: relative;\n      flex-shrink: 0;\n    }\n\n    .avatar-large {\n      width: 100px;\n      height: 100px;\n      border-radius: 20px;\n      background: linear-gradient(135deg, #16A34A 0%, #22c55e 100%);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 2rem;\n      font-weight: 700;\n      color: white;\n    }\n\n    .status-indicator {\n      position: absolute;\n      bottom: 0;\n      right: 0;\n      width: 24px;\n      height: 24px;\n      border-radius: 50%;\n      background: #94a3b8;\n      border: 3px solid white;\n    }\n\n    .status-indicator.active {\n      background: #22c55e;\n    }\n\n    .profile-main-info {\n      flex: 1;\n    }\n\n    .name-row {\n      display: flex;\n      align-items: center;\n      gap: 1rem;\n      margin-bottom: 0.75rem;\n    }\n\n    .profile-name {\n      font-size: 2rem;\n      font-weight: 700;\n      color: #1f2937;\n      margin: 0;\n    }\n\n    .profile-email {\n      font-size: 1rem;\n      color: #64748b;\n      margin: 0.5rem 0;\n    }\n\n    .profile-phone {\n      font-size: 1rem;\n      color: #64748b;\n      margin: 0.5rem 0;\n    }\n\n    .role-badge {\n      display: inline-flex;\n      align-items: center;\n      gap: 0.5rem;\n      background: #f0fdf4;\n      color: #16A34A;\n      padding: 0.5rem 1rem;\n      border-radius: 12px;\n      font-weight: 600;\n      font-size: 0.9375rem;\n      margin-top: 0.75rem;\n    }\n\n    .role-badge svg {\n      width: 18px;\n      height: 18px;\n    }\n\n    /* Info Card */\n    .info-card {\n      background: white;\n      border-radius: 20px;\n      padding: 2rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n    }\n\n    .card-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 1.5rem;\n    }\n\n    .card-header-left {\n      display: flex;\n      align-items: center;\n      gap: 1rem;\n    }\n\n    .card-icon {\n      width: 40px;\n      height: 40px;\n      border-radius: 12px;\n      background: linear-gradient(135deg, #f0fdf4, #dcfce7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #16A34A;\n    }\n\n    .card-icon svg {\n      width: 20px;\n      height: 20px;\n    }\n\n    .card-title {\n      font-size: 1.25rem;\n      font-weight: 600;\n      color: #1f2937;\n      margin: 0;\n    }\n\n\n    .card-actions {\n      display: flex;\n      gap: 0.5rem;\n    }\n\n    .info-content {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n    }\n\n    .info-row {\n      display: flex;\n      align-items: center;\n      gap: 1rem;\n      padding: 0.75rem 0;\n      border-bottom: 1px solid #f1f5f9;\n    }\n\n    .info-row.readonly {\n      opacity: 0.7;\n    }\n\n    .info-row:last-child {\n      border-bottom: none;\n    }\n\n    .info-label {\n      font-weight: 600;\n      color: #64748b;\n      min-width: 150px;\n      font-size: 0.9375rem;\n    }\n\n    .info-value {\n      color: #1f2937;\n      font-size: 0.9375rem;\n    }\n\n    .info-input {\n      flex: 1;\n      max-width: 300px;\n      padding: 0.625rem 1rem;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 10px;\n      font-size: 0.9375rem;\n      font-family: inherit;\n      background: linear-gradient(to bottom, #ffffff, #f8fafc);\n      color: #1f2937;\n      font-weight: 500;\n      transition: all 0.2s ease;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n    }\n\n    .info-input:hover {\n      border-color: #cbd5e1;\n      background: linear-gradient(to bottom, #ffffff, #f1f5f9);\n    }\n\n    .info-input:focus {\n      outline: none;\n      border-color: #22c55e;\n      background: white;\n      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.12), 0 2px 4px rgba(0, 0, 0, 0.05);\n    }\n\n    .info-input::placeholder {\n      color: #94a3b8;\n      font-weight: 400;\n    }\n\n    /* Password Form */\n    .password-form {\n      display: flex;\n      flex-direction: column;\n      gap: 1.25rem;\n    }\n\n    .form-group {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n    }\n\n    .form-label {\n      font-size: 0.9rem;\n      font-weight: 600;\n      color: #475569;\n    }\n\n    .form-input {\n      width: 100%;\n      max-width: 400px;\n      padding: 0.75rem 1rem;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 10px;\n      font-size: 0.9375rem;\n      font-family: inherit;\n      background: linear-gradient(to bottom, #ffffff, #f8fafc);\n      color: #1f2937;\n      font-weight: 500;\n      transition: all 0.2s ease;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n    }\n\n    .form-input:hover {\n      border-color: #cbd5e1;\n      background: linear-gradient(to bottom, #ffffff, #f1f5f9);\n    }\n\n    .form-input:focus {\n      outline: none;\n      border-color: #22c55e;\n      background: white;\n      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.12), 0 2px 4px rgba(0, 0, 0, 0.05);\n    }\n\n    .form-input::placeholder {\n      color: #94a3b8;\n      font-weight: 400;\n    }\n\n    .error-message {\n      font-size: 0.8rem;\n      color: #dc2626;\n      margin-top: 0.25rem;\n    }\n\n    .error-message.server-error {\n      padding: 0.75rem 1rem;\n      background: #fef2f2;\n      border: 1px solid #fecaca;\n      border-radius: 8px;\n      margin-bottom: 1rem;\n    }\n\n    /* Activity Card */\n    .activity-card {\n      background: white;\n      border-radius: 20px;\n      padding: 2rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n    }\n\n    .payments-table-container {\n      overflow-x: auto;\n    }\n\n    .payments-table {\n      width: 100%;\n      border-collapse: collapse;\n    }\n\n    .payments-table thead {\n      background: #f8fafc;\n    }\n\n    .payments-table th {\n      padding: 1rem;\n      text-align: left;\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #64748b;\n      border-bottom: 1px solid #e2e8f0;\n    }\n\n    .payments-table td {\n      padding: 1rem;\n      border-bottom: 1px solid #f1f5f9;\n    }\n\n    .payments-table tbody tr:hover {\n      background: #f8fafc;\n    }\n\n    .payment-id {\n      font-family: monospace;\n      font-weight: 600;\n      color: #64748b;\n      font-size: 0.875rem;\n    }\n\n    .payment-id.clickable {\n      color: #64748b;\n      cursor: pointer;\n      text-decoration: underline;\n      transition: color 0.2s;\n    }\n\n    .payment-id.clickable:hover {\n      color: #475569;\n    }\n\n    .mobile-payment-id.clickable {\n      color: #64748b;\n      cursor: pointer;\n      text-decoration: underline;\n    }\n\n    .client-cell {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n    }\n\n    .client-avatar {\n      width: 40px;\n      height: 40px;\n      border-radius: 10px;\n      background: linear-gradient(135deg, #f0fdf4, #dcfce7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-weight: 600;\n      color: #16A34A;\n      font-size: 0.875rem;\n      flex-shrink: 0;\n    }\n\n    .client-info {\n      display: flex;\n      flex-direction: column;\n      gap: 0.25rem;\n    }\n\n    .client-name-link {\n      text-decoration: none;\n      color: #1f2937;\n      font-weight: 600;\n      font-size: 0.9375rem;\n      transition: color 0.2s;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .client-name-link:hover {\n      color: #16A34A;\n    }\n\n    .client-name-link .client-name {\n      cursor: pointer;\n    }\n\n    .client-phone {\n      font-size: 0.8125rem;\n      color: #64748b;\n    }\n\n    .amount-value {\n      font-size: 0.95rem;\n      font-weight: 600;\n      color: #16A34A;\n    }\n\n    .bonus-info {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      flex-wrap: wrap;\n    }\n\n    .bonus-badge {\n      display: inline-block;\n    }\n\n    .bonus-none {\n      color: #94a3b8;\n      font-size: 0.875rem;\n    }\n\n\n    .date-info {\n      display: flex;\n      flex-direction: column;\n      gap: 0.25rem;\n    }\n\n    .date-text {\n      font-size: 0.875rem;\n      color: #1f2937;\n      font-weight: 500;\n    }\n\n    .time-text {\n      font-size: 0.8125rem;\n      color: #64748b;\n    }\n\n    .empty-state {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      padding: 3rem 1rem;\n      color: #94a3b8;\n      gap: 1rem;\n    }\n\n    .empty-state svg {\n      width: 48px;\n      height: 48px;\n    }\n\n    .empty-state span {\n      font-size: 0.9375rem;\n    }\n\n    /* Mobile Card View for Payments */\n    .mobile-payments-cards {\n      display: none;\n      flex-direction: column;\n      gap: 1rem;\n    }\n\n    .mobile-payment-card {\n      background: white;\n      border-radius: 12px;\n      padding: 1rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n      border: 1px solid #e5e7eb;\n    }\n\n    .mobile-payment-card-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      cursor: pointer;\n    }\n\n    .mobile-payment-card-main {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      flex: 1;\n    }\n\n    .mobile-payment-id {\n      font-family: monospace;\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #64748b;\n    }\n\n    .mobile-payment-amount {\n      font-size: 1rem;\n      font-weight: 700;\n      color: #16A34A;\n    }\n\n    .mobile-payment-expand {\n      width: 24px;\n      height: 24px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #64748b;\n      transition: transform 0.2s;\n    }\n\n    .mobile-payment-expand.expanded {\n      transform: rotate(180deg);\n    }\n\n    .mobile-payment-details {\n      margin-top: 0.75rem;\n      padding-top: 0.75rem;\n      border-top: 1px solid #e5e7eb;\n      display: none;\n      flex-direction: column;\n      gap: 0.75rem;\n    }\n\n    .mobile-payment-details.expanded {\n      display: flex;\n    }\n\n    .detail-row {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n      gap: 1rem;\n    }\n\n    .detail-label {\n      font-size: 0.875rem;\n      color: #64748b;\n      font-weight: 500;\n      flex-shrink: 0;\n    }\n\n    .detail-value {\n      font-size: 0.875rem;\n      color: #1f2937;\n      font-weight: 500;\n      text-align: right;\n      flex: 1;\n    }\n\n    .detail-value.link {\n      color: #16A34A;\n      text-decoration: none;\n    }\n\n    .detail-value.link:hover {\n      text-decoration: underline;\n    }\n\n    .detail-value.bonus-info {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      justify-content: flex-end;\n      flex-wrap: wrap;\n    }\n\n\n    /* Responsive */\n    @media (max-width: 768px) {\n      .page-wrapper {\n        margin: -1rem;\n        padding: 1rem;\n      }\n\n      .profile-header-card {\n        border-radius: 12px;\n        margin-bottom: 1rem;\n      }\n\n      .profile-header-content {\n        flex-direction: column;\n        align-items: center;\n        text-align: center;\n        padding: 1.5rem 1rem;\n      }\n\n      .avatar-large {\n        width: 80px;\n        height: 80px;\n        font-size: 1.5rem;\n      }\n\n      .profile-main-info {\n        width: 100%;\n        text-align: center;\n      }\n\n      .name-row {\n        justify-content: center;\n        flex-wrap: wrap;\n      }\n\n      .profile-name {\n        font-size: 1.25rem;\n      }\n\n      .info-card,\n      .activity-card {\n        border-radius: 12px;\n        padding: 1.25rem 1rem;\n      }\n\n      .card-header {\n        margin-bottom: 1rem;\n      }\n\n      .card-title {\n        font-size: 1.125rem;\n      }\n\n      .info-row {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 0.5rem;\n        padding: 0.75rem 0;\n      }\n\n      .info-label {\n        min-width: auto;\n        font-size: 0.875rem;\n      }\n\n      .info-value {\n        font-size: 0.875rem;\n      }\n\n      .info-input {\n        max-width: 100%;\n      }\n\n      .form-input {\n        max-width: 100%;\n      }\n\n      /* Hide desktop table on mobile */\n      .desktop-view {\n        display: none !important;\n      }\n\n      /* Show mobile cards */\n      .mobile-view {\n        display: flex !important;\n      }\n\n      .payments-table-container {\n        padding: 0;\n      }\n    }\n\n    /* Hide mobile view on desktop */\n    @media (min-width: 769px) {\n      .mobile-view {\n        display: none !important;\n      }\n\n      .desktop-view {\n        display: block !important;\n      }\n    }\n  `]\n})\nexport class AccountPageComponent implements OnInit, OnDestroy {\n  private pageHeaderService = inject(PageHeaderService);\n  private profileService = inject(ProfileService);\n  private toastService = inject(ToastService);\n  private transactionModalService = inject(TransactionModalService);\n  private router = inject(Router);\n  private destroy$ = new Subject<void>();\n\n  // Profile data\n  profile: UserProfile | null = null;\n  isLoading = true;\n\n  // User payments (mock data for now)\n  userPayments: UserPayment[] = [];\n  expandedMobilePaymentCards = new Set<string>();\n\n  // Edit states\n  isEditingPersonal = false;\n  isSavingPersonal = false;\n  editedPersonal = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: ''\n  };\n\n  isEditingPassword = false;\n  isSavingPassword = false;\n  passwordData = {\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  };\n  passwordError: string | null = null;\n\n  ngOnInit(): void {\n    this.pageHeaderService.setPageHeader('Личный кабинет', [\n      { label: 'Главная', route: '/home' },\n      { label: 'Профиль' }\n    ]);\n    this.loadProfile();\n\n    // Subscribe to transaction completion events\n    this.transactionModalService.transactionComplete$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        // Reload profile and transactions when on /profile route\n        const currentUrl = this.router.url;\n        if (currentUrl === '/profile' || currentUrl.startsWith('/profile')) {\n          this.loadProfile();\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  loadProfile(): void {\n    this.isLoading = true;\n    \n    this.profileService.getProfile().subscribe({\n      next: (profile) => {\n        console.log('[AccountPage] Profile loaded:', profile);\n        console.log('[AccountPage] Profile firstName:', profile.firstName);\n        console.log('[AccountPage] Profile lastName:', profile.lastName);\n        console.log('[AccountPage] Profile email:', profile.email);\n        this.profile = profile;\n        this.isLoading = false;\n        // Load user transactions after profile is loaded\n        this.loadUserTransactions();\n      },\n      error: (err) => {\n        console.error('[AccountPage] Error loading profile:', err);\n        const errorMessage = err.error?.message || 'Ошибка загрузки профиля';\n        this.toastService.error(errorMessage);\n        this.isLoading = false;\n      }\n    });\n  }\n\n  getFullName(): string {\n    if (!this.profile) return '';\n    return `${this.profile.firstName} ${this.profile.lastName}`;\n  }\n\n  getInitials(name?: string): string {\n    if (name) {\n      const parts = name.split(' ');\n      return parts.map(p => p.charAt(0)).join('').toUpperCase().slice(0, 2);\n    }\n    if (!this.profile) return '';\n    return `${this.profile.firstName.charAt(0)}${this.profile.lastName.charAt(0)}`.toUpperCase();\n  }\n\n  getStatusBadgeType(active: boolean): 'primary' | 'secondary' | 'success' | 'warning' | 'danger' {\n    return active ? 'success' : 'danger';\n  }\n\n  getStatusLabel(active: boolean): string {\n    return active ? 'Активный' : 'Неактивный';\n  }\n\n  getRoleLabel(roles: string[]): string {\n    if (roles.includes('ADMIN')) return 'Администратор';\n    if (roles.includes('MANAGER')) return 'Менеджер';\n    return 'Пользователь';\n  }\n\n  formatDate(date: string): string {\n    const d = new Date(date);\n    return d.toLocaleDateString('ru-RU', { day: '2-digit', month: '2-digit', year: 'numeric' });\n  }\n\n  formatAmount(amount: number): string {\n    return amount.toLocaleString('ru-RU');\n  }\n\n  getPaymentMethodForBadge(method: string | undefined): 'CASH' | 'CARD' | 'TRANSFER' | null {\n    if (!method) return null;\n    const upperMethod = method.toUpperCase();\n    if (upperMethod === 'CASH' || upperMethod === 'CARD' || upperMethod === 'TRANSFER') {\n      return upperMethod as 'CASH' | 'CARD' | 'TRANSFER';\n    }\n    return null;\n  }\n\n  getPaymentMethodLabel(method: string): string {\n    switch (method) {\n      case 'cash':\n        return 'Наличные';\n      case 'card':\n        return 'Карта';\n      case 'transfer':\n        return 'Перевод';\n      default:\n        return method;\n    }\n  }\n\n  // Personal Data Editing\n  startEditPersonal(): void {\n    if (!this.profile) return;\n    this.editedPersonal = {\n      firstName: this.profile.firstName,\n      lastName: this.profile.lastName,\n      email: this.profile.email,\n      phone: this.profile.phone || ''\n    };\n    this.isEditingPersonal = true;\n  }\n\n  savePersonal(): void {\n    if (!this.profile) return;\n    \n    this.isSavingPersonal = true;\n    \n    const updateData: UpdateProfileRequest = {\n      email: this.editedPersonal.email,\n      firstName: this.editedPersonal.firstName,\n      lastName: this.editedPersonal.lastName,\n      phone: this.editedPersonal.phone || undefined\n    };\n\n    this.profileService.updateProfile(updateData).subscribe({\n      next: (updatedProfile) => {\n        this.profile = updatedProfile;\n        this.isEditingPersonal = false;\n        this.isSavingPersonal = false;\n        this.toastService.success('Профиль успешно обновлен');\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка сохранения профиля';\n        this.toastService.error(errorMessage);\n        this.isSavingPersonal = false;\n      }\n    });\n  }\n\n  cancelEditPersonal(): void {\n    this.isEditingPersonal = false;\n    this.editedPersonal = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: ''\n    };\n  }\n\n  // Password Editing\n  startEditPassword(): void {\n    this.passwordData = {\n      currentPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    };\n    this.isEditingPassword = true;\n    this.passwordError = null;\n  }\n\n  savePassword(): void {\n    if (!this.isPasswordFormValid()) return;\n    \n    this.isSavingPassword = true;\n    this.passwordError = null;\n    \n    const passwordRequest: ChangePasswordRequest = {\n      currentPassword: this.passwordData.currentPassword,\n      newPassword: this.passwordData.newPassword,\n      confirmPassword: this.passwordData.confirmPassword\n    };\n\n    this.profileService.changePassword(passwordRequest).subscribe({\n      next: () => {\n        this.isEditingPassword = false;\n        this.isSavingPassword = false;\n        this.passwordData = {\n          currentPassword: '',\n          newPassword: '',\n          confirmPassword: ''\n        };\n        this.toastService.success('Пароль успешно изменен');\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка смены пароля';\n        this.passwordError = errorMessage;\n        this.toastService.error(errorMessage);\n        this.isSavingPassword = false;\n      }\n    });\n  }\n\n  cancelEditPassword(): void {\n    this.isEditingPassword = false;\n    this.passwordError = null;\n    this.passwordData = {\n      currentPassword: '',\n      newPassword: '',\n      confirmPassword: ''\n    };\n  }\n\n  isPasswordFormValid(): boolean {\n    return !!(\n      this.passwordData.currentPassword &&\n      this.passwordData.newPassword &&\n      this.passwordData.confirmPassword &&\n      this.passwordData.newPassword === this.passwordData.confirmPassword &&\n      this.passwordData.newPassword.length >= 6\n    );\n  }\n\n  loadUserTransactions(): void {\n    this.profileService.getUserTransactions().subscribe({\n      next: (transactions) => {\n        console.log('[AccountPage] User transactions loaded:', transactions);\n        this.userPayments = transactions.map(t => this.mapTransactionToPayment(t));\n      },\n      error: (err) => {\n        console.error('[AccountPage] Error loading user transactions:', err);\n        // Don't show error toast, just log it - transactions are not critical\n        this.userPayments = [];\n      }\n    });\n  }\n\n  mapTransactionToPayment(transaction: UserTransaction): UserPayment {\n    const date = new Date(transaction.createdAt);\n    const dateStr = date.toLocaleDateString('ru-RU', { day: '2-digit', month: '2-digit', year: 'numeric' });\n    const timeStr = date.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });\n\n    // Parse payment method\n    let paymentMethod: 'cash' | 'card' | 'transfer' = 'cash';\n    if (transaction.paymentMethod) {\n      const method = transaction.paymentMethod.toLowerCase();\n      if (method.includes('card') || method.includes('карт')) {\n        paymentMethod = 'card';\n      } else if (method.includes('transfer') || method.includes('перевод')) {\n        paymentMethod = 'transfer';\n      }\n    }\n\n    return {\n      id: transaction.txId, // Keep full txId for display\n      txId: transaction.txId, // Keep full txId for API calls\n      clientId: transaction.clientId,\n      clientName: transaction.clientName,\n      clientPhone: transaction.clientPhone,\n      amount: transaction.amount,\n      bonusEarned: transaction.bonusGranted,\n      bonusUsed: transaction.bonusUsed,\n      bonusRevoked: transaction.bonusRevoked || 0,\n      paymentMethod: paymentMethod,\n      isRefund: transaction.status === 'REFUNDED' || transaction.refundedPaymentTxId !== null,\n      date: dateStr,\n      time: timeStr\n    };\n  }\n\n  toggleMobilePaymentCard(paymentId: string): void {\n    if (this.expandedMobilePaymentCards.has(paymentId)) {\n      this.expandedMobilePaymentCards.delete(paymentId);\n    } else {\n      this.expandedMobilePaymentCards.add(paymentId);\n    }\n  }\n\n  isMobilePaymentExpanded(paymentId: string): boolean {\n    return this.expandedMobilePaymentCards.has(paymentId);\n  }\n\n  // Payment view modal\n  showPaymentViewModal = false;\n  selectedPaymentTxId: string | null = null;\n  selectedPaymentSearchResult: PaymentSearchResult | null = null;\n\n  openPaymentView(paymentId: string): void {\n    const payment = this.userPayments.find(p => p.txId === paymentId);\n    if (payment) {\n      this.selectedPaymentSearchResult = {\n        txId: payment.txId,\n        clientId: payment.clientId,\n        clientName: payment.clientName,\n        clientPhone: payment.clientPhone,\n        clientEmail: null,\n        amount: payment.amount,\n        status: payment.isRefund ? 'REFUNDED' : 'COMPLETED',\n        paymentMethod: payment.paymentMethod?.toUpperCase() as 'CASH' | 'CARD' | 'TRANSFER' | null,\n        initiatedBy: null,\n        createdAt: payment.date + 'T' + payment.time,\n        refundedPaymentTxId: null,\n        bonusGranted: payment.bonusEarned,\n        bonusUsed: payment.bonusUsed,\n        bonusRevoked: payment.bonusRevoked,\n        refundReason: null\n      };\n    }\n    this.selectedPaymentTxId = paymentId;\n    this.showPaymentViewModal = true;\n  }\n\n  closePaymentView(): void {\n    this.showPaymentViewModal = false;\n    this.selectedPaymentTxId = null;\n    this.selectedPaymentSearchResult = null;\n  }\n\n  onPaymentUpdated(): void {\n    // Reload user transactions after update\n    this.loadUserTransactions();\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
