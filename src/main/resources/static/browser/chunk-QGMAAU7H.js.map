{
  "version": 3,
  "sources": ["src/app/shared/pipes/phone-format.pipe.ts"],
  "sourcesContent": ["import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Pipe to format phone numbers for display.\n * Input: +77053811138 or 77053811138 or any format with spaces\n * Output: +7 705 381 1138 (Kazakhstan/Russia format)\n */\n@Pipe({\n  name: 'phoneFormat',\n  standalone: true\n})\nexport class PhoneFormatPipe implements PipeTransform {\n\n  transform(phone: string | null | undefined): string {\n    if (!phone) {\n      return '';\n    }\n\n    // First normalize: remove all non-digit characters except +\n    let normalized = '';\n    let hasPlus = false;\n    \n    for (const char of phone) {\n      if (char === '+' && !hasPlus && normalized.length === 0) {\n        normalized += char;\n        hasPlus = true;\n      } else if (/\\d/.test(char)) {\n        normalized += char;\n      }\n    }\n\n    // Remove leading + for processing\n    const digits = normalized.startsWith('+') ? normalized.substring(1) : normalized;\n\n    // If the number is too short, just return with + prefix\n    if (digits.length < 10) {\n      return normalized.startsWith('+') ? normalized : '+' + normalized;\n    }\n\n    // Format for Kazakhstan/Russia: +7 XXX XXX XXXX (11 digits total with country code)\n    if (digits.length === 11 && (digits.startsWith('7') || digits.startsWith('8'))) {\n      // Convert 8 to 7 for standard format\n      const countryCode = '7';\n      const rest = digits.substring(1);\n      return `+${countryCode} ${rest.substring(0, 3)} ${rest.substring(3, 6)} ${rest.substring(6)}`;\n    }\n\n    // For 10-digit numbers (without country code), assume +7\n    if (digits.length === 10) {\n      return `+7 ${digits.substring(0, 3)} ${digits.substring(3, 6)} ${digits.substring(6)}`;\n    }\n\n    // For other formats, just add spaces every 3 digits after country code\n    if (digits.length > 3) {\n      let formatted = '+' + digits.charAt(0) + ' ';\n      const remaining = digits.substring(1);\n      \n      for (let i = 0; i < remaining.length; i++) {\n        if (i > 0 && i % 3 === 0 && i < remaining.length) {\n          formatted += ' ';\n        }\n        formatted += remaining.charAt(i);\n      }\n      return formatted;\n    }\n\n    return normalized.startsWith('+') ? normalized : '+' + normalized;\n  }\n}\n"],
  "mappings": ";;;;;;;AAWM,IAAO,kBAAP,MAAO,iBAAe;EAE1B,UAAU,OAAgC;AACxC,QAAI,CAAC,OAAO;AACV,aAAO;IACT;AAGA,QAAI,aAAa;AACjB,QAAI,UAAU;AAEd,eAAW,QAAQ,OAAO;AACxB,UAAI,SAAS,OAAO,CAAC,WAAW,WAAW,WAAW,GAAG;AACvD,sBAAc;AACd,kBAAU;MACZ,WAAW,KAAK,KAAK,IAAI,GAAG;AAC1B,sBAAc;MAChB;IACF;AAGA,UAAM,SAAS,WAAW,WAAW,GAAG,IAAI,WAAW,UAAU,CAAC,IAAI;AAGtE,QAAI,OAAO,SAAS,IAAI;AACtB,aAAO,WAAW,WAAW,GAAG,IAAI,aAAa,MAAM;IACzD;AAGA,QAAI,OAAO,WAAW,OAAO,OAAO,WAAW,GAAG,KAAK,OAAO,WAAW,GAAG,IAAI;AAE9E,YAAM,cAAc;AACpB,YAAM,OAAO,OAAO,UAAU,CAAC;AAC/B,aAAO,IAAI,WAAW,IAAI,KAAK,UAAU,GAAG,CAAC,CAAC,IAAI,KAAK,UAAU,GAAG,CAAC,CAAC,IAAI,KAAK,UAAU,CAAC,CAAC;IAC7F;AAGA,QAAI,OAAO,WAAW,IAAI;AACxB,aAAO,MAAM,OAAO,UAAU,GAAG,CAAC,CAAC,IAAI,OAAO,UAAU,GAAG,CAAC,CAAC,IAAI,OAAO,UAAU,CAAC,CAAC;IACtF;AAGA,QAAI,OAAO,SAAS,GAAG;AACrB,UAAI,YAAY,MAAM,OAAO,OAAO,CAAC,IAAI;AACzC,YAAM,YAAY,OAAO,UAAU,CAAC;AAEpC,eAAS,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACzC,YAAI,IAAI,KAAK,IAAI,MAAM,KAAK,IAAI,UAAU,QAAQ;AAChD,uBAAa;QACf;AACA,qBAAa,UAAU,OAAO,CAAC;MACjC;AACA,aAAO;IACT;AAEA,WAAO,WAAW,WAAW,GAAG,IAAI,aAAa,MAAM;EACzD;;qCAxDW,kBAAe;EAAA;0FAAf,kBAAe,MAAA,KAAA,CAAA;;;sEAAf,iBAAe,CAAA;UAJ3B;WAAK;MACJ,MAAM;MACN,YAAY;KACb;;;",
  "names": []
}
