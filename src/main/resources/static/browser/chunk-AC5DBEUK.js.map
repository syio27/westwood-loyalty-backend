{
  "version": 3,
  "sources": ["src/app/core/services/users.service.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../environments/environment';\nimport { User, UpdateUserRequest, InviteUserRequest, InviteUserResponse, UserTransaction } from '../models/user.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UsersService {\n  private readonly apiUrl = `${environment.apiUrl}/users`;\n\n  constructor(private http: HttpClient) {}\n\n  // Get all users\n  getUsers(): Observable<User[]> {\n    return this.http.get<User[]>(this.apiUrl);\n  }\n\n  // Get user by ID\n  getUserById(id: string): Observable<User> {\n    return this.http.get<User>(`${this.apiUrl}/${id}`);\n  }\n\n  // Get user by username\n  getUserByUsername(username: string): Observable<User> {\n    return this.http.get<User>(`${this.apiUrl}/username/${username}`);\n  }\n\n  // Create user\n  createUser(user: Partial<User>): Observable<User> {\n    return this.http.post<User>(this.apiUrl, user);\n  }\n\n  // Update user\n  updateUser(id: string, data: UpdateUserRequest): Observable<User> {\n    return this.http.put<User>(`${this.apiUrl}/${id}`, data);\n  }\n\n  // Delete user\n  deleteUser(id: string): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/${id}`);\n  }\n\n  // Invite user\n  inviteUser(data: InviteUserRequest): Observable<InviteUserResponse> {\n    console.log('[UsersService] POST /users/invite', data);\n    return this.http.post<InviteUserResponse>(`${this.apiUrl}/invite`, data);\n  }\n\n  // Get user transactions\n  getUserTransactions(userId: string): Observable<UserTransaction[]> {\n    return this.http.get<UserTransaction[]>(`${this.apiUrl}/${userId}/transactions`);\n  }\n\n  // Lock user\n  lockUser(userId: string): Observable<User> {\n    return this.http.put<User>(`${this.apiUrl}/${userId}/lock`, {});\n  }\n\n  // Unlock user\n  unlockUser(userId: string): Observable<User> {\n    return this.http.put<User>(`${this.apiUrl}/${userId}/unlock`, {});\n  }\n\n  // Delete all locked users\n  deleteLockedUsers(): Observable<{ deletedCount: number }> {\n    return this.http.delete<{ deletedCount: number }>(`${this.apiUrl}/locked`);\n  }\n\n  // Update heartbeat (last seen)\n  updateHeartbeat(): Observable<void> {\n    return this.http.post<void>(`${this.apiUrl}/activity/heartbeat`, {});\n  }\n\n  // Get user status\n  getUserStatus(userId: string): Observable<UserStatus> {\n    return this.http.get<UserStatus>(`${this.apiUrl}/${userId}/status`);\n  }\n\n  // Get all users status\n  getAllUsersStatus(): Observable<UserStatus[]> {\n    return this.http.get<UserStatus[]>(`${this.apiUrl}/status`);\n  }\n}\n\nexport interface UserStatus {\n  userId: string;\n  isOnline: boolean;\n  lastSeenAt: string | null;\n}\n\n"],
  "mappings": ";;;;;;;;;;;;AASM,IAAO,eAAP,MAAO,cAAY;EAGH;EAFH,SAAS,GAAG,YAAY,MAAM;EAE/C,YAAoB,MAAgB;AAAhB,SAAA,OAAA;EAAmB;;EAGvC,WAAQ;AACN,WAAO,KAAK,KAAK,IAAY,KAAK,MAAM;EAC1C;;EAGA,YAAY,IAAU;AACpB,WAAO,KAAK,KAAK,IAAU,GAAG,KAAK,MAAM,IAAI,EAAE,EAAE;EACnD;;EAGA,kBAAkB,UAAgB;AAChC,WAAO,KAAK,KAAK,IAAU,GAAG,KAAK,MAAM,aAAa,QAAQ,EAAE;EAClE;;EAGA,WAAW,MAAmB;AAC5B,WAAO,KAAK,KAAK,KAAW,KAAK,QAAQ,IAAI;EAC/C;;EAGA,WAAW,IAAY,MAAuB;AAC5C,WAAO,KAAK,KAAK,IAAU,GAAG,KAAK,MAAM,IAAI,EAAE,IAAI,IAAI;EACzD;;EAGA,WAAW,IAAU;AACnB,WAAO,KAAK,KAAK,OAAa,GAAG,KAAK,MAAM,IAAI,EAAE,EAAE;EACtD;;EAGA,WAAW,MAAuB;AAChC,YAAQ,IAAI,qCAAqC,IAAI;AACrD,WAAO,KAAK,KAAK,KAAyB,GAAG,KAAK,MAAM,WAAW,IAAI;EACzE;;EAGA,oBAAoB,QAAc;AAChC,WAAO,KAAK,KAAK,IAAuB,GAAG,KAAK,MAAM,IAAI,MAAM,eAAe;EACjF;;EAGA,SAAS,QAAc;AACrB,WAAO,KAAK,KAAK,IAAU,GAAG,KAAK,MAAM,IAAI,MAAM,SAAS,CAAA,CAAE;EAChE;;EAGA,WAAW,QAAc;AACvB,WAAO,KAAK,KAAK,IAAU,GAAG,KAAK,MAAM,IAAI,MAAM,WAAW,CAAA,CAAE;EAClE;;EAGA,oBAAiB;AACf,WAAO,KAAK,KAAK,OAAiC,GAAG,KAAK,MAAM,SAAS;EAC3E;;EAGA,kBAAe;AACb,WAAO,KAAK,KAAK,KAAW,GAAG,KAAK,MAAM,uBAAuB,CAAA,CAAE;EACrE;;EAGA,cAAc,QAAc;AAC1B,WAAO,KAAK,KAAK,IAAgB,GAAG,KAAK,MAAM,IAAI,MAAM,SAAS;EACpE;;EAGA,oBAAiB;AACf,WAAO,KAAK,KAAK,IAAkB,GAAG,KAAK,MAAM,SAAS;EAC5D;;qCA1EW,eAAY,mBAAA,UAAA,CAAA;EAAA;4EAAZ,eAAY,SAAZ,cAAY,WAAA,YAFX,OAAM,CAAA;;;sEAEP,cAAY,CAAA;UAHxB;WAAW;MACV,YAAY;KACb;;;",
  "names": []
}
