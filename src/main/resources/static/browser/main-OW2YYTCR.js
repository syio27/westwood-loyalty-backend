import{a as w,b as Xe,c as T,d as Je}from"./chunk-HBHOCI6E.js";import{b as St,d as J}from"./chunk-EWHYOTGN.js";import{a as G}from"./chunk-3B24VZJ2.js";import{a as At}from"./chunk-KIMA7ZS2.js";import{a as Y,b as vt,c as yt,d as It,e as ot,f as xt,g as Ct,h as it,i as wt,j as Tt,k as nt,l as Ot,m as Et,n as st,o as rt,p as Q,q as Qe,r as bt,s as at,t as Pt,u as _t,v as ct,w as Mt,x as qe}from"./chunk-F7YJB2NN.js";import{a as Ue,d as Gt,e as gt,f as Be,i as Ge,j as Ve,k as Vt,l as He,m as Ze,n as B,q as We,r as m,s as Ke}from"./chunk-CIWT7YLH.js";import{a as Ye}from"./chunk-CVPHXFUL.js";import{Aa as F,B as U,Ba as W,Bb as Ne,Cb as ze,F as de,Fa as Ee,G as me,Ga as ft,H as fe,Ha as be,I as Bt,J as ht,K as j,L as ge,O as L,Oa as Pe,Pa as _e,Q as et,R as O,S as v,U as Ae,Y as Se,Z as ve,_ as dt,a as p,aa as ye,ab as Me,b as l,c as Nt,da as Ie,ea as xe,f as se,fa as Ce,g as re,h as ae,hb as ke,i as ce,ib as $e,k as M,ka as V,l as ue,m as pe,n as I,na as H,o as lt,ob as K,pb as Re,r as zt,ra as mt,rb as je,s as b,sb as Le,t as P,ta as we,tb as De,u as le,v as he,va as Z,w as z,xa as Te,xb as Fe,y as Ut,ya as Oe,yb as X,za as D}from"./chunk-QQOXS2LP.js";var pt="PERFORM_ACTION",Do="REFRESH",so="RESET",ro="ROLLBACK",ao="COMMIT",co="SWEEP",uo="TOGGLE_ACTION",Fo="SET_ACTIONS_ACTIVE",po="JUMP_TO_STATE",lo="JUMP_TO_ACTION",ie="IMPORT_STATE",ho="LOCK_CHANGES",mo="PAUSE_RECORDING",q=class{constructor(i,e){if(this.action=i,this.timestamp=e,this.type=pt,typeof i.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Ht=class{constructor(){this.type=Do}},Zt=class{constructor(i){this.timestamp=i,this.type=so}},Wt=class{constructor(i){this.timestamp=i,this.type=ro}},Kt=class{constructor(i){this.timestamp=i,this.type=ao}},Xt=class{constructor(){this.type=co}},Jt=class{constructor(i){this.id=i,this.type=uo}};var Yt=class{constructor(i){this.index=i,this.type=po}},Qt=class{constructor(i){this.actionId=i,this.type=lo}},qt=class{constructor(i){this.nextLiftedState=i,this.type=ie}},te=class{constructor(i){this.status=i,this.type=ho}},ee=class{constructor(i){this.status=i,this.type=mo}};var jt=new et("@ngrx/store-devtools Options"),to=new et("@ngrx/store-devtools Initial Config");function fo(){return null}var No="NgRx Store DevTools";function zo(t){let i={maxAge:!1,monitor:fo,actionSanitizer:void 0,stateSanitizer:void 0,name:No,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof t=="function"?t():t,o=e.logOnly?{pause:!0,export:!0,test:!0}:!1,n=e.features||o||i.features;n.import===!0&&(n.import="custom");let a=Object.assign({},i,{features:n},e);if(a.maxAge&&a.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${a.maxAge}`);return a}function eo(t,i){return t.filter(e=>i.indexOf(e)<0)}function go(t){let{computedStates:i,currentStateIndex:e}=t;if(e>=i.length){let{state:n}=i[i.length-1];return n}let{state:o}=i[e];return o}function ut(t){return new q(t,+Date.now())}function Uo(t,i){return Object.keys(i).reduce((e,o)=>{let n=Number(o);return e[n]=Ao(t,i[n],n),e},{})}function Ao(t,i,e){return l(p({},i),{action:t(i.action,e)})}function Bo(t,i){return i.map((e,o)=>({state:So(t,e.state,o),error:e.error}))}function So(t,i,e){return t(i,e)}function vo(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function Go(t,i,e,o){let n=[],a={},g=[];return t.stagedActionIds.forEach((h,y)=>{let s=t.actionsById[h];s&&(y&&ne(t.computedStates[y],s,i,e,o)||(a[h]=s,n.push(h),g.push(t.computedStates[y])))}),l(p({},t),{stagedActionIds:n,actionsById:a,computedStates:g})}function ne(t,i,e,o,n){let a=e&&!e(t,i.action),g=o&&!i.action.type.match(o.map(y=>oo(y)).join("|")),h=n&&i.action.type.match(n.map(y=>oo(y)).join("|"));return a||g||h}function oo(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yo(t){return{ngZone:t?v(xe):null,connectInZone:t}}var Lt=(()=>{class t extends gt{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ye(t)))(n||t)}})()}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),kt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},oe=new et("@ngrx/store-devtools Redux Devtools Extension"),Io=(()=>{class t{constructor(e,o,n){this.config=o,this.dispatcher=n,this.zoneConfig=yo(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,o){if(this.devtoolsExtension)if(e.type===pt){if(o.isLocked||o.isPaused)return;let n=go(o);if(vo(this.config)&&ne(n,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let a=this.config.stateSanitizer?So(this.config.stateSanitizer,n,o.currentStateIndex):n,g=this.config.actionSanitizer?Ao(this.config.actionSanitizer,e,o.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(g,a))}else{let n=l(p({},o),{stagedActionIds:o.stagedActionIds,actionsById:this.config.actionSanitizer?Uo(this.config.actionSanitizer,o.actionsById):o.actionsById,computedStates:this.config.stateSanitizer?Bo(this.config.stateSanitizer,o.computedStates):o.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,n,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Nt(e=>{let o=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=o,o.init(),o.subscribe(n=>e.next(n)),o.unsubscribe}):ae}createActionStreams(){let e=this.createChangesObservable().pipe(me()),o=e.pipe(b(s=>s.type===kt.START)),n=e.pipe(b(s=>s.type===kt.STOP)),a=e.pipe(b(s=>s.type===kt.DISPATCH),I(s=>this.unwrapAction(s.payload)),le(s=>s.type===ie?this.dispatcher.pipe(b(x=>x.type===Vt),pe(1e3),he(1e3),I(()=>s),P(()=>M(s)),z(1)):M(s))),h=e.pipe(b(s=>s.type===kt.ACTION),I(s=>this.unwrapAction(s.payload))).pipe(ht(n)),y=a.pipe(ht(n));this.start$=o.pipe(ht(n)),this.actions$=this.start$.pipe(Bt(()=>h)),this.liftedActions$=this.start$.pipe(Bt(()=>y))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let o={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(o.maxAge=e.maxAge),o}sendToReduxDevtools(e){try{e()}catch(o){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",o)}}static{this.\u0275fac=function(o){return new(o||t)(O(oe),O(jt),O(Lt))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})(),Rt={type:Gt},Vo="@ngrx/store-devtools/recompute",Ho={type:Vo};function xo(t,i,e,o,n){if(o)return{state:e,error:"Interrupted by an error up the chain"};let a=e,g;try{a=t(e,i)}catch(h){g=h.toString(),n.handleError(h)}return{state:a,error:g}}function $t(t,i,e,o,n,a,g,h,y){if(i>=t.length&&t.length===a.length)return t;let s=t.slice(0,i),x=a.length-(y?1:0);for(let r=i;r<x;r++){let d=a[r],E=n[d].action,u=s[r-1],c=u?u.state:o,k=u?u.error:void 0,$=g.indexOf(d)>-1?u:xo(e,E,c,k,h);s.push($)}return y&&s.push(t[t.length-1]),s}function Zo(t,i){return{monitorState:i(void 0,{}),nextActionId:1,actionsById:{0:ut(Rt)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Wo(t,i,e,o,n={}){return a=>(g,h)=>{let{monitorState:y,actionsById:s,nextActionId:x,stagedActionIds:r,skippedActionIds:d,committedState:E,currentStateIndex:u,computedStates:c,isLocked:k,isPaused:C}=g||i;g||(s=Object.create(s));function $(S){let A=S,N=r.slice(1,A+1);for(let _=0;_<N.length;_++)if(c[_+1].error){A=_,N=r.slice(1,A+1);break}else delete s[N[_]];d=d.filter(_=>N.indexOf(_)===-1),r=[0,...r.slice(A+1)],E=c[A].state,c=c.slice(A),u=u>A?u-A:0}function R(){s={0:ut(Rt)},x=1,r=[0],d=[],E=c[u].state,u=0,c=[]}let f=0;switch(h.type){case ho:{k=h.status,f=1/0;break}case mo:{C=h.status,C?(r=[...r,x],s[x]=new q({type:"@ngrx/devtools/pause"},+Date.now()),x++,f=r.length-1,c=c.concat(c[c.length-1]),u===r.length-2&&u++,f=1/0):R();break}case so:{s={0:ut(Rt)},x=1,r=[0],d=[],E=t,u=0,c=[];break}case ao:{R();break}case ro:{s={0:ut(Rt)},x=1,r=[0],d=[],u=0,c=[];break}case uo:{let{id:S}=h;d.indexOf(S)===-1?d=[S,...d]:d=d.filter(N=>N!==S),f=r.indexOf(S);break}case Fo:{let{start:S,end:A,active:N}=h,_=[];for(let Ft=S;Ft<A;Ft++)_.push(Ft);N?d=eo(d,_):d=[...d,..._],f=r.indexOf(S);break}case po:{u=h.index,f=1/0;break}case lo:{let S=r.indexOf(h.actionId);S!==-1&&(u=S),f=1/0;break}case co:{r=eo(r,d),d=[],u=Math.min(u,r.length-1);break}case pt:{if(k)return g||i;if(C||g&&ne(g.computedStates[u],h,n.predicate,n.actionsSafelist,n.actionsBlocklist)){let A=c[c.length-1];c=[...c.slice(0,-1),xo(a,h.action,A.state,A.error,e)],f=1/0;break}n.maxAge&&r.length===n.maxAge&&$(1),u===r.length-1&&u++;let S=x++;s[S]=h,r=[...r,S],f=r.length-1;break}case ie:{({monitorState:y,actionsById:s,nextActionId:x,stagedActionIds:r,skippedActionIds:d,committedState:E,currentStateIndex:u,computedStates:c,isLocked:k,isPaused:C}=h.nextLiftedState);break}case Gt:{f=0,n.maxAge&&r.length>n.maxAge&&(c=$t(c,f,a,E,s,r,d,e,C),$(r.length-n.maxAge),f=1/0);break}case Vt:{if(c.filter(A=>A.error).length>0)f=0,n.maxAge&&r.length>n.maxAge&&(c=$t(c,f,a,E,s,r,d,e,C),$(r.length-n.maxAge),f=1/0);else{if(!C&&!k){u===r.length-1&&u++;let A=x++;s[A]=new q(h,+Date.now()),r=[...r,A],f=r.length-1,c=$t(c,f,a,E,s,r,d,e,C)}c=c.map(A=>l(p({},A),{state:a(A.state,Ho)})),u=r.length-1,n.maxAge&&r.length>n.maxAge&&$(r.length-n.maxAge),f=1/0}break}default:{f=1/0;break}}return c=$t(c,f,a,E,s,r,d,e,C),y=o(y,h),{monitorState:y,actionsById:s,nextActionId:x,stagedActionIds:r,skippedActionIds:d,committedState:E,currentStateIndex:u,computedStates:c,isLocked:k,isPaused:C}}}var io=(()=>{class t{constructor(e,o,n,a,g,h,y,s){let x=Zo(y,s.monitor),r=Wo(y,x,h,s.monitor,s),d=zt(zt(o.asObservable().pipe(fe(1)),a.actions$).pipe(I(ut)),e,a.liftedActions$).pipe(ce(re)),E=n.pipe(I(r)),u=yo(s.connectInZone),c=new se(1);this.liftedStateSubscription=d.pipe(ge(E),no(u),de(({state:$},[R,f])=>{let S=f($,R);return R.type!==pt&&vo(s)&&(S=Go(S,s.predicate,s.actionsSafelist,s.actionsBlocklist)),a.notify(R,S),{state:S,action:R}},{state:x,action:null})).subscribe(({state:$,action:R})=>{if(c.next($),R.type===pt){let f=R.action;g.next(f)}}),this.extensionStartSubscription=a.start$.pipe(no(u)).subscribe(()=>{this.refresh()});let k=c.asObservable(),C=k.pipe(I(go));Object.defineProperty(C,"state",{value:Ue(C,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=k,this.state=C}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new q(e,+Date.now()))}refresh(){this.dispatch(new Ht)}reset(){this.dispatch(new Zt(+Date.now()))}rollback(){this.dispatch(new Wt(+Date.now()))}commit(){this.dispatch(new Kt(+Date.now()))}sweep(){this.dispatch(new Xt)}toggleAction(e){this.dispatch(new Jt(e))}jumpToAction(e){this.dispatch(new Qt(e))}jumpToState(e){this.dispatch(new Yt(e))}importState(e){this.dispatch(new qt(e))}lockChanges(e){this.dispatch(new te(e))}pauseRecording(e){this.dispatch(new ee(e))}static{this.\u0275fac=function(o){return new(o||t)(O(Lt),O(gt),O(Ge),O(Io),O(He),O(Ce),O(Be),O(jt))}}static{this.\u0275prov=L({token:t,factory:t.\u0275fac})}}return t})();function no({ngZone:t,connectInZone:i}){return e=>i?new Nt(o=>e.subscribe({next:n=>t.run(()=>o.next(n)),error:n=>t.run(()=>o.error(n)),complete:()=>t.run(()=>o.complete())})):e}var Ko=new et("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Xo(t,i){return!!t||i.monitor!==fo}function Jo(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function Yo(t){return t.state}function Co(t={}){return Ae([Io,Lt,io,{provide:to,useValue:t},{provide:Ko,deps:[oe,jt],useFactory:Xo},{provide:oe,useFactory:Jo},{provide:jt,deps:[to],useFactory:zo},{provide:Ze,deps:[io],useFactory:Yo},{provide:Ve,useExisting:Lt}])}function qo(t,i){t&1&&(dt(),D(0,"svg",6),W(1,"circle",8)(2,"path",9),F())}function ti(t,i){t&1&&(dt(),D(0,"svg",6),W(1,"circle",8)(2,"path",10),F())}var wo=(()=>{class t{message="";type="success";duration=3e3;closed=new Ie;visible=!1;hiding=!1;timeoutId;ngOnInit(){setTimeout(()=>{this.visible=!0},10),this.duration>0&&(this.timeoutId=window.setTimeout(()=>{this.close()},this.duration))}ngOnDestroy(){this.timeoutId&&clearTimeout(this.timeoutId)}onClose(){this.close()}close(){this.hiding=!0,setTimeout(()=>{this.closed.emit()},300)}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=H({type:t,selectors:[["app-toast"]],inputs:{message:"message",type:"type",duration:"duration"},outputs:{closed:"closed"},decls:10,vars:9,consts:[[1,"toast"],[1,"toast-content"],[1,"toast-icon"],["viewBox","0 0 24 24","fill","none",4,"ngIf"],[1,"toast-message"],["iconButtonType","ghost","size","small",3,"onClick"],["viewBox","0 0 24 24","fill","none"],["d","M18 6L6 18M6 6l12 12","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","2"],["d","M9 12l2 2 4-4","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M15 9l-6 6M9 9l6 6","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"]],template:function(o,n){o&1&&(D(0,"div",0)(1,"div",1)(2,"div",2),mt(3,qo,3,0,"svg",3)(4,ti,3,0,"svg",3),F(),D(5,"div",4),Pe(6),F(),D(7,"app-icon-button",5),ft("onClick",function(){return n.onClose()}),dt(),D(8,"svg",6),W(9,"path",7),F()()()()),o&2&&(Oe(n.type),Te("show",n.visible)("hiding",n.hiding),V(3),Z("ngIf",n.type==="success"),V(),Z("ngIf",n.type==="error"),V(2),_e(n.message))},dependencies:[K,$e,Ye],styles:[".toast[_ngcontent-%COMP%]{display:flex;align-items:center;min-width:300px;max-width:400px;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 4px 12px #00000026;margin-bottom:.75rem;opacity:0;transform:translate(100%);transition:all .3s cubic-bezier(.4,0,.2,1);border-left:4px solid}.toast.show[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}.toast.hiding[_ngcontent-%COMP%]{opacity:0;transform:translate(100%)}.toast.success[_ngcontent-%COMP%]{border-left-color:#16a34a}.toast.error[_ngcontent-%COMP%]{border-left-color:#dc2626}.toast-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.toast-icon[_ngcontent-%COMP%]{flex-shrink:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center}.toast-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}.toast.success[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#16a34a}.toast.error[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#dc2626}.toast-message[_ngcontent-%COMP%]{flex:1;font-size:.9375rem;line-height:1.5;color:#1f2937;font-weight:500}[_nghost-%COMP%]     app-icon-button{flex-shrink:0}[_nghost-%COMP%]     app-icon-button svg{width:16px;height:16px;color:#64748b}"]})}return t})();function ei(t,i){if(t&1){let e=Ee();D(0,"app-toast",2),ft("closed",function(){let n=Se(e).$implicit,a=be();return ve(a.removeToast(n.id))}),F()}if(t&2){let e=i.$implicit;Z("message",e.message)("type",e.type)("duration",e.duration)}}var To=(()=>{class t{toastService=v(At);toasts=[];subscription;ngOnInit(){this.subscription=this.toastService.toasts$.subscribe(e=>{this.toasts=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}removeToast(e){this.toastService.remove(e)}trackByToastId(e,o){return o.id}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=H({type:t,selectors:[["app-toast-container"]],decls:2,vars:2,consts:[[1,"toast-container"],[3,"message","type","duration","closed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"closed","message","type","duration"]],template:function(o,n){o&1&&(D(0,"div",0),mt(1,ei,1,3,"app-toast",1),F()),o&2&&(V(),Z("ngForOf",n.toasts)("ngForTrackBy",n.trackByToastId))},dependencies:[K,ke,wo],styles:[".toast-container[_ngcontent-%COMP%]{position:fixed;top:1.5rem;right:1.5rem;z-index:10000;display:flex;flex-direction:column;align-items:flex-end;pointer-events:none}.toast-container[_ngcontent-%COMP%]   app-toast[_ngcontent-%COMP%]{pointer-events:auto}@media (max-width: 768px){.toast-container[_ngcontent-%COMP%]{top:1rem;right:1rem;left:1rem;align-items:stretch}.toast-container[_ngcontent-%COMP%]   app-toast[_ngcontent-%COMP%]{max-width:100%}}"]})}return t})();var Oo=(()=>{class t{title="westwood-frontend";static \u0275fac=function(o){return new(o||t)};static \u0275cmp=H({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(o,n){o&1&&W(0,"router-outlet")(1,"app-toast-container")},dependencies:[K,Fe,To],encapsulation:2})}return t})();var Eo=(t,i)=>{let e=v(X),o=v(B);return lt([o.select(J),o.select(St)]).pipe(b(([n])=>n),z(1),I(([,n])=>n?!0:(e.navigate(["/auth/login"],{queryParams:{returnUrl:i.url}}),!1)))};var bo=()=>{let t=v(X),i=v(B);return lt([i.select(J),i.select(St)]).pipe(b(([e])=>e),z(1),I(([,e])=>e?(t.navigate(["/home"]),!1):!0))};var Po=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"auth",loadChildren:()=>import("./chunk-MLG6KVYJ.js").then(t=>t.AUTH_ROUTES),canActivate:[bo]},{path:"",loadComponent:()=>import("./chunk-T7QVZTXN.js").then(t=>t.MainLayoutWrapperComponent),canActivate:[Eo],children:[{path:"home",loadComponent:()=>import("./chunk-RU6FJSH6.js").then(t=>t.HomePageComponent)},{path:"communications",children:[{path:"",redirectTo:"whatsapp",pathMatch:"full"},{path:"whatsapp",loadComponent:()=>import("./chunk-PGOGNWFW.js").then(t=>t.InvitationPageComponent)}]},{path:"bonus-program",loadComponent:()=>import("./chunk-UGSL2UZ6.js").then(t=>t.BonusProgramPageComponent)},{path:"clients",loadComponent:()=>import("./chunk-HGG5YR3I.js").then(t=>t.ClientsPageComponent)},{path:"clients/:id",loadComponent:()=>import("./chunk-2Z5VTEES.js").then(t=>t.ProfilePageComponent)},{path:"payments",loadComponent:()=>import("./chunk-6N73DQCJ.js").then(t=>t.PaymentsPageComponent)},{path:"users",loadComponent:()=>import("./chunk-M7TWZEOD.js").then(t=>t.UsersPageComponent)},{path:"users/:id",loadComponent:()=>import("./chunk-CYJPUQAB.js").then(t=>t.UserProfilePageComponent)},{path:"profile",loadComponent:()=>import("./chunk-NSCU4GJH.js").then(t=>t.AccountPageComponent)}]},{path:"**",redirectTo:"/home"}];var Dt={user:null,isAuthenticated:!1,isLoading:!1,isInitialized:!1,error:null},Mo=Ke(Dt,m(Y,t=>l(p({},t),{isLoading:!0,error:null})),m(vt,(t,{user:i})=>l(p({},t),{user:i,isAuthenticated:!0,isLoading:!1,isInitialized:!0,error:null})),m(yt,t=>l(p({},t),{user:null,isAuthenticated:!1,isLoading:!1,isInitialized:!0,error:null})),m(It,t=>l(p({},t),{isLoading:!0,error:null})),m(ot,(t,{user:i})=>l(p({},t),{user:i,isAuthenticated:!0,isLoading:!1,error:null})),m(xt,(t,{error:i})=>l(p({},t),{isLoading:!1,error:i,isAuthenticated:!1,user:null})),m(Ct,t=>l(p({},t),{isLoading:!0,error:null})),m(it,(t,{user:i})=>l(p({},t),{user:i,isAuthenticated:!0,isLoading:!1,error:null})),m(wt,(t,{error:i})=>l(p({},t),{isLoading:!1,error:i})),m(Tt,t=>l(p({},t),{isLoading:!0,error:null})),m(nt,(t,{user:i})=>l(p({},t),{user:i,isAuthenticated:!0,isLoading:!1,error:null})),m(Ot,(t,{error:i})=>l(p({},t),{isLoading:!1,error:i})),m(Et,t=>l(p({},t),{isLoading:!0})),m(st,t=>l(p({},Dt),{isInitialized:!0})),m(rt,t=>l(p({},Dt),{isInitialized:!0})),m(Q,t=>l(p({},Dt),{isInitialized:!0})),m(Qe,t=>l(p({},t),{error:null})),m(bt,t=>l(p({},t),{isLoading:!0,error:null})),m(at,t=>l(p({},t),{isLoading:!1,error:null})),m(Pt,(t,{error:i})=>l(p({},t),{isLoading:!1,error:i})),m(_t,t=>l(p({},t),{isLoading:!0,error:null})),m(ct,(t,{user:i})=>l(p({},t),{user:i,isAuthenticated:!0,isLoading:!1,error:null})),m(Mt,(t,{error:i})=>l(p({},t),{isLoading:!1,error:i})),m(qe,(t,{user:i})=>l(p({},t),{user:i})));var ko={auth:Mo};var $o=(()=>{class t{http;apiUrl=`${G.apiUrl}/auth`;constructor(e){this.http=e}login(e){return console.log("[AuthService] POST /auth/login",e),this.http.post(`${this.apiUrl}/login`,e)}register(e){return console.log("[AuthService] POST /auth/register",e),this.http.post(`${this.apiUrl}/register`,e)}activate(e){return this.http.post(`${this.apiUrl}/activate`,e)}me(){return this.http.get(`${this.apiUrl}/me`)}refresh(){return this.http.post(`${this.apiUrl}/refresh`,{})}logout(){return this.http.post(`${this.apiUrl}/logout`,{})}forgotPassword(e){return console.log("[AuthService] POST /auth/forgot-password",e),this.http.post(`${this.apiUrl}/forgot-password`,e)}resetPassword(e){return console.log("[AuthService] POST /auth/reset-password",{token:e.token,password:"***"}),this.http.post(`${this.apiUrl}/reset-password`,e)}static \u0275fac=function(o){return new(o||t)(O(je))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ro=(()=>{class t{actions$=v(Xe);authService=v($o);router=v(X);toastService=v(At);initAuth$=w(()=>this.actions$.pipe(T(Y),U(()=>this.authService.me().pipe(I(e=>vt({user:e})),P(()=>M(yt()))))));login$=w(()=>this.actions$.pipe(T(It),U(({credentials:e})=>this.authService.login(e).pipe(I(o=>ot({user:o})),P(o=>M(xt({error:o.error?.message||o.message||"\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 email \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C"})))))));loginSuccess$=w(()=>this.actions$.pipe(T(ot),j(()=>{this.router.navigate(["/home"])})),{dispatch:!1});register$=w(()=>this.actions$.pipe(T(Ct),U(({data:e})=>this.authService.register(e).pipe(I(o=>it({user:o})),P(o=>M(wt({error:o.error?.message||o.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"})))))));registerSuccess$=w(()=>this.actions$.pipe(T(it),j(()=>{this.router.navigate(["/home"])})),{dispatch:!1});activateAccount$=w(()=>this.actions$.pipe(T(Tt),U(({data:e})=>this.authService.activate(e).pipe(I(o=>nt({user:o})),P(o=>M(Ot({error:o.error?.message||o.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0430\u043A\u0442\u0438\u0432\u0430\u0446\u0438\u0438"})))))));activateAccountSuccess$=w(()=>this.actions$.pipe(T(nt),j(()=>{this.toastService.success("\u0410\u043A\u043A\u0430\u0443\u043D\u0442 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0430\u043A\u0442\u0438\u0432\u0438\u0440\u043E\u0432\u0430\u043D!")}),Ut(500),j(()=>{this.router.navigate(["/home"])})),{dispatch:!1});logout$=w(()=>this.actions$.pipe(T(Et),U(()=>this.authService.logout().pipe(I(()=>st()),P(e=>M(rt({error:e.error?.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0432\u044B\u0445\u043E\u0434\u0430"})))))));logoutSuccess$=w(()=>this.actions$.pipe(T(st,rt),j(()=>{this.router.navigate(["/auth/login"])})),{dispatch:!1});forgotPassword$=w(()=>this.actions$.pipe(T(bt),U(({data:e})=>this.authService.forgotPassword(e).pipe(I(()=>at()),P(o=>{let n=o.error?.message||o.message||(o.status===404?"\u041F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C \u0441 \u0442\u0430\u043A\u0438\u043C email \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D":null)||"\u041E\u0448\u0438\u0431\u043A\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 \u0437\u0430\u043F\u0440\u043E\u0441\u0430 \u043D\u0430 \u0441\u0431\u0440\u043E\u0441 \u043F\u0430\u0440\u043E\u043B\u044F";return M(Pt({error:n}))})))));forgotPasswordSuccess$=w(()=>this.actions$.pipe(T(at),j(()=>{this.toastService.success("\u041F\u0438\u0441\u044C\u043C\u043E \u0434\u043B\u044F \u0441\u0431\u0440\u043E\u0441\u0430 \u043F\u0430\u0440\u043E\u043B\u044F \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E \u043D\u0430 \u0432\u0430\u0448\u0443 \u043F\u043E\u0447\u0442\u0443")})),{dispatch:!1});resetPassword$=w(()=>this.actions$.pipe(T(_t),U(({data:e})=>this.authService.resetPassword(e).pipe(I(o=>ct({user:o})),P(o=>M(Mt({error:o.error?.message||o.message||"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u0431\u0440\u043E\u0441\u0430 \u043F\u0430\u0440\u043E\u043B\u044F"})))))));resetPasswordSuccess$=w(()=>this.actions$.pipe(T(ct),j(()=>{this.toastService.success("\u041F\u0430\u0440\u043E\u043B\u044C \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0438\u0437\u043C\u0435\u043D\u0435\u043D!")}),Ut(500),j(()=>{this.router.navigate(["/home"])})),{dispatch:!1});sessionExpired$=w(()=>this.actions$.pipe(T(Q),j(()=>{this.router.navigate(["/auth/login"],{queryParams:{sessionExpired:!0}})})),{dispatch:!1});static \u0275fac=function(o){return new(o||t)};static \u0275prov=L({token:t,factory:t.\u0275fac})}return t})();var jo=(t,i)=>{let e=v(B),o=!1;try{if(t.url.startsWith(G.apiUrl)&&(o=!0),t.url.includes("/api/v1/")&&(o=!0),t.url.startsWith("http")){let a=new URL(t.url).origin,g=new URL(G.apiUrl).origin;a===g&&(o=!0)}}catch{(t.url.includes("herokuapp.com")||t.url.includes("westwood"))&&(o=!0)}let n=o?t.clone({withCredentials:!0}):t;return console.log("[AuthInterceptor]",{url:t.url,isApiRequest:o,withCredentials:n.withCredentials,apiUrl:G.apiUrl,production:G.production}),i(n).pipe(P(a=>(a.status===401&&o&&(t.url.includes("/auth/login")||t.url.includes("/auth/register")||t.url.includes("/auth/me")||t.url.includes("/auth/forgot-password")||t.url.includes("/auth/reset-password")||t.url.includes("/auth/activate")||e.dispatch(Q())),ue(()=>a))))};var Lo=(()=>{class t{store=v(B);initializeApp(){return new Promise(e=>{this.store.dispatch(Y()),this.store.select(J).pipe(b(o=>o),z(1)).subscribe(()=>{e()})})}static \u0275fac=function(o){return new(o||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ii(){let t=v(Lo);return()=>t.initializeApp()}Re(Oo,{providers:[Ne(Po,ze({scrollPositionRestoration:"top",anchorScrolling:"enabled"})),Le(De([jo])),We(ko),Je([Ro]),Co({maxAge:25,logOnly:!Me(),autoPause:!0,trace:!1,traceLimit:75}),{provide:we,useFactory:ii,multi:!0}]}).catch(t=>console.error(t));
