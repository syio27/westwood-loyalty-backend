{
  "version": 3,
  "sources": ["src/app/features/auth/pages/forgot-password-page/forgot-password-page.component.ts"],
  "sourcesContent": ["import { Component, OnInit, OnDestroy, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormGroup, Validators, ReactiveFormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport { Actions, ofType } from '@ngrx/effects';\nimport { Observable, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { forgotPassword, clearError, forgotPasswordSuccess } from '../../../../core/store/auth/auth.actions';\nimport { selectIsLoading, selectAuthError } from '../../../../core/store/auth/auth.selectors';\nimport { AlertComponent } from '../../../../shared/components/alert/alert.component';\nimport { InputComponent } from '../../../../shared/components/input/input.component';\nimport { ButtonComponent } from '../../../../shared/components/button/button.component';\nimport { LinkComponent } from '../../../../shared/components/link/link.component';\nimport { AuthPromoPanelComponent } from '../../../../shared/components/auth-promo-panel/auth-promo-panel.component';\nimport { authMobileStyles } from '../../../../shared/styles/auth-mobile.styles';\n\n@Component({\n  selector: 'app-forgot-password-page',\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    RouterModule,\n    AlertComponent,\n    InputComponent,\n    ButtonComponent,\n    LinkComponent,\n    AuthPromoPanelComponent\n  ],\n  template: `\n    <div class=\"forgot-password-page auth-page\">\n      <!-- Left Promotional Panel -->\n      <app-auth-promo-panel class=\"promo-panel-desktop\"></app-auth-promo-panel>\n\n      <!-- Right Forgot Password Form Panel -->\n      <div class=\"form-panel\">\n        <div class=\"form-content\">\n          <div class=\"form-header\">\n            <h2 class=\"brand-name\">WestWood</h2>\n            <h3 class=\"welcome-title\">Смена пароля</h3>\n            <p class=\"back-to-login-prompt\">\n              <app-link routerLink=\"/auth/login\">\n                <strong>← Назад к логину</strong>\n              </app-link>\n            </p>\n          </div>\n\n          <app-alert\n            *ngIf=\"successMessage\"\n            type=\"success\"\n            [title]=\"'Успешно'\"\n            [dismissible]=\"true\"\n            (dismissed)=\"successMessage = ''\"\n            class=\"success-alert\">\n            {{ successMessage }}\n          </app-alert>\n\n          <app-alert\n            *ngIf=\"error$ | async as error\"\n            type=\"error\"\n            [title]=\"'Ошибка'\"\n            [dismissible]=\"true\"\n            (dismissed)=\"onClearError()\"\n            class=\"error-alert\">\n            {{ error }}\n          </app-alert>\n\n          <form [formGroup]=\"forgotPasswordForm\" (ngSubmit)=\"onSubmit()\" class=\"forgot-password-form auth-form\">\n            <app-input\n              id=\"email\"\n              label=\"Email\"\n              type=\"email\"\n              placeholder=\"Введите email\"\n              formControlName=\"email\"\n              [errorMessage]=\"getErrorMessage('email')\"\n              [required]=\"true\">\n            </app-input>\n\n            <app-button\n              buttonType=\"primary\"\n              type=\"submit\"\n              [disabled]=\"forgotPasswordForm.invalid\"\n              [loading]=\"(isLoading$ | async) ?? false\"\n              class=\"submit-button\">\n              Подтвердить\n            </app-button>\n          </form>\n\n        <div class=\"form-footer\">\n          <span>© 2026 WestWood. Все права защищены.</span>\n        </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [`\n    .forgot-password-page {\n      display: flex;\n      min-height: 100vh;\n      background: #F5F6F8;\n    }\n\n    /* Right Form Panel */\n    .form-panel {\n      flex: 0 0 45%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      padding: 3rem;\n      background: #ffffff;\n    }\n\n    .form-content {\n      width: 100%;\n      max-width: 360px;\n      animation: slideUp 0.5s ease-out;\n    }\n\n    @keyframes slideUp {\n      from {\n        opacity: 0;\n        transform: translateY(30px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    .form-header {\n      margin-bottom: 2rem;\n    }\n\n    .brand-name {\n      font-size: 1.75rem;\n      font-weight: 700;\n      color: #1a202c;\n      margin: 0 0 0.75rem 0;\n      letter-spacing: -0.02em;\n    }\n\n    .welcome-title {\n      font-size: 2rem;\n      font-weight: 700;\n      color: #1a202c;\n      margin: 0 0 1rem 0;\n    }\n\n    .back-to-login-prompt {\n      font-size: 0.9375rem;\n      color: #64748b;\n      line-height: 1.6;\n      margin: -0.5rem 0 0 0;\n    }\n\n    :host ::ng-deep .back-to-login-prompt app-link a {\n      color: #1a202c;\n      text-decoration: underline;\n      font-weight: 600;\n    }\n\n    :host ::ng-deep .back-to-login-prompt app-link a strong {\n      color: #0F0F10 !important;\n    }\n\n    .success-alert,\n    .error-alert {\n      margin-bottom: 1.5rem;\n      animation: shake 0.5s ease-out;\n    }\n\n    @keyframes shake {\n      0%, 100% { transform: translateX(0); }\n      25% { transform: translateX(-10px); }\n      75% { transform: translateX(10px); }\n    }\n\n    .forgot-password-form {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n    }\n\n    .submit-button {\n      width: 100%;\n      margin-top: 0.25rem;\n    }\n\n    :host ::ng-deep .submit-button button {\n      width: 100%;\n      padding: 0.875rem 1.5rem !important;\n      font-size: 1rem !important;\n      font-weight: 600 !important;\n      border-radius: 4px !important;\n      background-color: #0F0F10 !important;\n      color: white !important;\n      transition: all 0.2s ease !important;\n    }\n\n    ${authMobileStyles}\n  `]\n})\nexport class ForgotPasswordPageComponent implements OnInit, OnDestroy {\n  private fb = inject(FormBuilder);\n  private store = inject(Store);\n  private actions$ = inject(Actions);\n  private destroy$ = new Subject<void>();\n\n  forgotPasswordForm: FormGroup;\n  isLoading$: Observable<boolean>;\n  error$: Observable<string | null>;\n  successMessage = '';\n\n  constructor() {\n    this.forgotPasswordForm = this.fb.group({\n      email: ['', [Validators.required, Validators.email]]\n    });\n\n    this.isLoading$ = this.store.select(selectIsLoading);\n    this.error$ = this.store.select(selectAuthError);\n  }\n\n  ngOnInit(): void {\n    // Clear any existing errors when entering the page\n    this.store.dispatch(clearError());\n    this.successMessage = '';\n\n    // Subscribe to success action\n    this.actions$.pipe(\n      ofType(forgotPasswordSuccess),\n      takeUntil(this.destroy$)\n    ).subscribe(() => {\n      const email = this.forgotPasswordForm.value.email;\n      this.successMessage = `На адрес ${email} было отправлено сообщение для сброса пароля. Пожалуйста, проверьте вашу почту.`;\n    });\n\n    // Subscribe to error changes\n    this.error$.pipe(\n      takeUntil(this.destroy$)\n    ).subscribe(error => {\n      if (error) {\n        this.successMessage = '';\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  onSubmit(): void {\n    if (this.forgotPasswordForm.valid) {\n      this.successMessage = '';\n      const formValue = this.forgotPasswordForm.value;\n      \n      console.log('[ForgotPasswordPage] Requesting password reset for email:', formValue.email);\n\n      // Dispatch action - effect will handle API call, state update, and show toast\n      this.store.dispatch(forgotPassword({ data: { email: formValue.email } }));\n    } else {\n      Object.keys(this.forgotPasswordForm.controls).forEach(key => {\n        this.forgotPasswordForm.get(key)?.markAsTouched();\n      });\n    }\n  }\n\n  onClearError(): void {\n    this.store.dispatch(clearError());\n  }\n\n  getErrorMessage(controlName: string): string {\n    const control = this.forgotPasswordForm.get(controlName);\n    if (control?.errors && control.touched) {\n      if (control.errors['required']) {\n        return 'Это поле обязательно для заполнения';\n      }\n      if (control.errors['email']) {\n        return 'Неверный формат email';\n      }\n    }\n    return '';\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
