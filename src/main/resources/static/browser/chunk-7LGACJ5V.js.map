{
  "version": 3,
  "sources": ["src/app/core/services/bonuses.service.ts", "src/app/features/profile/pages/profile-page/profile-page.component.ts"],
  "sourcesContent": ["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../environments/environment';\n\nexport interface BonusHistoryItem {\n  id: number;\n  eventId: string;\n  clientId: string;\n  clientName: string;\n  eventType: 'GRANTED' | 'USED' | 'EXPIRED' | 'REVOKED';\n  bonusAmount: number;\n  createdAt: string;\n  paymentTxId: string | null;\n  bonusPercentage: number | null;\n  paymentAmount: number | null;\n  grantReason: string | null;\n  expiresAt: string | null;\n  originalPaymentAmount: number | null;\n  finalPaymentAmount: number | null;\n  revokeReason: string | null;\n  originalPaymentTxId: string | null; // Original payment that granted the bonus (for REVOKED events)\n  refundTxId: string | null; // Refund transaction that caused the revocation\n  revokedAt: string | null; // When the bonus was revoked\n}\n\nexport interface BonusHistoryResponse {\n  content: BonusHistoryItem[];\n  page: number;\n  size: number;\n  totalElements: number;\n  totalPages: number;\n  first: boolean;\n  last: boolean;\n}\n\nexport interface BonusBalance {\n  clientId: string;\n  clientName: string;\n  totalAccumulated: number;\n  totalUsed: number;\n  currentBalance: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BonusesService {\n  private readonly apiUrl = `${environment.apiUrl}/bonuses`;\n\n  constructor(private http: HttpClient) {}\n\n  /**\n   * Get client bonus history with pagination\n   */\n  getClientBonusHistory(clientId: string, page: number = 0, size: number = 100): Observable<BonusHistoryResponse> {\n    const params = new HttpParams()\n      .set('page', page.toString())\n      .set('size', size.toString());\n    return this.http.get<BonusHistoryResponse>(`${this.apiUrl}/client/${clientId}/history`, { params });\n  }\n\n  /**\n   * Get client bonus balance\n   */\n  getClientBonusBalance(clientId: string): Observable<BonusBalance> {\n    return this.http.get<BonusBalance>(`${this.apiUrl}/client/${clientId}/balance`);\n  }\n}\n", "import { Component, OnInit, AfterViewInit, inject, ChangeDetectorRef, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, ActivatedRoute, Router } from '@angular/router';\nimport { Title } from '@angular/platform-browser';\nimport { forkJoin, Subject, takeUntil } from 'rxjs';\nimport { PageHeaderService } from '../../../../core/services/page-header.service';\nimport { ClientsService, ClientDetails, UpdateClientRequest } from '../../../../core/services/clients.service';\nimport { PaymentsService, PaymentSearchResult } from '../../../../core/services/payments.service';\nimport { BonusesService, BonusHistoryItem } from '../../../../core/services/bonuses.service';\nimport { AnalyticsService } from '../../../../core/services/analytics.service';\nimport { ToastService } from '../../../../core/services/toast.service';\nimport { TransactionModalService } from '../../../../core/services/transaction-modal.service';\nimport { BadgeComponent } from '../../../../shared/components/badge/badge.component';\nimport { IconButtonComponent } from '../../../../shared/components/icon-button/icon-button.component';\nimport { RefundConfirmationModalComponent, Payment } from '../../../../shared/components/refund-confirmation-modal/refund-confirmation-modal.component';\nimport { PaginatedTableWrapperComponent } from '../../../../shared/components/paginated-table-wrapper/paginated-table-wrapper.component';\nimport { ModalComponent } from '../../../../shared/components/modal/modal.component';\nimport { LoaderComponent } from '../../../../shared/components/loader/loader.component';\nimport { ButtonComponent } from '../../../../shared/components/button/button.component';\nimport { NotFoundStateComponent } from '../../../../shared/components/not-found-state/not-found-state.component';\nimport { PaymentViewModalComponent } from '../../../../shared/components/payment-view-modal/payment-view-modal.component';\n\ninterface Client {\n  id: string;\n  firstName: string;\n  lastName: string;\n  phone: string;\n  email: string | null;\n  tags: string[];\n  comment: string | null;\n  type: 'individual' | 'business';\n}\n\ninterface PaymentItem {\n  id: string;\n  clientId: string;\n  clientName: string;\n  clientPhone: string;\n  amount: number;\n  bonusEarned: number;\n  bonusUsed: number;\n  bonusRevoked: number;\n  paymentMethod: 'cash' | 'card' | 'transfer';\n  isRefund: boolean;\n  date: string;\n  time: string;\n}\n\n@Component({\n  selector: 'app-profile-page',\n  standalone: true,\n  imports: [CommonModule, FormsModule, BadgeComponent, IconButtonComponent, RefundConfirmationModalComponent, RouterModule, PaginatedTableWrapperComponent, LoaderComponent, ButtonComponent, NotFoundStateComponent, PaymentViewModalComponent],\n  template: `\n    <div class=\"page-wrapper\">\n      <div class=\"profile-container-wrapper\">\n        <!-- Loading State -->\n        <div class=\"page-loading-container\" *ngIf=\"isLoading\">\n          <app-loader [visible]=\"true\" [overlay]=\"false\" type=\"logo\" size=\"large\"></app-loader>\n        </div>\n\n      <!-- Not Found State -->\n      <app-not-found-state\n        *ngIf=\"!isLoading && clientNotFound\"\n        title=\"Клиент не найден\"\n        description=\"К сожалению, запрашиваемый клиент не существует или был удален.\"\n        backLink=\"/clients\"\n        backText=\"Вернуться к клиентам\">\n      </app-not-found-state>\n\n        <div class=\"profile-container\" *ngIf=\"client && !isLoading && !clientNotFound\">\n        \n        <!-- Profile Header Card -->\n        <div class=\"profile-header-card\">\n          <!-- Delete Button -->\n          <button class=\"delete-client-btn\" (click)=\"openDeleteModal()\" title=\"Удалить клиента\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\">\n              <path d=\"M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6h14zM10 11v6M14 11v6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            </svg>\n          </button>\n          <div class=\"profile-header-content\">\n            <div class=\"avatar-wrapper\">\n              <div class=\"avatar-large\">\n                {{ getInitials() }}\n              </div>\n            </div>\n            <div class=\"profile-main-info\">\n              <div class=\"name-row\">\n                <h1 class=\"profile-name\">{{ getFullName() }}</h1>\n                <span class=\"client-type-badge\" [class.business]=\"client.type === 'business'\">\n                  <svg *ngIf=\"client.type === 'business'\" viewBox=\"0 0 24 24\" fill=\"none\">\n                    <path d=\"M20 7H4a2 2 0 00-2 2v10a2 2 0 002 2h16a2 2 0 002-2V9a2 2 0 00-2-2z\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                    <path d=\"M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                  </svg>\n                  <svg *ngIf=\"client.type === 'individual'\" viewBox=\"0 0 24 24\" fill=\"none\">\n                    <path d=\"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                    <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                  </svg>\n                  {{ client.type === 'business' ? 'Бизнес' : 'Индивидуальный' }}\n                </span>\n              </div>\n              <p class=\"profile-phone\">{{ client.phone }}</p>\n              <div class=\"tags-row\">\n                <div class=\"tags-container\">\n                  <span class=\"client-tag\" *ngFor=\"let tag of client.tags; let i = index\">\n                    {{ tag }}\n                    <button class=\"remove-tag-btn\" *ngIf=\"isEditingTags\" (click)=\"removeTag(i)\">\n                      <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                        <path d=\"M18 6L6 18M6 6l12 12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n                      </svg>\n                    </button>\n                  </span>\n                  <div class=\"add-tag-wrapper\" *ngIf=\"isEditingTags\">\n                    <input \n                      type=\"text\" \n                      [(ngModel)]=\"newTagInput\" \n                      (keydown.enter)=\"addTag()\"\n                      (focus)=\"showTagsDropdown = true\"\n                      placeholder=\"Новый тэг...\"\n                      class=\"add-tag-input\">\n                    <button class=\"add-tag-confirm-btn\" (click)=\"addTag()\" *ngIf=\"newTagInput.trim()\">\n                      <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                        <path d=\"M5 12l5 5L20 7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n                \n                <!-- Tags Dropdown -->\n                <div class=\"tags-dropdown\" *ngIf=\"isEditingTags && showTagsDropdown && availableTags.length > 0\">\n                  <div class=\"tags-dropdown-header\">\n                    <span>Популярные тэги</span>\n                    <button type=\"button\" class=\"tags-dropdown-close\" (click)=\"showTagsDropdown = false\">×</button>\n                  </div>\n                  <div class=\"tags-dropdown-list\">\n                    <button \n                      type=\"button\"\n                      class=\"tag-option\" \n                      *ngFor=\"let tag of getFilteredTags()\"\n                      (click)=\"addTagFromDropdown(tag)\">\n                      {{ tag }}\n                    </button>\n                    <div class=\"tags-dropdown-empty\" *ngIf=\"getFilteredTags().length === 0 && availableTags.length > 0\">\n                      Все популярные теги уже добавлены\n                    </div>\n                  </div>\n                </div>\n                <button class=\"edit-tags-btn\" *ngIf=\"!isEditingTags\" (click)=\"startEditTags()\">\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                    <path d=\"M12 5v14M5 12h14\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n                  </svg>\n                </button>\n                <div class=\"tags-actions\" *ngIf=\"isEditingTags\">\n                  <button class=\"save-tags-btn\" (click)=\"saveTags()\" [disabled]=\"isSavingTags\">\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                      <path d=\"M5 12l5 5L20 7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                    </svg>\n                  </button>\n                  <button class=\"cancel-tags-btn\" (click)=\"cancelEditTags()\" [disabled]=\"isSavingTags\">\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                      <path d=\"M18 6L6 18M6 6l12 12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Comment Card -->\n        <div class=\"comment-card\">\n          <div class=\"comment-header\">\n            <div class=\"comment-title\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n              <span>Комментарий о клиенте</span>\n            </div>\n            <button class=\"edit-comment-btn\" *ngIf=\"!isEditingComment\" (click)=\"startEditComment()\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                <path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            </button>\n            <div class=\"comment-actions\" *ngIf=\"isEditingComment\">\n              <button class=\"save-btn\" (click)=\"saveComment()\" [disabled]=\"isSavingComment\">Сохранить</button>\n              <button class=\"cancel-btn\" (click)=\"cancelEditComment()\" [disabled]=\"isSavingComment\">Отмена</button>\n            </div>\n          </div>\n          <div class=\"comment-body\">\n            <p *ngIf=\"!isEditingComment\" class=\"comment-text\">{{ client.comment || 'Нет комментария' }}</p>\n            <textarea \n              *ngIf=\"isEditingComment\" \n              [(ngModel)]=\"editedComment\" \n              class=\"comment-textarea\"\n              placeholder=\"Введите комментарий о клиенте...\"\n              rows=\"3\"></textarea>\n          </div>\n        </div>\n\n        <!-- Stats Cards -->\n        <div class=\"stats-grid\">\n          <div class=\"stat-card\">\n            <div class=\"stat-icon transactions\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                <rect x=\"9\" y=\"3\" width=\"6\" height=\"4\" rx=\"1\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <path d=\"M9 12h6M9 16h6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n              </svg>\n            </div>\n            <div class=\"stat-info\">\n              <span class=\"stat-value\">{{ clientTotals.totalPayments }}</span>\n              <span class=\"stat-label\">Транзакций</span>\n            </div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-icon total-sum\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            </div>\n            <div class=\"stat-info\">\n              <span class=\"stat-value\">{{ formatAmount(clientTotals.totalRevenue) }} ₸</span>\n              <span class=\"stat-label\">Общая сумма</span>\n            </div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-icon bonuses-earned\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            </div>\n            <div class=\"stat-info\">\n              <span class=\"stat-value\">{{ formatAmount(clientTotals.totalBonusesGranted) }}</span>\n              <span class=\"stat-label\">Бонусов начислено</span>\n            </div>\n          </div>\n          <div class=\"stat-card\">\n            <div class=\"stat-icon bonuses-used\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <path d=\"M8 12l3 3 5-6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            </div>\n            <div class=\"stat-info\">\n              <span class=\"stat-value\">{{ formatAmount(clientTotals.totalBonusesUsed) }}</span>\n              <span class=\"stat-label\">Бонусов использовано</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Profile Details -->\n        <div class=\"details-grid\">\n          <!-- Personal Info Card -->\n          <div class=\"details-card\">\n            <div class=\"card-header\">\n              <div class=\"card-header-left\">\n                <div class=\"card-icon\">\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                    <path d=\"M20 21v-2a4 4 0 00-4-4H8a4 4 0 00-4 4v2M12 11a4 4 0 100-8 4 4 0 000 8z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                  </svg>\n                </div>\n                <h3 class=\"card-title\">Личные данные</h3>\n              </div>\n              <button class=\"card-edit-btn\" *ngIf=\"!isEditingPersonal\" (click)=\"startEditPersonal()\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                  <path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n              </button>\n              <div class=\"card-actions\" *ngIf=\"isEditingPersonal\">\n                <button class=\"save-btn\" (click)=\"savePersonal()\" [disabled]=\"isSavingPersonal\">Сохранить</button>\n                <button class=\"cancel-btn\" (click)=\"cancelEditPersonal()\" [disabled]=\"isSavingPersonal\">Отмена</button>\n              </div>\n            </div>\n            <div class=\"info-list\">\n              <div class=\"info-row\">\n                <span class=\"info-label\">Имя</span>\n                <span class=\"info-value\" *ngIf=\"!isEditingPersonal\">{{ client.firstName }}</span>\n                <input class=\"info-input\" *ngIf=\"isEditingPersonal\" [(ngModel)]=\"editedPersonal.firstName\">\n              </div>\n              <div class=\"info-row\">\n                <span class=\"info-label\">Фамилия</span>\n                <span class=\"info-value\" *ngIf=\"!isEditingPersonal\">{{ client.lastName }}</span>\n                <input class=\"info-input\" *ngIf=\"isEditingPersonal\" [(ngModel)]=\"editedPersonal.lastName\">\n              </div>\n              <div class=\"info-row\">\n                <span class=\"info-label\">Тип клиента</span>\n                <span class=\"info-value\" *ngIf=\"!isEditingPersonal\">{{ client.type === 'business' ? 'Бизнес' : 'Индивидуальный' }}</span>\n                <select class=\"info-select\" *ngIf=\"isEditingPersonal\" [(ngModel)]=\"editedPersonal.type\">\n                  <option value=\"individual\">Индивидуальный</option>\n                  <option value=\"business\">Бизнес</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          <!-- Contact Info Card -->\n          <div class=\"details-card\">\n            <div class=\"card-header\">\n              <div class=\"card-header-left\">\n                <div class=\"card-icon\">\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                    <path d=\"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                  </svg>\n                </div>\n                <h3 class=\"card-title\">Контакты</h3>\n              </div>\n              <button class=\"card-edit-btn\" *ngIf=\"!isEditingContacts\" (click)=\"startEditContacts()\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                  <path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n              </button>\n              <div class=\"card-actions\" *ngIf=\"isEditingContacts\">\n                <button class=\"save-btn\" (click)=\"saveContacts()\" [disabled]=\"isSavingContacts\">Сохранить</button>\n                <button class=\"cancel-btn\" (click)=\"cancelEditContacts()\" [disabled]=\"isSavingContacts\">Отмена</button>\n              </div>\n            </div>\n            <div class=\"info-list\">\n              <div class=\"info-row\">\n                <span class=\"info-label\">Телефон</span>\n                <span class=\"info-value\" *ngIf=\"!isEditingContacts\">{{ client.phone }}</span>\n                <input class=\"info-input\" *ngIf=\"isEditingContacts\" [(ngModel)]=\"editedContacts.phone\" type=\"tel\">\n              </div>\n              <div class=\"info-row\">\n                <span class=\"info-label\">Email</span>\n                <span class=\"info-value email\" *ngIf=\"!isEditingContacts\">{{ client.email || '—' }}</span>\n                <input class=\"info-input\" *ngIf=\"isEditingContacts\" [(ngModel)]=\"editedContacts.email\" type=\"email\" [disabled]=\"true\" placeholder=\"Email недоступен для редактирования\">\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Bonuses Details Card -->\n        <div class=\"bonuses-details-card\">\n          <div class=\"card-header\" (click)=\"toggleBonusesExpanded()\">\n            <div class=\"card-header-left\">\n              <div class=\"card-icon\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n              </div>\n              <div class=\"card-title-section\">\n                <h3 class=\"card-title\">Детали бонусов</h3>\n                <div class=\"bonuses-stats\">\n                  <div class=\"stat-item\">\n                    <span class=\"stat-label\">Осталось:</span>\n                    <span class=\"stat-value active\">{{ formatAmount(bonusBalance) }} ₸</span>\n                  </div>\n                  <div class=\"stat-item\">\n                    <span class=\"stat-label\">Использовано:</span>\n                    <span class=\"stat-value used\">{{ formatAmount(getUsedBonusesTotal()) }} ₸</span>\n                  </div>\n                  <div class=\"stat-item\">\n                    <span class=\"stat-label\">Сгорело:</span>\n                    <span class=\"stat-value expired\">{{ formatAmount(getExpiredBonusesTotal()) }} ₸</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <button class=\"collapse-btn\" [class.collapsed]=\"!isBonusesExpanded\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M6 9l6 6 6-6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n            </button>\n          </div>\n          <div class=\"bonuses-content\" *ngIf=\"isBonusesExpanded\">\n            <app-paginated-table-wrapper\n              [paginationEnabled]=\"true\"\n              [data]=\"bonusesDetails\"\n              [defaultPageSize]=\"10\"\n              paginationKey=\"bonuses\"\n              #paginatedBonuses>\n              <div class=\"table-container\" *ngIf=\"bonusesDetails.length > 0\">\n                <table class=\"bonuses-table\">\n                  <thead>\n                    <tr>\n                      <th>Тип бонуса</th>\n                      <th>Сумма</th>\n                      <th>Начислено</th>\n                      <th>Истекает</th>\n                      <th>Осталось</th>\n                      <th>Действия</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <ng-container *ngFor=\"let bonus of paginatedBonuses.paginatedData\">\n                    <tr\n                        [class.expired]=\"getDaysUntilExpiry(bonus.expiresAt) <= 0 && !bonus.used && bonus.type !== 'refund'\"\n                        [class.expiring-soon]=\"getDaysUntilExpiry(bonus.expiresAt) <= 7 && getDaysUntilExpiry(bonus.expiresAt) > 0\"\n                        [class.used]=\"bonus.used\"\n                        [class.refund]=\"bonus.type === 'refund'\">\n                      <td>\n                        <span class=\"bonus-type-badge\" [class]=\"'bonus-type-' + bonus.type\">\n                          {{ getBonusTypeLabel(bonus.type) }}\n                        </span>\n                      </td>\n                      <td>\n                        <div class=\"bonus-info\">\n                          <app-badge\n                            *ngIf=\"bonus.used\"\n                            badgeType=\"bonusUsed\"\n                            size=\"medium\"\n                            icon=\"check\"\n                            class=\"bonus-badge\">\n                            -{{ formatAmount(bonus.amount) }}\n                          </app-badge>\n                          <app-badge\n                            *ngIf=\"bonus.type === 'refund'\"\n                            badgeType=\"refund\"\n                            size=\"medium\"\n                            icon=\"refund\"\n                            class=\"bonus-badge\">\n                            {{ formatAmount(bonus.amount) }}\n                          </app-badge>\n                          <app-badge\n                            *ngIf=\"bonus.type !== 'refund' && !bonus.used && getDaysUntilExpiry(bonus.expiresAt) <= 0\"\n                            badgeType=\"bonusExpired\"\n                            size=\"medium\"\n                            icon=\"expired\"\n                            class=\"bonus-badge\">\n                            {{ formatAmount(bonus.amount) }}\n                          </app-badge>\n                          <app-badge\n                            *ngIf=\"bonus.type !== 'refund' && !bonus.used && getDaysUntilExpiry(bonus.expiresAt) > 0\"\n                            badgeType=\"bonusGranted\"\n                            size=\"medium\"\n                            icon=\"star\"\n                            class=\"bonus-badge\">\n                            +{{ formatAmount(bonus.amount) }}\n                          </app-badge>\n                        </div>\n                      </td>\n                      <td>\n                        <span class=\"bonus-date\">{{ formatDate(bonus.issuedAt) }}</span>\n                      </td>\n                      <td>\n                        <span class=\"bonus-expiry-date\">{{ formatDate(bonus.expiresAt) }}</span>\n                      </td>\n                      <td>\n                        <app-badge\n                          *ngIf=\"bonus.used\"\n                          badgeType=\"bonusUsed\"\n                          size=\"medium\"\n                          icon=\"used\">\n                          Использовано\n                        </app-badge>\n                        <app-badge\n                          *ngIf=\"bonus.type === 'refund'\"\n                          badgeType=\"refund\"\n                          size=\"medium\"\n                          icon=\"refund\">\n                          Отозвано\n                        </app-badge>\n                        <app-badge\n                          *ngIf=\"bonus.type !== 'refund' && !bonus.used && getDaysUntilExpiry(bonus.expiresAt) > 0\"\n                          [badgeType]=\"getDaysUntilExpiry(bonus.expiresAt) <= 7 ? 'warning' : 'success'\"\n                          size=\"medium\">\n                          {{ getDaysUntilExpiry(bonus.expiresAt) }} {{ getDaysText(getDaysUntilExpiry(bonus.expiresAt)) }}\n                        </app-badge>\n                        <app-badge\n                          *ngIf=\"bonus.type !== 'refund' && !bonus.used && getDaysUntilExpiry(bonus.expiresAt) <= 0\"\n                          badgeType=\"bonusExpired\"\n                          size=\"medium\"\n                          icon=\"expired\">\n                          Истек\n                        </app-badge>\n                      </td>\n                      <td>\n                        <div class=\"actions-cell\">\n                          <app-icon-button\n                            iconButtonType=\"ghost\"\n                            size=\"medium\"\n                            class = \"view-svg-btn\"\n                            [tooltip]=\"isBonusRowExpanded(bonus.id) ? 'Скрыть детали' : 'Показать детали'\"\n                            (onClick)=\"toggleBonusRow(bonus.id)\">\n                            <svg [class.rotated]=\"isBonusRowExpanded(bonus.id)\" viewBox=\"0 0 24 24\" fill=\"none\">\n                              <path d=\"M6 9l6 6 6-6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                            </svg>\n                          </app-icon-button>\n                        </div>\n                      </td>\n                    </tr>\n                    <tr *ngIf=\"isBonusRowExpanded(bonus.id)\" class=\"bonus-details-row\">\n                      <td colspan=\"6\" class=\"bonus-details-cell\">\n                        <div class=\"bonus-details-content\">\n                          <div class=\"bonus-details-grid\">\n                            <div class=\"refund-reason-section\">\n                              <span class=\"refund-reason-label\">Причина возврата:</span>\n                              <div class=\"refund-reason-text\" *ngIf=\"bonus.refundReason\">\n                                {{ bonus.refundReason }}\n                              </div>\n                              <div class=\"refund-reason-empty\" *ngIf=\"!bonus.refundReason\">\n                                Причина не указана\n                              </div>\n                            </div>\n                            <div class=\"bonus-initiated-by-section\">\n                              <span class=\"refund-reason-label\">Инициатор:</span>\n                              <a *ngIf=\"bonus.initiatedBy && bonus.initiatedById\" \n                                 [routerLink]=\"['/users', bonus.initiatedById]\" \n                                 class=\"bonus-initiated-by-link\">\n                                {{ bonus.initiatedBy }}\n                              </a>\n                              <div class=\"bonus-initiated-by-text\" *ngIf=\"bonus.initiatedBy && !bonus.initiatedById\">\n                                {{ bonus.initiatedBy }}\n                              </div>\n                              <div class=\"bonus-initiated-by-empty\" *ngIf=\"!bonus.initiatedBy\">\n                                Не указан\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </td>\n                    </tr>\n                  </ng-container>\n                  </tbody>\n                </table>\n              </div>\n              <div class=\"empty-state\" *ngIf=\"bonusesDetails.length === 0\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n                <span>Нет активных бонусов</span>\n              </div>\n            </app-paginated-table-wrapper>\n          </div>\n\n          <!-- Mobile Bonus Cards -->\n          <div class=\"mobile-bonuses-cards\" *ngIf=\"isBonusesExpanded && bonusesDetails.length > 0\">\n            <div class=\"mobile-bonus-card\" *ngFor=\"let bonus of bonusesDetails\">\n              <div class=\"mobile-bonus-card-header\" (click)=\"toggleMobileBonusCard(bonus.id)\">\n                <div class=\"mobile-bonus-card-main\">\n                  <div>\n                    <div class=\"mobile-bonus-type\">{{ getBonusTypeLabel(bonus.type) }}</div>\n                    <div class=\"mobile-bonus-amount\">\n                      <span *ngIf=\"bonus.used\">-</span>\n                      <span *ngIf=\"bonus.type === 'refund'\"></span>\n                      <span *ngIf=\"bonus.type !== 'refund' && !bonus.used\">+</span>\n                      {{ formatAmount(bonus.amount) }} ₸\n                    </div>\n                  </div>\n                </div>\n                <div class=\"mobile-bonus-expand\" [class.expanded]=\"isMobileBonusExpanded(bonus.id)\">\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                    <path d=\"M6 9l6 6 6-6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                  </svg>\n                </div>\n              </div>\n              <div class=\"mobile-bonus-details\" [class.expanded]=\"isMobileBonusExpanded(bonus.id)\">\n                <div class=\"mobile-bonus-detail-row\">\n                  <span class=\"mobile-bonus-detail-label\">Начислено:</span>\n                  <span class=\"mobile-bonus-detail-value\">{{ formatDate(bonus.issuedAt) }}</span>\n                </div>\n                <div class=\"mobile-bonus-detail-row\">\n                  <span class=\"mobile-bonus-detail-label\">Истекает:</span>\n                  <span class=\"mobile-bonus-detail-value\">{{ formatDate(bonus.expiresAt) }}</span>\n                </div>\n                <div class=\"mobile-bonus-detail-row\">\n                  <span class=\"mobile-bonus-detail-label\">Статус:</span>\n                  <span class=\"mobile-bonus-detail-value\">\n                    <span *ngIf=\"bonus.used\">Использовано</span>\n                    <span *ngIf=\"bonus.type === 'refund'\">Отозвано</span>\n                    <span *ngIf=\"bonus.type !== 'refund' && !bonus.used && getDaysUntilExpiry(bonus.expiresAt) > 0\">\n                      {{ getDaysUntilExpiry(bonus.expiresAt) }} {{ getDaysText(getDaysUntilExpiry(bonus.expiresAt)) }}\n                    </span>\n                    <span *ngIf=\"bonus.type !== 'refund' && !bonus.used && getDaysUntilExpiry(bonus.expiresAt) <= 0\">Истек</span>\n                  </span>\n                </div>\n                <div class=\"mobile-bonus-detail-row\" *ngIf=\"bonus.refundReason\">\n                  <span class=\"mobile-bonus-detail-label\">Причина возврата:</span>\n                  <span class=\"mobile-bonus-detail-value\">{{ bonus.refundReason }}</span>\n                </div>\n                <div class=\"mobile-bonus-detail-row\" *ngIf=\"bonus.initiatedBy\">\n                  <span class=\"mobile-bonus-detail-label\">Инициатор:</span>\n                  <span class=\"mobile-bonus-detail-value\">\n                    <a *ngIf=\"bonus.initiatedById\" [routerLink]=\"['/users', bonus.initiatedById]\">{{ bonus.initiatedBy }}</a>\n                    <span *ngIf=\"!bonus.initiatedById\">{{ bonus.initiatedBy }}</span>\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Payments Table Card (Full Width) -->\n        <div class=\"payments-card\">\n          <div class=\"card-header\">\n            <div class=\"card-header-left\">\n              <div class=\"card-icon\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M22 12h-4l-3 9L9 3l-3 9H2\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n              </div>\n              <h3 class=\"card-title\">История платежей</h3>\n            </div>\n            <span class=\"payments-count\">{{ payments.length }} платежей</span>\n          </div>\n\n          <!-- Payments Table with Pagination -->\n          <app-paginated-table-wrapper\n            [paginationEnabled]=\"true\"\n            [data]=\"payments\"\n            [defaultPageSize]=\"15\"\n            paginationKey=\"payments\"\n            #paginatedTable>\n            \n            <div class=\"table-container\">\n              <table class=\"payments-table\">\n                <thead>\n                  <tr>\n                    <th class=\"th-id\">ID платежа</th>\n                    <th class=\"th-client\">Клиент</th>\n                    <th class=\"th-amount\">Сумма</th>\n                    <th class=\"th-bonuses\">Бонусы</th>\n                    <th class=\"th-method\">Способ оплаты</th>\n                    <th class=\"th-status\">Статус</th>\n                    <th class=\"th-date\">Дата и время</th>\n                    <th class=\"th-actions\">Действия</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr *ngFor=\"let payment of paginatedTable.paginatedData\" class=\"payment-row\">\n                  <td class=\"td-id\">\n                    <span class=\"payment-id clickable\" (click)=\"openPaymentView(payment.id)\">{{ payment.id }}</span>\n                  </td>\n                  <td class=\"td-client\">\n                    <div class=\"client-cell\">\n                      <div class=\"client-avatar\">\n                        {{ getInitials(payment.clientName || '') }}\n                      </div>\n                      <div class=\"client-info\">\n                        <a [routerLink]=\"['/clients', payment.clientId]\" class=\"client-name-link\">\n                          <span class=\"client-name\">{{ payment.clientName || '—' }}</span>\n                        </a>\n                        <span class=\"client-phone\">{{ payment.clientPhone || '—' }}</span>\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"td-amount\">\n                    <span class=\"amount-value\">{{ formatAmount(payment.amount) }} ₸</span>\n                  </td>\n                  <td class=\"td-bonuses\">\n                    <div class=\"bonus-info\">\n                      <app-badge \n                        *ngIf=\"payment.bonusEarned > 0\"\n                        badgeType=\"bonusGranted\" \n                        size=\"medium\"\n                        icon=\"star\"\n                        class=\"bonus-badge\">\n                        +{{ formatAmount(payment.bonusEarned) }}\n                      </app-badge>\n                      <app-badge \n                        *ngIf=\"payment.bonusUsed > 0\"\n                        badgeType=\"bonusUsed\" \n                        size=\"medium\"\n                        icon=\"check\"\n                        class=\"bonus-badge\">\n                        -{{ formatAmount(payment.bonusUsed) }}\n                      </app-badge>\n                      <app-badge \n                        *ngIf=\"payment.bonusRevoked > 0\"\n                        badgeType=\"refund\" \n                        size=\"medium\"\n                        icon=\"refund\"\n                        class=\"bonus-badge\">\n                        -{{ formatAmount(payment.bonusRevoked) }}\n                      </app-badge>\n                      <span class=\"bonus-none\" *ngIf=\"payment.bonusEarned === 0 && payment.bonusUsed === 0 && payment.bonusRevoked === 0\">—</span>\n                    </div>\n                  </td>\n                  <td class=\"td-method\">\n                    <app-badge \n                      badgeType=\"paymentMethod\" \n                      size=\"medium\"\n                      [paymentMethod]=\"getPaymentMethodForBadge(payment.paymentMethod)\">\n                    </app-badge>\n                  </td>\n                  <td class=\"td-status\">\n                    <app-badge \n                      [badgeType]=\"payment.isRefund ? 'refund' : 'payment'\" \n                      size=\"medium\"\n                      [icon]=\"payment.isRefund ? 'refund' : 'payment'\">\n                      {{ payment.isRefund ? 'Возврат' : 'Оплачено' }}\n                    </app-badge>\n                  </td>\n                  <td class=\"td-date\">\n                    <div class=\"date-info\">\n                      <span class=\"date-text\">{{ payment.date }}</span>\n                      <span class=\"time-text\">{{ payment.time }}</span>\n                    </div>\n                  </td>\n                  <td class=\"td-actions\">\n                    <div class=\"actions-cell\">\n                      <app-icon-button\n                        iconButtonType=\"refund\"\n                        size=\"small\"\n                        tooltip=\"Возврат\"\n                        [disabled]=\"payment.isRefund\"\n                        (onClick)=\"openRefundModal(payment)\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                          <path d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                        </svg>\n                      </app-icon-button>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n\n            <div class=\"empty-state\" *ngIf=\"payments.length === 0\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <rect x=\"9\" y=\"3\" width=\"6\" height=\"4\" rx=\"1\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n              </svg>\n              <span>Платежи не найдены</span>\n            </div>\n          </div>\n          </app-paginated-table-wrapper>\n\n          <!-- Mobile Payment Cards -->\n          <div class=\"mobile-payments-cards\" *ngIf=\"payments.length > 0\">\n            <div class=\"mobile-payment-card\" *ngFor=\"let payment of paginatedTable.paginatedData\">\n              <div class=\"mobile-payment-card-header\" (click)=\"toggleMobilePaymentCard(payment.id)\">\n                <div class=\"mobile-payment-card-main\">\n                  <div>\n                    <div class=\"mobile-payment-id clickable\" (click)=\"openPaymentView(payment.id); $event.stopPropagation()\">{{ payment.id }}</div>\n                    <div class=\"mobile-payment-amount\">{{ formatAmount(payment.amount) }} ₸</div>\n                  </div>\n                </div>\n                <div class=\"mobile-payment-expand\" [class.expanded]=\"isMobilePaymentExpanded(payment.id)\">\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                    <path d=\"M6 9l6 6 6-6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                  </svg>\n                </div>\n              </div>\n              <div class=\"mobile-payment-details\" [class.expanded]=\"isMobilePaymentExpanded(payment.id)\">\n                <div class=\"mobile-payment-detail-row\">\n                  <span class=\"mobile-payment-detail-label\">Дата:</span>\n                  <span class=\"mobile-payment-detail-value\">{{ payment.date }}</span>\n                </div>\n                <div class=\"mobile-payment-detail-row\">\n                  <span class=\"mobile-payment-detail-label\">Время:</span>\n                  <span class=\"mobile-payment-detail-value\">{{ payment.time }}</span>\n                </div>\n                <div class=\"mobile-payment-detail-row\" *ngIf=\"payment.bonusEarned > 0\">\n                  <span class=\"mobile-payment-detail-label\">Бонусов начислено:</span>\n                  <span class=\"mobile-payment-detail-value\">+{{ formatAmount(payment.bonusEarned) }}</span>\n                </div>\n                <div class=\"mobile-payment-detail-row\" *ngIf=\"payment.bonusUsed > 0\">\n                  <span class=\"mobile-payment-detail-label\">Бонусов использовано:</span>\n                  <span class=\"mobile-payment-detail-value\">-{{ formatAmount(payment.bonusUsed) }}</span>\n                </div>\n                <div class=\"mobile-payment-detail-row\">\n                  <span class=\"mobile-payment-detail-label\">Способ оплаты:</span>\n                  <span class=\"mobile-payment-detail-value\">{{ getPaymentMethodLabel(payment.paymentMethod) }}</span>\n                </div>\n                <div class=\"mobile-payment-detail-row\">\n                  <span class=\"mobile-payment-detail-label\">Статус:</span>\n                  <span class=\"mobile-payment-detail-value\">{{ payment.isRefund ? 'Возврат' : 'Оплачено' }}</span>\n                </div>\n                <div class=\"mobile-payment-detail-row\" *ngIf=\"!payment.isRefund\">\n                  <button class=\"mobile-refund-btn\" (click)=\"openRefundModal(payment); $event.stopPropagation()\">\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                      <path d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                    </svg>\n                    Возврат\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <!-- Refund Confirmation Modal -->\n    <app-refund-confirmation-modal\n      [visible]=\"showRefundModal\"\n      [payment]=\"selectedPaymentForRefund\"\n      (visibleChange)=\"closeRefundModal()\"\n      (confirm)=\"confirmRefund($event.refundReason || '')\">\n    </app-refund-confirmation-modal>\n\n    <!-- Payment View Modal -->\n    <app-payment-view-modal\n      [visible]=\"showPaymentViewModal\"\n      [paymentTxId]=\"selectedPaymentTxId\"\n      [paymentSearchResult]=\"selectedPaymentSearchResult\"\n      (visibleChange)=\"showPaymentViewModal = $event\"\n      (paymentUpdated)=\"onPaymentUpdated()\">\n    </app-payment-view-modal>\n\n    <!-- Delete Client Confirmation Modal -->\n    <div class=\"delete-modal-overlay\" *ngIf=\"showDeleteModal\" (click)=\"closeDeleteModal()\">\n      <div class=\"delete-modal\" (click)=\"$event.stopPropagation()\">\n        <!-- Step 1: Initial confirmation -->\n        <div class=\"delete-modal-content\" *ngIf=\"deleteStep === 1\">\n          <div class=\"delete-modal-icon warning\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\">\n              <path d=\"M12 9v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            </svg>\n          </div>\n          <h3 class=\"delete-modal-title\">Удалить клиента?</h3>\n          <p class=\"delete-modal-description\">\n            Вы уверены, что хотите удалить клиента <strong>{{ getFullName() }}</strong>?<br>\n            Это действие нельзя отменить. Все данные клиента, включая историю платежей и бонусов, будут удалены.\n          </p>\n          <div class=\"delete-modal-actions\">\n            <button class=\"delete-modal-btn cancel\" (click)=\"closeDeleteModal()\">Отмена</button>\n            <button class=\"delete-modal-btn confirm\" (click)=\"proceedToDeleteStep2()\">Да, удалить</button>\n          </div>\n        </div>\n\n        <!-- Step 2: Type confirmation word -->\n        <div class=\"delete-modal-content\" *ngIf=\"deleteStep === 2\">\n          <div class=\"delete-modal-icon danger\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\">\n              <path d=\"M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6h14zM10 11v6M14 11v6\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            </svg>\n          </div>\n          <h3 class=\"delete-modal-title\">Подтвердите удаление</h3>\n          <p class=\"delete-modal-description\">\n            Для подтверждения удаления введите слово <strong class=\"confirm-word\">удалить</strong>\n          </p>\n          <input \n            type=\"text\" \n            class=\"delete-confirm-input\"\n            [(ngModel)]=\"deleteConfirmationWord\"\n            placeholder=\"Введите слово для подтверждения\"\n            (keydown.enter)=\"confirmDelete()\">\n          <div class=\"delete-modal-actions\">\n            <button class=\"delete-modal-btn cancel\" (click)=\"closeDeleteModal()\">Отмена</button>\n            <button \n              class=\"delete-modal-btn delete\" \n              [disabled]=\"deleteConfirmationWord !== 'удалить' || isDeletingClient\"\n              (click)=\"confirmDelete()\">\n              <span *ngIf=\"!isDeletingClient\">Удалить навсегда</span>\n              <span *ngIf=\"isDeletingClient\">Удаление...</span>\n            </button>\n          </div>\n        </div>\n      </div>\n      </div>\n    </div>\n\n  `,\n  styles: [`\n    .page-wrapper {\n      min-height: 100%;\n      margin: -2rem;\n      padding: 2rem;\n      background: linear-gradient(180deg, #f0fdf4 0%, #f8fafc 50%, #f8fafc 100%);\n    }\n\n    .profile-container-wrapper {\n      position: relative;\n      min-height: 400px;\n    }\n\n    .profile-container {\n      max-width: 1200px;\n      margin: 0 auto;\n    }\n\n    .page-loading-container {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      min-height: 60vh;\n      width: 100%;\n    }\n\n    /* Profile Header Card */\n    .profile-header-card {\n      background: white;\n      border-radius: 16px;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      border: 1px solid #e5e7eb;\n      margin-bottom: 1rem;\n      position: relative;\n    }\n\n    .profile-header-content {\n      display: flex;\n      align-items: center;\n      gap: 1.5rem;\n      padding: 1.5rem 2rem;\n    }\n\n    .avatar-wrapper {\n      position: relative;\n      flex-shrink: 0;\n    }\n\n    .avatar-large {\n      width: 80px;\n      height: 80px;\n      border-radius: 50%;\n      background: linear-gradient(135deg, #16A34A, #22c55e);\n      color: white;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 1.5rem;\n      font-weight: 600;\n      letter-spacing: 1px;\n    }\n\n    .status-indicator {\n      position: absolute;\n      bottom: 2px;\n      right: 2px;\n      width: 14px;\n      height: 14px;\n      border-radius: 50%;\n      background: #94a3b8;\n      border: 2px solid white;\n    }\n\n    .status-indicator.active {\n      background: #22c55e;\n    }\n\n    .profile-main-info {\n      flex: 1;\n      min-width: 0;\n      position: relative;\n    }\n\n    /* Delete Client Button */\n    .delete-client-btn {\n      position: absolute;\n      top: 1rem;\n      right: 1rem;\n      background: #fef2f2;\n      border: 1px solid #fecaca;\n      width: 36px;\n      height: 36px;\n      border-radius: 8px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      color: #dc2626;\n      transition: all 0.2s ease;\n      z-index: 10;\n    }\n\n    .delete-client-btn:hover {\n      background: #fee2e2;\n      border-color: #fca5a5;\n      color: #b91c1c;\n    }\n\n    .delete-client-btn svg {\n      width: 18px;\n      height: 18px;\n    }\n\n    .name-row {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      margin-bottom: 0.25rem;\n    }\n\n    .profile-name {\n      font-size: 1.35rem;\n      font-weight: 600;\n      color: #111827;\n      margin: 0;\n    }\n\n    .client-type-badge {\n      display: inline-flex;\n      align-items: center;\n      gap: 0.35rem;\n      padding: 0.25rem 0.6rem;\n      background: #f0fdf4;\n      color: #16A34A;\n      border-radius: 6px;\n      font-size: 0.75rem;\n      font-weight: 500;\n    }\n\n    .client-type-badge.business {\n      background: #dbeafe;\n      color: #1d4ed8;\n    }\n\n    .client-type-badge svg {\n      width: 14px;\n      height: 14px;\n    }\n\n    .profile-phone {\n      font-size: 0.9rem;\n      color: #6b7280;\n      margin: 0 0 0.75rem;\n    }\n\n    .tags-row {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n    }\n\n    .tags-container {\n      display: flex;\n      gap: 0.5rem;\n      flex-wrap: wrap;\n      align-items: center;\n    }\n\n    .client-tag {\n      display: inline-flex;\n      align-items: center;\n      gap: 0.35rem;\n      padding: 0.25rem 0.75rem;\n      background: #dcfce7;\n      color: #16A34A;\n      border-radius: 20px;\n      font-size: 0.8rem;\n      font-weight: 500;\n    }\n\n    .remove-tag-btn {\n      background: none;\n      border: none;\n      padding: 0;\n      cursor: pointer;\n      color: #16A34A;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 14px;\n      height: 14px;\n      border-radius: 50%;\n      transition: all 0.15s;\n    }\n\n    .remove-tag-btn:hover {\n      background: rgba(21, 128, 61, 0.2);\n    }\n\n    .remove-tag-btn svg {\n      width: 10px;\n      height: 10px;\n    }\n\n    .add-tag-wrapper {\n      display: flex;\n      align-items: center;\n      gap: 0.25rem;\n    }\n\n    .add-tag-input {\n      padding: 0.35rem 0.75rem;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 20px;\n      font-size: 0.8rem;\n      width: 110px;\n      outline: none;\n      background: linear-gradient(to bottom, #ffffff, #f8fafc);\n      color: #374151;\n      font-weight: 500;\n      transition: all 0.2s ease;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n    }\n\n    .add-tag-input:hover {\n      border-color: #cbd5e1;\n    }\n\n    .add-tag-input:focus {\n      border-color: #22c55e;\n      background: white;\n      box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n    }\n\n    .add-tag-input::placeholder {\n      color: #94a3b8;\n      font-weight: 400;\n    }\n\n    .add-tag-confirm-btn {\n      background: #16A34A;\n      border: none;\n      width: 22px;\n      height: 22px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      color: white;\n    }\n\n    .add-tag-confirm-btn svg {\n      width: 12px;\n      height: 12px;\n    }\n\n    .edit-tags-btn {\n      background: #f0fdf4;\n      border: 1px dashed #16A34A;\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      color: #16A34A;\n      transition: all 0.15s;\n    }\n\n    .edit-tags-btn:hover {\n      background: #dcfce7;\n    }\n\n    .edit-tags-btn svg {\n      width: 14px;\n      height: 14px;\n    }\n\n    .tags-actions {\n      display: flex;\n      gap: 0.35rem;\n    }\n\n    .save-tags-btn, .cancel-tags-btn {\n      background: none;\n      border: none;\n      width: 28px;\n      height: 28px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      transition: all 0.15s;\n    }\n\n    .save-tags-btn {\n      background: #16A34A;\n      color: white;\n    }\n\n    .save-tags-btn:hover {\n      background: #14532d;\n    }\n\n    .cancel-tags-btn {\n      background: #f3f4f6;\n      color: #6b7280;\n    }\n\n    .cancel-tags-btn:hover {\n      background: #e5e7eb;\n    }\n\n    .save-tags-btn svg, .cancel-tags-btn svg {\n      width: 14px;\n      height: 14px;\n    }\n\n    /* Tags Dropdown */\n    .tags-dropdown {\n      position: absolute;\n      top: 100%;\n      left: 0;\n      width: 500px;\n      margin-top: 6px;\n      background: white;\n      border: 1px solid #e2e8f0;\n      border-radius: 10px;\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n      overflow: hidden;\n      z-index: 100;\n      animation: dropdownFadeIn 0.15s ease;\n    }\n\n    @keyframes dropdownFadeIn {\n      from {\n        opacity: 0;\n        transform: translateY(-4px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    .tags-dropdown-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 6px 10px;\n      background: #f8fafc;\n      border-bottom: 1px solid #e2e8f0;\n      font-size: 0.7rem;\n      font-weight: 700;\n      color: #64748b;\n    }\n\n    .tags-dropdown-close {\n      background: none;\n      border: none;\n      font-size: 1rem;\n      color: #94a3b8;\n      cursor: pointer;\n      padding: 0;\n      line-height: 1;\n      width: 18px;\n      height: 18px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 4px;\n      transition: all 0.15s;\n    }\n\n    .tags-dropdown-close:hover {\n      color: #ef4444;\n      background: #fef2f2;\n    }\n\n    .tags-dropdown-list {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 6px;\n      padding: 8px;\n      max-height: 80px;\n      overflow-y: auto;\n    }\n\n    .tag-option {\n      padding: 0.25rem 0.6rem;\n      background: #dcfce7;\n      border: 1px solid #bbf7d0;\n      color: #16A34A;\n      border-radius: 16px;\n      font-size: 0.75rem;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.15s ease;\n    }\n\n    .tag-option:hover {\n      background: #bbf7d0;\n      border-color: #22c55e;\n    }\n\n    .tags-row {\n      position: relative;\n    }\n\n    /* Comment Card */\n    .comment-card {\n      background: white;\n      border-radius: 16px;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      border: 1px solid #e5e7eb;\n      margin-bottom: 1.5rem;\n      padding: 1.25rem 1.5rem;\n    }\n\n    .comment-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 0.75rem;\n    }\n\n    .comment-title {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      font-size: 0.9rem;\n      font-weight: 600;\n      color: #374151;\n    }\n\n    .comment-title svg {\n      width: 18px;\n      height: 18px;\n      color: #16A34A;\n    }\n\n    .edit-comment-btn {\n      background: none;\n      border: none;\n      padding: 0.4rem;\n      cursor: pointer;\n      color: #6b7280;\n      border-radius: 6px;\n      transition: all 0.15s;\n    }\n\n    .edit-comment-btn:hover {\n      background: #f3f4f6;\n      color: #16A34A;\n    }\n\n    .edit-comment-btn svg {\n      width: 16px;\n      height: 16px;\n    }\n\n    .comment-actions, .card-actions {\n      display: flex;\n      gap: 0.5rem;\n    }\n\n    .save-btn, .cancel-btn {\n      padding: 0.4rem 0.75rem;\n      border-radius: 6px;\n      font-size: 0.8rem;\n      font-weight: 500;\n      cursor: pointer;\n      border: none;\n    }\n\n    .save-btn {\n      background: #16A34A;\n      color: white;\n    }\n\n    .save-btn:hover {\n      background: #14532d;\n    }\n\n    .cancel-btn {\n      background: #f3f4f6;\n      color: #6b7280;\n    }\n\n    .cancel-btn:hover {\n      background: #e5e7eb;\n    }\n\n    .comment-text {\n      font-size: 0.9rem;\n      color: #4b5563;\n      margin: 0;\n      line-height: 1.5;\n    }\n\n    .comment-textarea {\n      width: 100%;\n      padding: 0.875rem 1rem;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 12px;\n      font-size: 0.9rem;\n      font-family: inherit;\n      resize: vertical;\n      min-height: 80px;\n      background: linear-gradient(to bottom, #ffffff, #f8fafc);\n      color: #374151;\n      line-height: 1.6;\n      transition: all 0.2s ease;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n    }\n\n    .comment-textarea:hover {\n      border-color: #cbd5e1;\n      background: linear-gradient(to bottom, #ffffff, #f1f5f9);\n    }\n\n    .comment-textarea:focus {\n      outline: none;\n      border-color: #22c55e;\n      background: white;\n      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.12), 0 2px 4px rgba(0, 0, 0, 0.05);\n    }\n\n    .comment-textarea::placeholder {\n      color: #94a3b8;\n    }\n\n    /* Stats Grid */\n    .stats-grid {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      gap: 1rem;\n      margin-bottom: 1.5rem;\n    }\n\n    .stat-card {\n      background: white;\n      border-radius: 16px;\n      padding: 1.25rem;\n      display: flex;\n      align-items: center;\n      gap: 1rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      border: 1px solid #e5e7eb;\n    }\n\n    .stat-icon {\n      width: 48px;\n      height: 48px;\n      border-radius: 12px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .stat-icon svg {\n      width: 22px;\n      height: 22px;\n    }\n\n    .stat-icon.transactions {\n      background: linear-gradient(135deg, #dcfce7, #bbf7d0);\n      color: #16A34A;\n    }\n\n    .stat-icon.total-sum {\n      background: linear-gradient(135deg, #dbeafe, #bfdbfe);\n      color: #1d4ed8;\n    }\n\n    .stat-icon.bonuses-earned {\n      background: linear-gradient(135deg, #fef3c7, #fde68a);\n      color: #d97706;\n    }\n\n    .stat-icon.bonuses-used {\n      background: linear-gradient(135deg, #fce7f3, #fbcfe8);\n      color: #db2777;\n    }\n\n    .stat-info {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .stat-value {\n      font-size: 1.25rem;\n      font-weight: 700;\n      color: #1f2937;\n    }\n\n    .stat-label {\n      font-size: 0.8rem;\n      color: #64748b;\n    }\n\n    /* Bonuses Details Card */\n    .bonuses-details-card {\n      background: white;\n      border-radius: 16px;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      border: 1px solid #e5e7eb;\n      margin-bottom: 1rem;\n      overflow: hidden;\n    }\n\n    .bonuses-details-card .card-header {\n      cursor: pointer;\n      user-select: none;\n      transition: background 0.2s ease;\n      padding: 1.5rem;\n      margin-bottom: 0;\n      border-bottom: none;\n    }\n\n    .bonuses-content {\n      padding: 0 1.5rem 1.5rem 1.5rem;\n    }\n\n    .bonuses-details-card .card-header:hover {\n      background: #f8fafc;\n    }\n    .card-title-section {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n      flex: 1;\n    }\n\n    .bonuses-stats {\n      display: flex;\n      gap: 1.5rem;\n      flex-wrap: wrap;\n    }\n\n    .stat-item {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n    }\n\n    .stat-label {\n      font-size: 0.8125rem;\n      color: #64748b;\n      font-weight: 500;\n    }\n\n    .stat-value {\n      font-size: 0.875rem;\n      font-weight: 700;\n    }\n\n    .collapse-btn {\n      background: none;\n      border: none;\n      padding: 0.5rem;\n      cursor: pointer;\n      color: #64748b;\n      border-radius: 8px;\n      transition: all 0.2s ease;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .collapse-btn:hover {\n      background: #f1f5f9;\n      color: #1f2937;\n    }\n\n    .collapse-btn svg {\n      width: 20px;\n      height: 20px;\n      transition: transform 0.2s ease;\n    }\n\n    .collapse-btn.collapsed svg {\n      transform: rotate(-90deg);\n    }\n\n    .bonuses-content {\n      padding: 0 1.5rem 1.5rem;\n    }\n\n    .bonuses-content .table-container {\n      overflow-x: auto;\n    }\n\n    .bonuses-table {\n      width: 100%;\n      border-collapse: collapse;\n    }\n\n    .bonuses-table thead {\n      background: #f8fafc;\n    }\n\n    .bonuses-table th {\n      padding: 0.875rem 1rem;\n      text-align: left;\n      font-size: 0.75rem;\n      font-weight: 600;\n      color: #64748b;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      border-bottom: 1px solid #e5e7eb;\n    }\n\n    .bonuses-table td {\n      padding: 0.875rem 1rem;\n      border-bottom: 1px solid #f1f5f9;\n    }\n\n    .bonuses-table th:last-child,\n    .bonuses-table td:last-child {\n      width: 80px;\n      text-align: center;\n    }\n\n    .bonuses-table tbody tr {\n      transition: background 0.15s;\n    }\n\n    .bonuses-table tbody tr:hover {\n      background: #f8fafc;\n    }\n\n    .bonuses-table tbody tr.expired {\n      background: transparent;\n    }\n\n    .bonuses-table tbody tr.expired:hover {\n      background: transparent;\n    }\n\n    .bonuses-table tbody tr.expiring-soon {\n      background: transparent;\n    }\n\n    .bonuses-table tbody tr.expiring-soon:hover {\n      background: transparent;\n    }\n\n    .bonuses-table tbody tr.used {\n      background: transparent;\n      opacity: 1;\n    }\n\n    .bonuses-table tbody tr.refund {\n      background: transparent;\n    }\n\n    .bonuses-table tbody tr.refund:hover {\n      background: transparent;\n    }\n\n    .bonuses-table tbody tr:last-child td {\n      border-bottom: none;\n    }\n\n    .bonuses-table tbody tr.bonus-details-row {\n      background: transparent;\n    }\n\n    .bonuses-table tbody tr.bonus-details-row td {\n      border-top: none;\n      padding: 0;\n    }\n\n    .bonus-details-cell {\n      padding: 0 !important;\n      background: transparent;\n    }\n\n    .bonus-details-content {\n      padding: 1rem 1.5rem;\n      overflow: hidden;\n      animation: slideDown 0.3s ease-out;\n    }\n\n    @keyframes slideDown {\n      from {\n        opacity: 0;\n        max-height: 0;\n      }\n      to {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .bonus-details-grid {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n      gap: 2rem;\n    }\n\n    .refund-reason-section {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n      text-align: left;\n    }\n\n    .bonus-initiated-by-section {\n      flex: 0 0 auto;\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n      text-align: right;\n      min-width: 200px;\n    }\n\n    .refund-reason-label {\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #475569;\n    }\n\n    .refund-reason-text {\n      padding: 0.75rem;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #1f2937;\n      line-height: 1.6;\n      white-space: pre-wrap;\n      text-align: left;\n    }\n\n    .refund-reason-empty {\n      padding: 0.75rem;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #94a3b8;\n      font-style: italic;\n      text-align: left;\n    }\n\n    .bonus-initiated-by-link {\n      display: inline-block;\n      padding: 0.75rem 0;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #1f2937;\n      line-height: 1.6;\n      white-space: pre-wrap;\n      text-align: right;\n      text-decoration: none;\n      cursor: pointer;\n      transition: color 0.2s ease;\n    }\n\n    .bonus-initiated-by-link:hover {\n      color: #16A34A;\n    }\n\n    .bonus-initiated-by-text {\n      padding: 0.75rem 0;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #1f2937;\n      line-height: 1.6;\n      white-space: pre-wrap;\n      text-align: right;\n    }\n\n    .bonus-initiated-by-empty {\n      padding: 0.75rem 0;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #94a3b8;\n      font-style: italic;\n      text-align: right;\n    }\n\n    .actions-cell svg {\n      transition: transform 0.3s ease;\n    }\n\n    .actions-cell svg.rotated {\n      transform: rotate(180deg);\n    }\n\n    .bonus-type-badge {\n      display: inline-flex;\n      align-items: center;\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #1f2937;\n    }\n\n    .bonus-type-badge.bonus-type-welcome {\n      // color: #1e40af;\n      color: #1f2937;\n    }\n\n    .bonus-type-badge.bonus-type-referral {\n      // color: #92400e;\n      color: #1f2937;\n\n    }\n\n    .bonus-type-badge.bonus-type-purchase {\n      // color: #15803d;\n      color: #1f2937;\n    }\n\n    .bonus-type-badge.bonus-type-promotion {\n      // color: #be185d;\n      color: #1f2937;\n    }\n\n    .bonus-type-badge.bonus-type-loyalty {\n      // color: #3730a3;\n      color: #1f2937;\n    }\n\n    .bonus-type-badge.bonus-type-refund {\n    // color: #dc2626;\n      color: #1f2937;\n    }\n\n    .bonus-amount {\n      font-size: 0.9375rem;\n      font-weight: 600;\n      color: #fbbf24;\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n    }\n\n    .bonus-amount.expired-amount {\n      color: #94a3b8;\n      text-decoration: line-through;\n    }\n\n    .bonus-date,\n    .bonus-expiry-date {\n      font-size: 0.875rem;\n      color: #1f2937;\n      font-weight: 500;\n    }\n\n    /* Details Grid */\n    .details-grid {\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 1rem;\n      margin-bottom: 1rem;\n    }\n\n    .details-card {\n      background: white;\n      border-radius: 16px;\n      padding: 1.5rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      border: 1px solid #e5e7eb;\n    }\n\n    .card-header {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      margin-bottom: 1.25rem;\n      padding-bottom: 1rem;\n      border-bottom: 1px solid #f1f5f9;\n    }\n\n    .card-header-left {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n    }\n\n    .card-icon {\n      width: 40px;\n      height: 40px;\n      border-radius: 10px;\n      background: linear-gradient(135deg, #dcfce7, #bbf7d0);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #16A34A;\n    }\n\n    .card-icon svg {\n      width: 20px;\n      height: 20px;\n    }\n\n    .card-title {\n      font-size: 1rem;\n      font-weight: 600;\n      color: #1f2937;\n      margin: 0;\n    }\n\n    .card-edit-btn {\n      background: none;\n      border: none;\n      padding: 0.5rem;\n      cursor: pointer;\n      color: #6b7280;\n      border-radius: 8px;\n      transition: all 0.15s;\n    }\n\n    .card-edit-btn:hover {\n      background: #f3f4f6;\n      color: #16A34A;\n    }\n\n    .card-edit-btn svg {\n      width: 18px;\n      height: 18px;\n    }\n\n    .info-list {\n      display: flex;\n      flex-direction: column;\n      gap: 0.875rem;\n    }\n\n    .info-row {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    .info-label {\n      font-size: 0.9rem;\n      color: #64748b;\n    }\n\n    .info-value {\n      font-size: 0.95rem;\n      font-weight: 500;\n      color: #1f2937;\n    }\n\n    .info-value.email {\n      color: #16A34A;\n    }\n\n    .info-input {\n      padding: 0.625rem 1rem;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 10px;\n      font-size: 0.9rem;\n      font-family: inherit;\n      text-align: right;\n      width: 200px;\n      background: linear-gradient(to bottom, #ffffff, #f8fafc);\n      color: #1f2937;\n      font-weight: 500;\n      transition: all 0.2s ease;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n    }\n\n    .info-input:hover {\n      border-color: #cbd5e1;\n      background: linear-gradient(to bottom, #ffffff, #f1f5f9);\n    }\n\n    .info-input:focus {\n      outline: none;\n      border-color: #22c55e;\n      background: white;\n      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.12), 0 2px 4px rgba(0, 0, 0, 0.05);\n    }\n\n    .info-input::placeholder {\n      color: #94a3b8;\n      font-weight: 400;\n    }\n\n    .info-input:disabled {\n      background: #f1f5f9;\n      color: #94a3b8;\n      cursor: not-allowed;\n      opacity: 0.6;\n    }\n\n    .info-input:disabled:hover {\n      border-color: #e2e8f0;\n      background: #f1f5f9;\n    }\n\n    .info-select {\n      padding: 0.625rem 2.5rem 0.625rem 1rem;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 10px;\n      font-size: 0.9rem;\n      font-family: inherit;\n      width: 200px;\n      background: linear-gradient(to bottom, #ffffff, #f8fafc);\n      color: #1f2937;\n      font-weight: 500;\n      transition: all 0.2s ease;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n      cursor: pointer;\n      appearance: none;\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2315803d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E\");\n      background-repeat: no-repeat;\n      background-position: right 0.75rem center;\n      background-size: 16px;\n    }\n\n    .info-select:hover {\n      border-color: #22c55e;\n      background-color: #f0fdf4;\n      background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2315803d' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E\");\n    }\n\n    .info-select:focus {\n      outline: none;\n      border-color: #22c55e;\n      background-color: white;\n      box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.12), 0 2px 4px rgba(0, 0, 0, 0.05);\n    }\n\n    .info-select option {\n      padding: 0.75rem 1rem;\n      background: white;\n      color: #1f2937;\n      font-weight: 500;\n    }\n\n    .info-select option:hover,\n    .info-select option:checked {\n      background: linear-gradient(to right, #f0fdf4, #dcfce7);\n      color: #16A34A;\n    }\n\n    /* Payments Card */\n    .payments-card {\n      background: white;\n      border-radius: 16px;\n      padding: 1.5rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n      border: 1px solid #e5e7eb;\n    }\n\n    .payments-card .card-header {\n      margin-bottom: 1rem;\n    }\n\n    .payments-count {\n      font-size: 0.85rem;\n      color: #64748b;\n      font-weight: 500;\n    }\n\n    /* Table */\n    .table-container {\n      overflow-x: auto;\n    }\n\n    .payments-table {\n      width: 100%;\n      border-collapse: collapse;\n    }\n\n    .payments-table th {\n      padding: 0.875rem 1rem;\n      text-align: left;\n      font-size: 0.75rem;\n      font-weight: 600;\n      color: #64748b;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      background: #f8fafc;\n      border-bottom: 1px solid #e5e7eb;\n    }\n\n    .payments-table td {\n      padding: 0.875rem 1rem;\n      border-bottom: 1px solid #f1f5f9;\n    }\n\n    .payment-row {\n      transition: background 0.15s;\n    }\n\n    .payment-row:hover {\n      background: #f8fafc;\n    }\n\n    .payment-row:last-child td {\n      border-bottom: none;\n    }\n\n    /* Payment ID */\n    .td-id {\n      min-width: 100px;\n    }\n\n    .payment-id {\n      font-family: monospace;\n      font-weight: 600;\n      color: #64748b;\n      font-size: 0.875rem;\n    }\n\n    .payment-id.clickable {\n      cursor: pointer;\n      text-decoration: underline;\n      transition: color 0.15s ease;\n    }\n\n    .payment-id.clickable:hover {\n      color: #475569;\n    }\n\n    /* Client */\n    .td-client {\n      min-width: 200px;\n    }\n\n    .client-cell {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n    }\n\n    .client-avatar {\n      width: 40px;\n      height: 40px;\n      border-radius: 10px;\n      background: linear-gradient(135deg, #f0fdf4, #dcfce7);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-weight: 600;\n      color: #16A34A;\n      font-size: 0.875rem;\n      flex-shrink: 0;\n    }\n\n    .client-info {\n      display: flex;\n      flex-direction: column;\n      gap: 0.25rem;\n    }\n\n    .client-name-link {\n      text-decoration: none;\n      color: #1f2937;\n      font-weight: 600;\n      font-size: 0.9375rem;\n      transition: color 0.2s;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .client-name-link:hover {\n      color: #16A34A;\n    }\n\n    .client-phone {\n      font-size: 0.8125rem;\n      color: #64748b;\n    }\n\n    /* Amount */\n    .amount-value {\n      font-size: 0.95rem;\n      font-weight: 600;\n      color: #16A34A;\n    }\n\n    /* Bonuses */\n    .bonus-info {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      flex-wrap: wrap;\n    }\n\n    .bonus-badge {\n      display: inline-block;\n    }\n\n    .bonus-none {\n      font-size: 0.8rem;\n      color: #94a3b8;\n    }\n\n\n    /* Date Info */\n    .date-info {\n      display: flex;\n      flex-direction: column;\n      gap: 0.15rem;\n    }\n\n    .date-text {\n      font-size: 0.85rem;\n      color: #1f2937;\n      font-weight: 500;\n    }\n\n    .time-text {\n      font-size: 0.75rem;\n      color: #64748b;\n    }\n\n    /* Actions */\n    .th-actions,\n    .td-actions {\n      width: 60px;\n      text-align: center;\n    }\n\n    .actions-cell {\n      display: flex;\n      justify-content: center;\n      gap: 0.5rem;\n    }\n\n    /* Empty State */\n    .empty-state {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      padding: 3rem 2rem;\n      color: #94a3b8;\n    }\n\n    .empty-state svg {\n      width: 48px;\n      height: 48px;\n      margin-bottom: 1rem;\n    }\n\n    .empty-state span {\n      font-size: 0.9rem;\n    }\n\n    /* Responsive */\n    @media (max-width: 1200px) {\n      .stats-grid {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    }\n\n    @media (max-width: 768px) {\n      .page-wrapper {\n        margin: -1rem;\n        padding: 1rem;\n      }\n\n      .profile-header-card {\n        border-radius: 12px;\n        margin-bottom: 1rem;\n      }\n\n      .profile-header-content {\n        flex-direction: column;\n        align-items: center;\n        text-align: center;\n        padding: 1.5rem 1rem;\n        position: relative;\n      }\n\n      .avatar-wrapper {\n        margin-bottom: 0.5rem;\n      }\n\n      .avatar-large {\n        width: 80px;\n        height: 80px;\n        font-size: 1.5rem;\n      }\n\n      .profile-main-info {\n        width: 100%;\n        padding-right: 0;\n        padding-top: 0.5rem;\n      }\n\n      /* Delete button already positioned at top right */\n      .delete-client-btn {\n        top: 1rem;\n        right: 1rem;\n      }\n\n      .name-row {\n        flex-direction: column;\n        align-items: center;\n        gap: 0.5rem;\n        padding-right: 0;\n        margin-top: 0.5rem;\n      }\n\n      .profile-name {\n        font-size: 1.25rem;\n        word-break: break-word;\n        padding-right: 0;\n      }\n\n      .profile-phone {\n        font-size: 0.9rem;\n        margin: 0.5rem 0;\n      }\n\n      .tags-row {\n        flex-direction: column;\n        align-items: center;\n        gap: 0.75rem;\n      }\n\n      .tags-container {\n        justify-content: center;\n        width: 100%;\n      }\n\n      .comment-card,\n      .details-card {\n        border-radius: 12px;\n        padding: 1.25rem 1rem;\n      }\n\n      .card-header {\n        margin-bottom: 1rem;\n      }\n\n      .card-title {\n        font-size: 1.125rem;\n      }\n\n      .info-list .info-row {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 0.5rem;\n        padding: 0.75rem 0;\n      }\n\n      .info-label {\n        min-width: auto;\n        font-size: 0.875rem;\n      }\n\n      .info-value {\n        font-size: 0.875rem;\n      }\n\n      .stats-grid {\n        grid-template-columns: 1fr;\n        gap: 1rem;\n      }\n\n      .details-grid {\n        grid-template-columns: 1fr;\n        gap: 1rem;\n      }\n\n      /* Hide desktop tables on mobile */\n      .bonuses-table,\n      .payments-table {\n        display: none;\n      }\n\n      /* Show mobile card views */\n      .mobile-bonuses-cards,\n      .mobile-payments-cards {\n        display: flex;\n        flex-direction: column;\n        gap: 0.75rem;\n      }\n    }\n\n    /* Hide mobile cards on desktop */\n    @media (min-width: 769px) {\n      .mobile-bonuses-cards,\n      .mobile-payments-cards {\n        display: none;\n      }\n    }\n\n    /* Mobile Bonus Card - styles for when visible on mobile */\n    .mobile-bonuses-cards {\n      display: none; /* Hidden by default, shown via media query */\n      flex-direction: column;\n      gap: 0.75rem;\n      width: 100%;\n    }\n\n    .mobile-bonus-card {\n      background: white;\n      border: 1px solid #e5e7eb;\n      border-radius: 12px;\n      padding: 1rem;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n      width: 100%;\n    }\n\n    .mobile-bonus-card-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      cursor: pointer;\n    }\n\n    .mobile-bonus-card-main {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      flex: 1;\n    }\n\n    .mobile-bonus-type {\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #1f2937;\n    }\n\n    .mobile-bonus-amount {\n      font-size: 1rem;\n      font-weight: 700;\n      color: #d97706;\n    }\n\n    .mobile-bonus-expand {\n      width: 24px;\n      height: 24px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #64748b;\n      transition: transform 0.2s;\n    }\n\n    .mobile-bonus-expand.expanded {\n      transform: rotate(180deg);\n    }\n\n    .mobile-bonus-details {\n      margin-top: 0.75rem;\n      padding-top: 0.75rem;\n      border-top: 1px solid #e5e7eb;\n      display: none;\n    }\n\n    .mobile-bonus-details.expanded {\n      display: block;\n    }\n\n    .mobile-bonus-detail-row {\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: 0.5rem;\n      font-size: 0.875rem;\n    }\n\n    .mobile-bonus-detail-label {\n      color: #64748b;\n    }\n\n    .mobile-bonus-detail-value {\n      color: #1f2937;\n      font-weight: 500;\n    }\n\n    /* Mobile Payment Card */\n    .mobile-payment-card {\n      background: white;\n      border: 1px solid #e5e7eb;\n      border-radius: 12px;\n      padding: 1rem;\n      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n    }\n\n    .mobile-payment-card-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      cursor: pointer;\n    }\n\n    .mobile-payment-card-main {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      flex: 1;\n    }\n\n    .mobile-payment-id {\n      font-family: monospace;\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #64748b;\n    }\n\n    .mobile-payment-amount {\n      font-size: 1rem;\n      font-weight: 700;\n      color: #16A34A;\n    }\n\n    .mobile-payment-expand {\n      width: 24px;\n      height: 24px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #64748b;\n      transition: transform 0.2s;\n    }\n\n    .mobile-payment-expand.expanded {\n      transform: rotate(180deg);\n    }\n\n    .mobile-payment-details {\n      margin-top: 0.75rem;\n      padding-top: 0.75rem;\n      border-top: 1px solid #e5e7eb;\n      display: none;\n    }\n\n    .mobile-payment-details.expanded {\n      display: block;\n    }\n\n    .mobile-payment-detail-row {\n      display: flex;\n      justify-content: space-between;\n      margin-bottom: 0.5rem;\n      font-size: 0.875rem;\n    }\n\n    .mobile-payment-detail-label {\n      color: #64748b;\n    }\n\n    .mobile-payment-detail-value {\n      color: #1f2937;\n      font-weight: 500;\n    }\n\n    .mobile-refund-btn {\n      width: 100%;\n      padding: 0.75rem;\n      background: #fef2f2;\n      border: 1px solid #fecaca;\n      border-radius: 8px;\n      color: #dc2626;\n      font-weight: 600;\n      font-size: 0.875rem;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 0.5rem;\n      margin-top: 0.5rem;\n      transition: all 0.2s;\n    }\n\n    .mobile-refund-btn:hover {\n      background: #fee2e2;\n      border-color: #fca5a5;\n    }\n\n    .mobile-refund-btn svg {\n      width: 16px;\n      height: 16px;\n    }\n\n    /* Delete Modal Styles */\n    .delete-modal-overlay {\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: rgba(0, 0, 0, 0.5);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 1000;\n      animation: fadeIn 0.2s ease;\n    }\n\n    @keyframes fadeIn {\n      from { opacity: 0; }\n      to { opacity: 1; }\n    }\n\n    .delete-modal {\n      background: white;\n      border-radius: 16px;\n      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);\n      max-width: 420px;\n      width: 90%;\n      animation: slideUp 0.3s ease;\n    }\n\n    @keyframes slideUp {\n      from {\n        opacity: 0;\n        transform: translateY(20px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    .delete-modal-content {\n      padding: 2rem;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      text-align: center;\n    }\n\n    .delete-modal-icon {\n      width: 64px;\n      height: 64px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin-bottom: 1.25rem;\n    }\n\n    .delete-modal-icon.warning {\n      background: #fef3c7;\n      color: #d97706;\n    }\n\n    .delete-modal-icon.danger {\n      background: #fee2e2;\n      color: #dc2626;\n    }\n\n    .delete-modal-icon svg {\n      width: 32px;\n      height: 32px;\n    }\n\n    .delete-modal-title {\n      font-size: 1.25rem;\n      font-weight: 600;\n      color: #1f2937;\n      margin: 0 0 0.75rem;\n    }\n\n    .delete-modal-description {\n      font-size: 0.9rem;\n      color: #6b7280;\n      line-height: 1.6;\n      margin: 0 0 1.5rem;\n    }\n\n    .delete-modal-description strong {\n      color: #1f2937;\n    }\n\n    .confirm-word {\n      color: #dc2626;\n      background: #fee2e2;\n      padding: 0.125rem 0.5rem;\n      border-radius: 4px;\n      font-family: monospace;\n      font-size: 0.95rem;\n    }\n\n    .delete-confirm-input {\n      width: 100%;\n      padding: 0.875rem 1rem;\n      border: 2px solid #e5e7eb;\n      border-radius: 10px;\n      font-size: 1rem;\n      font-family: inherit;\n      text-align: center;\n      margin-bottom: 1.5rem;\n      transition: all 0.2s ease;\n    }\n\n    .delete-confirm-input:focus {\n      outline: none;\n      border-color: #dc2626;\n      box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);\n    }\n\n    .delete-confirm-input::placeholder {\n      color: #9ca3af;\n    }\n\n    .delete-modal-actions {\n      display: flex;\n      gap: 0.75rem;\n      width: 100%;\n    }\n\n    .delete-modal-btn {\n      flex: 1;\n      padding: 0.875rem 1.5rem;\n      border-radius: 10px;\n      font-size: 0.9rem;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      border: none;\n    }\n\n    .delete-modal-btn.cancel {\n      background: #f3f4f6;\n      color: #6b7280;\n    }\n\n    .delete-modal-btn.cancel:hover {\n      background: #e5e7eb;\n      color: #374151;\n    }\n\n    .delete-modal-btn.confirm {\n      background: #fef3c7;\n      color: #d97706;\n    }\n\n    .delete-modal-btn.confirm:hover {\n      background: #fde68a;\n      color: #b45309;\n    }\n\n    .delete-modal-btn.delete {\n      background: #dc2626;\n      color: white;\n    }\n\n    .delete-modal-btn.delete:hover:not(:disabled) {\n      background: #b91c1c;\n    }\n\n    .delete-modal-btn.delete:disabled {\n      background: #fca5a5;\n      cursor: not-allowed;\n    }\n  `]\n})\nexport class ProfilePageComponent implements OnInit, AfterViewInit, OnDestroy {\n  private pageHeaderService = inject(PageHeaderService);\n  private route = inject(ActivatedRoute);\n  private router = inject(Router);\n  private titleService = inject(Title);\n  private clientsService = inject(ClientsService);\n  private paymentsService = inject(PaymentsService);\n  private bonusesService = inject(BonusesService);\n  private analyticsService = inject(AnalyticsService);\n  private toastService = inject(ToastService);\n  private transactionModalService = inject(TransactionModalService);\n  private cdr = inject(ChangeDetectorRef);\n  private destroy$ = new Subject<void>();\n\n  clientId: string = '';\n  isLoading = true;\n  clientNotFound = false;\n  client: Client | null = null;\n  clientDetails: ClientDetails | null = null; // Store full client details from API\n\n  // Client totals for dashboard\n  clientTotals = {\n    totalPayments: 0,\n    totalRevenue: 0,\n    totalBonusesGranted: 0,\n    totalBonusesUsed: 0\n  };\n\n  // Bonus balance\n  bonusBalance = 0;\n\n  isEditingComment = false;\n  editedComment = '';\n  isSavingComment = false;\n  \n  isEditingTags = false;\n  editedTags: string[] = [];\n  newTagInput = '';\n  showTagsDropdown = false;\n  isSavingTags = false;\n  \n  // Список доступных тэгов из API\n  availableTags: string[] = [];\n  \n  isEditingPersonal = false;\n  isSavingPersonal = false;\n  editedPersonal = {\n    firstName: '',\n    lastName: '',\n    type: 'individual' as 'individual' | 'business'\n  };\n  \n  isEditingContacts = false;\n  isSavingContacts = false;\n  editedContacts = {\n    phone: '',\n    email: ''\n  };\n\n  // Состояние сворачивания бонусов\n  isBonusesExpanded = false;\n\n  // Интерфейс для детальной информации о бонусах\n  bonusesDetails: Array<{\n    id: string;\n    type: string;\n    amount: number;\n    issuedAt: Date;\n    expiresAt: Date;\n    used?: boolean;\n    refundReason?: string;\n    initiatedBy?: string;\n    initiatedById?: string;\n  }> = [];\n\n  // Раскрытые строки бонусов\n  expandedBonusRows = new Set<string>();\n\n  // Mobile card expanded states\n  expandedMobileBonusCards = new Set<string>();\n  expandedMobilePaymentCards = new Set<string>();\n\n  // Payment data\n  payments: PaymentItem[] = [];\n\n  // Refund modal\n  showRefundModal = false;\n  selectedPaymentForRefund: Payment | null = null;\n\n  // Payment view modal\n  showPaymentViewModal = false;\n  selectedPaymentTxId: string | null = null;\n  selectedPaymentSearchResult: PaymentSearchResult | null = null;\n\n  // Delete client modal\n  showDeleteModal = false;\n  deleteStep: 1 | 2 = 1;\n  deleteConfirmationWord = '';\n  isDeletingClient = false;\n  \n  ngOnInit(): void {\n    this.pageHeaderService.setPageHeader('Профиль клиента', [\n      { label: 'Главная', route: '/home' },\n      { label: 'Клиенты', route: '/clients' },\n      { label: 'Профиль клиента' }\n    ]);\n\n    this.route.params.subscribe(params => {\n      this.clientId = params['id'];\n      if (this.clientId) {\n        this.loadClientData();\n      }\n    });\n\n    // Subscribe to transaction completion events\n    this.transactionModalService.transactionComplete$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        // Reload client data, payments, and bonuses when on client profile route\n        const currentUrl = this.router.url;\n        if (currentUrl.startsWith('/clients/') && this.clientId) {\n          this.loadClientData();\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  loadClientData(): void {\n    this.isLoading = true;\n    \n    // Make individual calls to better handle errors\n    const client$ = this.clientsService.getClientById(this.clientId);\n    const payments$ = this.paymentsService.getClientPayments(this.clientId, 0, 100);\n    const bonusHistory$ = this.bonusesService.getClientBonusHistory(this.clientId, 0, 100);\n    const bonusBalance$ = this.bonusesService.getClientBonusBalance(this.clientId);\n    const totals$ = this.analyticsService.getClientTotals(this.clientId);\n    const tags$ = this.clientsService.getTags();\n    \n    forkJoin({\n      client: client$,\n      payments: payments$,\n      bonusHistory: bonusHistory$,\n      bonusBalance: bonusBalance$,\n      totals: totals$,\n      tags: tags$\n    }).subscribe({\n      next: ({ client, payments, bonusHistory, bonusBalance, totals, tags }) => {\n        // Store full client details from API\n        this.clientDetails = client;\n        \n        // Update page title with client name\n        const clientName = `${client.name}${client.surname ? ' ' + client.surname : ''}`.trim();\n        this.titleService.setTitle(`Westwood - Client - ${clientName}`);\n        \n        // Map client data for UI\n        this.client = {\n          id: client.id,\n          firstName: client.name,\n          lastName: client.surname || '',\n          phone: client.phone,\n          email: client.email,\n          tags: client.tags || [],\n          comment: client.notes,\n          type: client.clientType === 'BUSINESS' ? 'business' : 'individual'\n        };\n\n        // Map payments - extract content from paginated response\n        const paymentsArray = payments?.content || [];\n        this.payments = paymentsArray\n          .map(p => {\n            try {\n              return this.mapPaymentToItem(p);\n            } catch (error) {\n              console.error('Error mapping payment:', p, error);\n              return null;\n            }\n          })\n          .filter(p => p !== null)\n          .sort((a, b) => {\n            try {\n              const dateA = new Date(`${a.date} ${a.time}`);\n              const dateB = new Date(`${b.date} ${b.time}`);\n              return dateB.getTime() - dateA.getTime();\n            } catch (error) {\n              console.error('Error sorting payments:', error);\n              return 0;\n            }\n          });\n\n        // Map bonus history - extract content from paginated response and transform to match UI\n        const bonusHistoryArray = bonusHistory?.content || [];\n        this.bonusesDetails = bonusHistoryArray.map(b => {\n          try {\n            // Map eventType to type for UI\n            let type = 'purchase';\n            if (b.grantReason === 'WELCOME') type = 'welcome';\n            else if (b.eventType === 'GRANTED') type = 'purchase';\n            else if (b.eventType === 'USED') type = 'purchase';\n            else if (b.eventType === 'REVOKED') type = 'refund';\n            else if (b.eventType === 'EXPIRED') type = 'loyalty';\n\n            return {\n              id: String(b.id),\n              type: type,\n              amount: b.bonusAmount,\n              issuedAt: new Date(b.createdAt),\n              expiresAt: b.expiresAt ? new Date(b.expiresAt) : new Date(Date.now() + 90 * 24 * 60 * 60 * 1000), // Default 90 days if no expiry\n              used: b.eventType === 'USED',\n              refundReason: b.revokeReason || undefined,\n              initiatedBy: undefined, // Not available in API response\n              initiatedById: undefined // Not available in API response\n            };\n          } catch (error) {\n            console.error('Error mapping bonus:', b, error);\n            return null;\n          }\n        }).filter(b => b !== null);\n\n        // Set bonus balance - use currentBalance from API\n        this.bonusBalance = bonusBalance?.currentBalance ?? 0;\n\n        // Set totals\n        this.clientTotals = totals || {\n          totalPayments: 0,\n          totalRevenue: 0,\n          totalBonusesGranted: 0,\n          totalBonusesUsed: 0\n        };\n\n        // Set available tags\n        this.availableTags = Array.isArray(tags) ? tags : [];\n        console.log('Loaded available tags:', this.availableTags);\n\n        this.isLoading = false;\n        \n        // Force change detection to update paginated tables\n        this.cdr.detectChanges();\n      },\n      error: (err) => {\n        console.error('Error loading client data:', err);\n        console.error('Error details:', {\n          status: err.status,\n          statusText: err.statusText,\n          url: err.url,\n          error: err.error,\n          clientId: this.clientId\n        });\n        \n        // Check if it's a 404 error (client not found)\n        if (err.status === 404) {\n          this.clientNotFound = true;\n          this.isLoading = false;\n          return;\n        }\n        \n        // Try to load data individually to see which request fails\n        this.loadClientDataIndividually();\n        \n        const errorMessage = err.error?.message || `Ошибка загрузки данных клиента (${err.status || 'unknown'})`;\n        this.toastService.error(errorMessage);\n      }\n    });\n  }\n\n  loadClientDataIndividually(): void {\n    // Load client data individually to handle partial failures\n    this.clientsService.getClientById(this.clientId).subscribe({\n      next: (client) => {\n        // Store full client details from API\n        this.clientDetails = client;\n        \n        // Update page title with client name\n        const clientName = `${client.name}${client.surname ? ' ' + client.surname : ''}`.trim();\n        this.titleService.setTitle(`Westwood - Client - ${clientName}`);\n        \n        // Map client data for UI\n        this.client = {\n          id: client.id,\n          firstName: client.name,\n          lastName: client.surname || '',\n          phone: client.phone,\n          email: client.email,\n          tags: client.tags || [],\n          comment: client.notes,\n          type: client.clientType === 'BUSINESS' ? 'business' : 'individual'\n        };\n        this.isLoading = false;\n        this.cdr.detectChanges();\n      },\n      error: (err) => {\n        console.error('Error loading client:', err);\n        if (err.status === 404) {\n          this.clientNotFound = true;\n        }\n        this.isLoading = false;\n      }\n    });\n\n    this.paymentsService.getClientPayments(this.clientId, 0, 100).subscribe({\n      next: (payments) => {\n        const paymentsArray = payments?.content || [];\n        this.payments = paymentsArray\n          .map(p => {\n            try {\n              return this.mapPaymentToItem(p);\n            } catch (error) {\n              console.error('Error mapping payment:', p, error);\n              return null;\n            }\n          })\n          .filter(p => p !== null)\n          .sort((a, b) => {\n            try {\n              const dateA = new Date(`${a.date} ${a.time}`);\n              const dateB = new Date(`${b.date} ${b.time}`);\n              return dateB.getTime() - dateA.getTime();\n            } catch (error) {\n              return 0;\n            }\n          });\n        this.cdr.detectChanges();\n      },\n      error: (err) => {\n        console.error('Error loading payments:', err);\n        this.payments = [];\n      }\n    });\n\n    this.bonusesService.getClientBonusHistory(this.clientId, 0, 100).subscribe({\n      next: (bonusHistory) => {\n        const bonusHistoryArray = bonusHistory?.content || [];\n        this.bonusesDetails = bonusHistoryArray.map(b => {\n          try {\n            let type = 'purchase';\n            if (b.grantReason === 'WELCOME') type = 'welcome';\n            else if (b.eventType === 'GRANTED') type = 'purchase';\n            else if (b.eventType === 'USED') type = 'purchase';\n            else if (b.eventType === 'REVOKED') type = 'refund';\n            else if (b.eventType === 'EXPIRED') type = 'loyalty';\n\n            return {\n              id: String(b.id),\n              type: type,\n              amount: b.bonusAmount,\n              issuedAt: new Date(b.createdAt),\n              expiresAt: b.expiresAt ? new Date(b.expiresAt) : new Date(Date.now() + 90 * 24 * 60 * 60 * 1000),\n              used: b.eventType === 'USED',\n              refundReason: b.revokeReason || undefined,\n              initiatedBy: undefined,\n              initiatedById: undefined\n            };\n          } catch (error) {\n            console.error('Error mapping bonus:', b, error);\n            return null;\n          }\n        }).filter(b => b !== null);\n        this.cdr.detectChanges();\n      },\n      error: (err) => {\n        console.error('Error loading bonus history:', err);\n        this.bonusesDetails = [];\n      }\n    });\n\n    this.bonusesService.getClientBonusBalance(this.clientId).subscribe({\n      next: (bonusBalance) => {\n        this.bonusBalance = bonusBalance?.currentBalance ?? 0;\n        this.cdr.detectChanges();\n      },\n      error: (err) => {\n        console.error('Error loading bonus balance:', err);\n        this.bonusBalance = 0;\n      }\n    });\n\n    this.analyticsService.getClientTotals(this.clientId).subscribe({\n      next: (totals) => {\n        this.clientTotals = totals || {\n          totalPayments: 0,\n          totalRevenue: 0,\n          totalBonusesGranted: 0,\n          totalBonusesUsed: 0\n        };\n        this.cdr.detectChanges();\n      },\n      error: (err) => {\n        console.error('Error loading client totals:', err);\n        this.clientTotals = {\n          totalPayments: 0,\n          totalRevenue: 0,\n          totalBonusesGranted: 0,\n          totalBonusesUsed: 0\n        };\n      }\n    });\n\n    this.clientsService.getTags().subscribe({\n      next: (tags) => {\n        this.availableTags = Array.isArray(tags) ? tags : [];\n        this.cdr.detectChanges();\n      },\n      error: (err) => {\n        console.error('Error loading tags:', err);\n        this.availableTags = [];\n      }\n    });\n  }\n\n  mapPaymentToItem(payment: PaymentSearchResult): PaymentItem {\n    if (!payment) {\n      console.warn('Invalid payment data: payment is null/undefined');\n      return null as any;\n    }\n    \n    if (!payment.createdAt) {\n      console.warn('Invalid payment data: missing createdAt', payment);\n      // Return a default payment item with current date\n      const now = new Date();\n      return {\n        id: payment.txId || 'unknown',\n        clientId: payment.clientId || '',\n        clientName: payment.clientName || '—',\n        clientPhone: payment.clientPhone || '—',\n        amount: payment.amount || 0,\n        bonusEarned: payment.bonusGranted || 0,\n        bonusUsed: payment.bonusUsed || 0,\n        bonusRevoked: payment.bonusRevoked || 0,\n        paymentMethod: (payment.paymentMethod?.toLowerCase() as 'cash' | 'card' | 'transfer') || 'cash',\n        isRefund: payment.status === 'REFUNDED' || !!payment.refundedPaymentTxId,\n        date: this.formatDate(now),\n        time: this.formatTime(now)\n      };\n    }\n    \n    try {\n      const createdAt = new Date(payment.createdAt);\n      if (isNaN(createdAt.getTime())) {\n        console.warn('Invalid date format:', payment.createdAt);\n        const now = new Date();\n        return {\n          id: payment.txId,\n          clientId: payment.clientId || '',\n          clientName: payment.clientName || '—',\n          clientPhone: payment.clientPhone || '—',\n          amount: payment.amount || 0,\n          bonusEarned: payment.bonusGranted || 0,\n          bonusUsed: payment.bonusUsed || 0,\n          bonusRevoked: payment.bonusRevoked || 0,\n          paymentMethod: (payment.paymentMethod?.toLowerCase() as 'cash' | 'card' | 'transfer') || 'cash',\n          isRefund: payment.status === 'REFUNDED' || !!payment.refundedPaymentTxId,\n          date: this.formatDate(now),\n          time: this.formatTime(now)\n        };\n      }\n      \n      const dateStr = this.formatDate(createdAt);\n      const timeStr = this.formatTime(createdAt);\n      \n      return {\n        id: payment.txId,\n        clientId: payment.clientId || '',\n        clientName: payment.clientName || '—',\n        clientPhone: payment.clientPhone || '—',\n        amount: payment.amount || 0,\n        bonusEarned: payment.bonusGranted || 0,\n        bonusUsed: payment.bonusUsed || 0,\n        bonusRevoked: payment.bonusRevoked || 0,\n        paymentMethod: (payment.paymentMethod?.toLowerCase() as 'cash' | 'card' | 'transfer') || 'cash',\n        isRefund: payment.status === 'REFUNDED' || !!payment.refundedPaymentTxId,\n        date: dateStr,\n        time: timeStr\n      };\n    } catch (error) {\n      console.error('Error mapping payment:', error, payment);\n      const now = new Date();\n      return {\n        id: payment.txId || 'unknown',\n        clientId: payment.clientId || '',\n        clientName: payment.clientName || '—',\n        clientPhone: payment.clientPhone || '—',\n        amount: payment.amount || 0,\n        bonusEarned: payment.bonusGranted || 0,\n        bonusUsed: payment.bonusUsed || 0,\n        bonusRevoked: payment.bonusRevoked || 0,\n        paymentMethod: 'cash',\n        isRefund: false,\n        date: this.formatDate(now),\n        time: this.formatTime(now)\n      };\n    }\n  }\n\n  ngAfterViewInit(): void {\n    // Прокручиваем страницу в начало после полной загрузки DOM\n    const sidebarContent = document.querySelector('.sidebar-content');\n    if (sidebarContent) {\n      sidebarContent.scrollTop = 0;\n    }\n    window.scrollTo(0, 0);\n  }\n\n  getFullName(): string {\n    if (!this.client) return '';\n    return `${this.client.firstName} ${this.client.lastName}`.trim();\n  }\n\n  getInitials(name?: string): string {\n    if (name) {\n      const parts = name.split(' ');\n      return parts.map(p => p.charAt(0)).join('').toUpperCase().slice(0, 2);\n    }\n    if (!this.client) return '';\n    const first = this.client.firstName.charAt(0).toUpperCase();\n    const last = this.client.lastName ? this.client.lastName.charAt(0).toUpperCase() : '';\n    return first + last;\n  }\n\n  // Tags editing\n  startEditTags(): void {\n    if (!this.client) return;\n    this.editedTags = [...this.client.tags];\n    this.isEditingTags = true;\n    this.newTagInput = '';\n    this.showTagsDropdown = false;\n    console.log('Started editing tags. Available tags:', this.availableTags);\n  }\n\n  addTag(): void {\n    if (!this.client || !this.newTagInput.trim()) return;\n    if (!this.client.tags.includes(this.newTagInput.trim())) {\n      this.client.tags.push(this.newTagInput.trim());\n    }\n    this.newTagInput = '';\n  }\n\n  addTagFromDropdown(tag: string): void {\n    if (!this.client) return;\n    if (!this.client.tags.includes(tag)) {\n      this.client.tags.push(tag);\n    }\n    this.showTagsDropdown = false;\n  }\n\n  getFilteredTags(): string[] {\n    if (!this.client) return [];\n    if (!this.availableTags || this.availableTags.length === 0) {\n      console.warn('Available tags is empty:', this.availableTags);\n      return [];\n    }\n    const searchTerm = this.newTagInput.toLowerCase();\n    const filtered = this.availableTags.filter(tag => \n      !this.client!.tags.includes(tag) && \n      (searchTerm === '' || tag.toLowerCase().includes(searchTerm))\n    );\n    console.log('Filtered tags:', {\n      availableTags: this.availableTags,\n      clientTags: this.client.tags,\n      searchTerm: searchTerm,\n      filtered: filtered\n    });\n    return filtered;\n  }\n\n  removeTag(index: number): void {\n    if (!this.client) return;\n    this.client.tags.splice(index, 1);\n  }\n\n  saveTags(): void {\n    if (!this.client) return;\n    this.isSavingTags = true;\n    const requestPayload = { tags: this.client.tags };\n    console.log('Update Client Tags - Request Payload:', {\n      clientId: this.clientId,\n      payload: requestPayload\n    });\n    this.clientsService.updateClientTags(this.clientId, requestPayload).subscribe({\n      next: () => {\n        this.toastService.success('Теги успешно обновлены');\n        this.isEditingTags = false;\n        this.newTagInput = '';\n        this.showTagsDropdown = false;\n        this.isSavingTags = false;\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка при обновлении тегов';\n        this.toastService.error(errorMessage);\n        this.cancelEditTags();\n        this.isSavingTags = false;\n      }\n    });\n  }\n\n  cancelEditTags(): void {\n    if (!this.client) return;\n    this.client.tags = [...this.editedTags];\n    this.isEditingTags = false;\n    this.newTagInput = '';\n    this.showTagsDropdown = false;\n  }\n\n  // Comment editing\n  startEditComment(): void {\n    if (!this.client) return;\n    this.editedComment = this.client.comment || '';\n    this.isEditingComment = true;\n  }\n\n  saveComment(): void {\n    if (!this.client) return;\n    this.isSavingComment = true;\n    const requestPayload = { notes: this.editedComment };\n    console.log('Update Client Notes - Request Payload:', {\n      clientId: this.clientId,\n      payload: requestPayload\n    });\n    this.clientsService.updateClientNotes(this.clientId, requestPayload).subscribe({\n      next: () => {\n        this.client!.comment = this.editedComment;\n        this.toastService.success('Комментарий успешно обновлен');\n        this.isEditingComment = false;\n        this.isSavingComment = false;\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка при обновлении комментария';\n        this.toastService.error(errorMessage);\n        this.isSavingComment = false;\n      }\n    });\n  }\n\n  cancelEditComment(): void {\n    this.isEditingComment = false;\n    this.editedComment = '';\n  }\n\n  // Personal data editing\n  startEditPersonal(): void {\n    if (!this.client) return;\n    this.editedPersonal = {\n      firstName: this.client.firstName,\n      lastName: this.client.lastName,\n      type: this.client.type\n    };\n    this.isEditingPersonal = true;\n  }\n\n  savePersonal(): void {\n    if (!this.client || !this.clientDetails) return;\n    this.isSavingPersonal = true;\n    \n    // Build complete payload with all fields, only changing edited ones\n    const requestPayload: UpdateClientRequest = {\n      phone: this.clientDetails.phone,\n      name: this.editedPersonal.firstName, // Changed field\n      surname: this.editedPersonal.lastName, // Changed field\n      dateOfBirth: this.clientDetails.dateOfBirth,\n      notes: this.clientDetails.notes,\n      tags: this.clientDetails.tags || [],\n      clientType: this.editedPersonal.type === 'business' ? 'BUSINESS' : 'INDIVIDUAL', // Changed field\n      referrerId: this.clientDetails.referrerId\n    };\n    \n    console.log('Update Client (Personal Data) - Request Payload:', {\n      clientId: this.clientId,\n      payload: requestPayload\n    });\n    this.clientsService.updateClient(this.clientId, requestPayload).subscribe({\n      next: (updatedClient) => {\n        // Update stored client details\n        this.clientDetails = updatedClient;\n        \n        // Update UI client data\n        this.client!.firstName = updatedClient.name;\n        this.client!.lastName = updatedClient.surname || '';\n        this.client!.type = updatedClient.clientType === 'BUSINESS' ? 'business' : 'individual';\n        this.toastService.success('Личные данные успешно обновлены');\n        this.isEditingPersonal = false;\n        this.isSavingPersonal = false;\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка при обновлении личных данных';\n        this.toastService.error(errorMessage);\n        this.isSavingPersonal = false;\n      }\n    });\n  }\n\n  cancelEditPersonal(): void {\n    this.isEditingPersonal = false;\n  }\n\n  // Contacts editing\n  startEditContacts(): void {\n    if (!this.client) return;\n    this.editedContacts = {\n      phone: this.client.phone,\n      email: this.client.email || ''\n    };\n    this.isEditingContacts = true;\n  }\n\n  saveContacts(): void {\n    if (!this.client || !this.clientDetails) return;\n    this.isSavingContacts = true;\n    \n    // Build complete payload with all fields, only changing phone\n    const requestPayload: UpdateClientRequest = {\n      phone: this.editedContacts.phone, // Changed field\n      name: this.clientDetails.name,\n      surname: this.clientDetails.surname || '',\n      dateOfBirth: this.clientDetails.dateOfBirth,\n      notes: this.clientDetails.notes,\n      tags: this.clientDetails.tags || [],\n      clientType: this.clientDetails.clientType,\n      referrerId: this.clientDetails.referrerId\n    };\n    \n    // Note: email is not included as it's not editable\n    \n    console.log('Update Client (Contacts) - Request Payload:', {\n      clientId: this.clientId,\n      payload: requestPayload\n    });\n    this.clientsService.updateClient(this.clientId, requestPayload).subscribe({\n      next: (updatedClient) => {\n        // Update stored client details\n        this.clientDetails = updatedClient;\n        \n        // Update UI client data\n        this.client!.phone = updatedClient.phone;\n        this.toastService.success('Контактные данные успешно обновлены');\n        this.isEditingContacts = false;\n        this.isSavingContacts = false;\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка при обновлении контактных данных';\n        this.toastService.error(errorMessage);\n        this.isSavingContacts = false;\n      }\n    });\n  }\n\n  cancelEditContacts(): void {\n    this.isEditingContacts = false;\n  }\n\n  // Payment helpers\n  formatPaymentId(id: string): string {\n    return id;\n  }\n\n  formatAmount(amount: number): string {\n    return amount.toLocaleString('ru-RU');\n  }\n\n  getPaymentMethodForBadge(method: string | undefined): 'CASH' | 'CARD' | 'TRANSFER' | null {\n    if (!method) return null;\n    const upperMethod = method.toUpperCase();\n    if (upperMethod === 'CASH' || upperMethod === 'CARD' || upperMethod === 'TRANSFER') {\n      return upperMethod as 'CASH' | 'CARD' | 'TRANSFER';\n    }\n    return null;\n  }\n\n  getPaymentMethodLabel(method: string): string {\n    const labels: Record<string, string> = {\n      cash: 'Наличные',\n      card: 'Карта',\n      transfer: 'Перевод'\n    };\n    return labels[method] || method;\n  }\n\n  // Refund methods\n  openRefundModal(payment: PaymentItem): void {\n    if (!this.client) return;\n    this.selectedPaymentForRefund = {\n      id: payment.id,\n      clientId: this.clientId,\n      clientName: this.getFullName(),\n      clientPhone: this.client.phone,\n      amount: payment.amount,\n      bonusEarned: payment.bonusEarned,\n      bonusUsed: payment.bonusUsed,\n      bonusRevoked: payment.bonusRevoked,\n      paymentMethod: payment.paymentMethod,\n      isRefund: payment.isRefund,\n      date: payment.date,\n      time: payment.time\n    };\n    this.showRefundModal = true;\n  }\n\n  closeRefundModal(): void {\n    this.showRefundModal = false;\n    this.selectedPaymentForRefund = null;\n  }\n\n  // Payment view modal methods\n  openPaymentView(paymentId: string): void {\n    const payment = this.payments.find(p => p.id === paymentId);\n    if (payment) {\n      this.selectedPaymentSearchResult = {\n        txId: payment.id,\n        clientId: this.clientId,\n        clientName: this.getFullName(),\n        clientPhone: this.client?.phone || '',\n        clientEmail: this.client?.email || null,\n        amount: payment.amount,\n        status: payment.isRefund ? 'REFUNDED' : 'COMPLETED',\n        paymentMethod: payment.paymentMethod?.toUpperCase() as 'CASH' | 'CARD' | 'TRANSFER' | null,\n        initiatedBy: null,\n        createdAt: payment.date + 'T' + payment.time,\n        refundedPaymentTxId: null,\n        bonusGranted: payment.bonusEarned,\n        bonusUsed: payment.bonusUsed,\n        bonusRevoked: payment.bonusRevoked,\n        refundReason: null\n      };\n    }\n    this.selectedPaymentTxId = paymentId;\n    this.showPaymentViewModal = true;\n  }\n\n  onPaymentUpdated(): void {\n    this.loadClientData();\n  }\n\n  confirmRefund(notes: string): void {\n    if (!this.selectedPaymentForRefund) return;\n    this.paymentsService.refundPayment(this.selectedPaymentForRefund.id, { notes }).subscribe({\n      next: () => {\n        this.toastService.success('Возврат успешно оформлен');\n        this.closeRefundModal();\n        // Reload client data to refresh payments\n        this.loadClientData();\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка при оформлении возврата';\n        this.toastService.error(errorMessage);\n      }\n    });\n  }\n\n  formatTime(date: Date): string {\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`;\n  }\n\n  // Bonus helpers\n  getBonusTypeLabel(type: string): string {\n    const labels: Record<string, string> = {\n      welcome: 'Приветственный',\n      referral: 'Реферальный',\n      purchase: 'За покупку',\n      promotion: 'Акция',\n      loyalty: 'Лояльность',\n      refund: 'Отозвано',\n      used: 'Использовано',\n      granted: 'Начислено'\n    };\n    return labels[type] || type;\n  }\n\n  getDaysUntilExpiry(expiresAt: Date): number {\n    const now = new Date();\n    const expiry = new Date(expiresAt);\n    const diffTime = expiry.getTime() - now.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  }\n\n  getDaysText(days: number): string {\n    if (days === 1) return 'день';\n    if (days >= 2 && days <= 4) return 'дня';\n    return 'дней';\n  }\n\n  formatDate(date: Date | string): string {\n    const d = typeof date === 'string' ? new Date(date) : date;\n    return d.toLocaleDateString('ru-RU', { \n      day: '2-digit', \n      month: '2-digit', \n      year: 'numeric' \n    });\n  }\n\n  toggleBonusesExpanded(): void {\n    this.isBonusesExpanded = !this.isBonusesExpanded;\n  }\n\n  getActiveBonusesTotal(): number {\n    const now = new Date();\n    return this.bonusesDetails\n      .filter(bonus => !bonus.used && new Date(bonus.expiresAt) > now)\n      .reduce((sum, bonus) => sum + bonus.amount, 0);\n  }\n\n  getUsedBonusesTotal(): number {\n    return this.bonusesDetails\n      .filter(bonus => bonus.used)\n      .reduce((sum, bonus) => sum + bonus.amount, 0);\n  }\n\n  getExpiredBonusesTotal(): number {\n    const now = new Date();\n    return this.bonusesDetails\n      .filter(bonus => !bonus.used && bonus.type !== 'refund' && new Date(bonus.expiresAt) <= now)\n      .reduce((sum, bonus) => sum + bonus.amount, 0);\n  }\n\n  toggleBonusRow(bonusId: string): void {\n    if (this.expandedBonusRows.has(bonusId)) {\n      this.expandedBonusRows.delete(bonusId);\n    } else {\n      this.expandedBonusRows.add(bonusId);\n    }\n  }\n\n  isBonusRowExpanded(bonusId: string): boolean {\n    return this.expandedBonusRows.has(bonusId);\n  }\n\n  // Mobile card methods\n  toggleMobileBonusCard(bonusId: string): void {\n    if (this.expandedMobileBonusCards.has(bonusId)) {\n      this.expandedMobileBonusCards.delete(bonusId);\n    } else {\n      this.expandedMobileBonusCards.add(bonusId);\n    }\n  }\n\n  isMobileBonusExpanded(bonusId: string): boolean {\n    return this.expandedMobileBonusCards.has(bonusId);\n  }\n\n  toggleMobilePaymentCard(paymentId: string): void {\n    if (this.expandedMobilePaymentCards.has(paymentId)) {\n      this.expandedMobilePaymentCards.delete(paymentId);\n    } else {\n      this.expandedMobilePaymentCards.add(paymentId);\n    }\n  }\n\n  isMobilePaymentExpanded(paymentId: string): boolean {\n    return this.expandedMobilePaymentCards.has(paymentId);\n  }\n\n  // Delete client methods\n  openDeleteModal(): void {\n    this.showDeleteModal = true;\n    this.deleteStep = 1;\n    this.deleteConfirmationWord = '';\n    this.isDeletingClient = false;\n  }\n\n  closeDeleteModal(): void {\n    this.showDeleteModal = false;\n    this.deleteStep = 1;\n    this.deleteConfirmationWord = '';\n    this.isDeletingClient = false;\n  }\n\n  proceedToDeleteStep2(): void {\n    this.deleteStep = 2;\n  }\n\n  confirmDelete(): void {\n    if (this.deleteConfirmationWord !== 'удалить') {\n      this.toastService.error('Введите слово \"удалить\" для подтверждения');\n      return;\n    }\n\n    this.isDeletingClient = true;\n    this.clientsService.deleteClient(this.clientId).subscribe({\n      next: () => {\n        this.toastService.success('Клиент успешно удален');\n        this.closeDeleteModal();\n        // Navigate back to clients list\n        this.router.navigate(['/clients']);\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка при удалении клиента';\n        this.toastService.error(errorMessage);\n        this.isDeletingClient = false;\n      }\n    });\n  }\n}\n"],
  "mappings": "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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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",
  "names": []
}
