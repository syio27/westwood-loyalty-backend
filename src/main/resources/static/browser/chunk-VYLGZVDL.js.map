{
  "version": 3,
  "sources": ["src/app/features/payments/pages/payments-page/payments-page.component.ts"],
  "sourcesContent": ["import { Component, OnInit, inject, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Router, ActivatedRoute } from '@angular/router';\nimport { forkJoin, Subject, takeUntil } from 'rxjs';\nimport { PageHeaderService } from '../../../../core/services/page-header.service';\nimport { AnalyticsService } from '../../../../core/services/analytics.service';\nimport { PaymentsService, PaymentSearchResult } from '../../../../core/services/payments.service';\nimport { ToastService } from '../../../../core/services/toast.service';\nimport { TransactionModalService } from '../../../../core/services/transaction-modal.service';\nimport { BadgeComponent } from '../../../../shared/components/badge/badge.component';\nimport { RefundConfirmationModalComponent } from '../../../../shared/components/refund-confirmation-modal/refund-confirmation-modal.component';\nimport { IconButtonComponent } from '../../../../shared/components/icon-button/icon-button.component';\nimport { ButtonComponent } from '../../../../shared/components/button/button.component';\nimport { LoaderComponent } from '../../../../shared/components/loader/loader.component';\nimport { PaginationComponent } from '../../../../shared/components/pagination/pagination.component';\nimport { PaymentViewModalComponent } from '../../../../shared/components/payment-view-modal/payment-view-modal.component';\n\ninterface Payment {\n  id: string;\n  clientId: string;\n  clientName: string;\n  clientPhone: string;\n  amount: number;\n  bonusEarned: number;\n  bonusUsed: number;\n  bonusRevoked: number;\n  paymentMethod: 'cash' | 'card' | 'transfer';\n  isRefund: boolean;\n  date: string;\n  time: string;\n  comment?: string;\n  refundReason?: string;\n  refundBy?: string;\n  initiatedBy?: string;\n  initiatedById?: string;\n}\n\ntype SortField = 'clientName' | 'amount' | 'date' | 'paymentMethod';\ntype SortDirection = 'asc' | 'desc';\n\nfunction clampPaymentPageSize(size: number): number {\n  const valid = [15, 30, 50, 100];\n  return valid.includes(size) ? size : 15;\n}\n\n@Component({\n  selector: 'app-payments-page',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule, BadgeComponent, RefundConfirmationModalComponent, IconButtonComponent, ButtonComponent, LoaderComponent, PaginationComponent, PaymentViewModalComponent],\n  template: `\n    <div class=\"page-wrapper\">\n      <div class=\"payments-container\">\n        <!-- Loading State -->\n        <div class=\"page-loading-container\" *ngIf=\"isLoadingDashboard || isLoading\">\n          <app-loader [visible]=\"true\" [overlay]=\"false\" type=\"logo\" size=\"large\"></app-loader>\n        </div>\n        \n        <div *ngIf=\"!isLoadingDashboard && !isLoading\">\n        \n        <!-- Header with Create Button -->\n        <div class=\"page-header-actions\">\n          <app-button \n            buttonType=\"primary\" \n            size=\"medium\" \n            (onClick)=\"openTransactionModal()\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" class=\"create-payment-icon\">\n              <path d=\"M6 12H18M12 6V18\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n            </svg>\n            Новая транзакция\n          </app-button>\n        </div>\n        \n        <!-- Dashboard Cards -->\n        <div class=\"dashboard-grid\">\n          <div class=\"dashboard-card\">\n            <div class=\"card-icon total-payments\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <rect x=\"9\" y=\"3\" width=\"6\" height=\"4\" rx=\"1\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <path d=\"M9 12h6M9 16h6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\"/>\n              </svg>\n            </div>\n            <div class=\"card-info\">\n              <span class=\"card-value\">{{ totalPayments }}</span>\n              <span class=\"card-label\">Всего платежей</span>\n            </div>\n          </div>\n          <div class=\"dashboard-card\">\n            <div class=\"card-icon today-payments\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                <rect x=\"3\" y=\"4\" width=\"18\" height=\"18\" rx=\"2\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                <path d=\"M16 2v4M8 2v4M3 10h18\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n              </svg>\n            </div>\n            <div class=\"card-info\">\n              <span class=\"card-value\">{{ paymentsToday }}</span>\n              <span class=\"card-label\">Платежей сегодня</span>\n            </div>\n          </div>\n          <div class=\"dashboard-card\">\n            <div class=\"card-icon total-revenue\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n              </svg>\n            </div>\n            <div class=\"card-info\">\n              <span class=\"card-value\">{{ formatAmount(totalRevenue) }} ₸</span>\n              <span class=\"card-label\">Общий доход</span>\n            </div>\n          </div>\n          <div class=\"dashboard-card\">\n            <div class=\"card-icon total-bonuses\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n              </svg>\n            </div>\n            <div class=\"card-info\">\n              <span class=\"card-value\">{{ formatAmount(totalBonusesGranted) }}</span>\n              <span class=\"card-label\">Бонусов начислено</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Filters Section -->\n        <div class=\"filters-section\">\n          <div class=\"filters-row\">\n            <!-- Search by payment ID -->\n            <div class=\"filter-group search-group\">\n              <div class=\"search-input-wrapper\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" class=\"search-icon\">\n                  <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                  <path d=\"M21 21l-4.35-4.35\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                </svg>\n                <input \n                  type=\"text\" \n                  [(ngModel)]=\"searchPaymentId\"\n                  (keydown.enter)=\"applyFilters()\"\n                  placeholder=\"Поиск по ID платежа...\"\n                  class=\"filter-input\">\n              </div>\n            </div>\n\n            <!-- Search by client name -->\n            <div class=\"filter-group\">\n              <div class=\"search-input-wrapper\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" class=\"search-icon\">\n                  <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                  <path d=\"M21 21l-4.35-4.35\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                </svg>\n                <input \n                  type=\"text\" \n                  [(ngModel)]=\"searchClientName\" \n                  (keydown.enter)=\"applyFilters()\"\n                  placeholder=\"Поиск по клиенту...\"\n                  class=\"filter-input\">\n              </div>\n            </div>\n\n            <!-- Search by phone -->\n            <div class=\"filter-group\">\n              <div class=\"search-input-wrapper\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" class=\"search-icon\">\n                  <path d=\"M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                </svg>\n                <input \n                  type=\"text\" \n                  [(ngModel)]=\"searchPhone\"\n                  (keydown.enter)=\"applyFilters()\"\n                  placeholder=\"Поиск по телефону...\"\n                  class=\"filter-input\">\n              </div>\n            </div>\n\n            <!-- Date filter -->\n            <div class=\"filter-group date-filter\">\n              <label class=\"filter-label\">Период:</label>\n              <div class=\"date-inputs\">\n                <input \n                  type=\"date\" \n                  [(ngModel)]=\"dateFrom\" \n                  placeholder=\"ДД ММ ГГГГ\"\n                  class=\"date-input\">\n                <span class=\"date-separator\">—</span>\n                <input \n                  type=\"date\" \n                  [(ngModel)]=\"dateTo\" \n                  placeholder=\"ДД ММ ГГГГ\"\n                  class=\"date-input\">\n              </div>\n            </div>\n          </div>\n\n          <div class=\"filters-row\">\n            <!-- Payment method filter -->\n            <div class=\"filter-group type-filter\">\n              <label class=\"filter-label\">Способ оплаты:</label>\n              <div class=\"type-buttons\">\n                <button \n                  class=\"type-btn\" \n                  [class.active]=\"filterPaymentMethod === 'all'\"\n                  (click)=\"filterPaymentMethod = 'all'\">Все</button>\n                <button \n                  class=\"type-btn\" \n                  [class.active]=\"filterPaymentMethod === 'cash'\"\n                  (click)=\"filterPaymentMethod = 'cash'\">Наличные</button>\n                <button \n                  class=\"type-btn\" \n                  [class.active]=\"filterPaymentMethod === 'card'\"\n                  (click)=\"filterPaymentMethod = 'card'\">Карта</button>\n                <button \n                  class=\"type-btn\" \n                  [class.active]=\"filterPaymentMethod === 'transfer'\"\n                  (click)=\"filterPaymentMethod = 'transfer'\">Перевод</button>\n              </div>\n            </div>\n\n            <!-- Refund filter -->\n            <div class=\"filter-group type-filter\">\n              <label class=\"filter-label\">Тип:</label>\n              <div class=\"type-buttons\">\n                <button \n                  class=\"type-btn\" \n                  [class.active]=\"filterRefund === 'all'\"\n                  (click)=\"filterRefund = 'all'\">Все</button>\n                <button \n                  class=\"type-btn\" \n                  [class.active]=\"filterRefund === 'paid'\"\n                  (click)=\"filterRefund = 'paid'\">Оплачено</button>\n                <button \n                  class=\"type-btn\" \n                  [class.active]=\"filterRefund === 'refund'\"\n                  (click)=\"filterRefund = 'refund'\">Возврат</button>\n              </div>\n            </div>\n\n            <!-- Sort -->\n            <div class=\"filter-group sort-group\">\n              <label class=\"filter-label\">Сортировка:</label>\n              <select [(ngModel)]=\"sortField\" class=\"sort-select\">\n                <option value=\"date\">По дате</option>\n                <option value=\"clientName\">По клиенту</option>\n                <option value=\"amount\">По сумме</option>\n                <option value=\"paymentMethod\">По способу оплаты</option>\n              </select>\n              <button class=\"sort-direction-btn\" (click)=\"sortDirection = sortDirection === 'asc' ? 'desc' : 'asc'\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" [class.desc]=\"sortDirection === 'desc'\">\n                  <path d=\"M12 5v14M19 12l-7 7-7-7\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                </svg>\n              </button>\n            </div>\n\n          </div>\n\n          <!-- Filter Actions Footer -->\n          <div class=\"filters-footer\">\n            <div class=\"button-group\">\n              <app-button \n                buttonType=\"danger-outline\" \n                size=\"medium\" \n                (onClick)=\"clearFilters()\"\n                *ngIf=\"hasActiveFilters()\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                  <path d=\"M18 6L6 18M6 6l12 12\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n                </svg>\n                Сбросить\n              </app-button>\n              <app-button \n                buttonType=\"primary-outline\" \n                size=\"medium\" \n                (onClick)=\"applyFilters()\">\n                <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                  <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                  <path d=\"M21 21l-4.35-4.35\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n                </svg>\n                Поиск\n              </app-button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Results count -->\n        <div class=\"results-info\">\n          <span class=\"results-count\">Найдено: {{ totalPaymentsFound }} платежей</span>\n        </div>\n\n        <!-- Payments Table with Pagination -->\n        <div>\n          <div class=\"table-container\">\n            <table class=\"payments-table\">\n              <thead>\n                <tr>\n                  <th class=\"th-id\">ID платежа</th>\n                  <th class=\"th-client\">Клиент</th>\n                  <th class=\"th-amount\">Сумма</th>\n                  <th class=\"th-bonuses\">Бонусы</th>\n                  <th class=\"th-method\">Способ оплаты</th>\n                  <th class=\"th-status\">Статус</th>\n                  <th class=\"th-date\">Дата и время</th>\n                  <th class=\"th-actions\">Действия</th>\n                </tr>\n              </thead>\n              <tbody>\n                <ng-container *ngFor=\"let payment of payments\">\n                  <tr class=\"payment-row\">\n                    <td class=\"td-id\">\n                      <span class=\"payment-id clickable\" (click)=\"openPaymentView(payment.id)\">{{ payment.id }}</span>\n                    </td>\n                    <td class=\"td-client\">\n                      <div class=\"client-cell\">\n                        <div class=\"client-avatar\">\n                          {{ getInitials(payment.clientName) }}\n                        </div>\n                        <div class=\"client-info\">\n                          <a [routerLink]=\"['/clients', payment.clientId]\" class=\"client-name-link\">\n                            <span class=\"client-name\">{{ payment.clientName }}</span>\n                          </a>\n                          <span class=\"client-phone\">{{ payment.clientPhone }}</span>\n                        </div>\n                      </div>\n                    </td>\n                    <td class=\"td-amount\">\n                      <span class=\"amount-value\">{{ formatAmount(payment.amount) }} ₸</span>\n                    </td>\n                    <td class=\"td-bonuses\">\n                      <div class=\"bonus-info\">\n                        <app-badge \n                          *ngIf=\"payment.bonusEarned > 0\"\n                          badgeType=\"bonusGranted\" \n                          size=\"medium\"\n                          icon=\"star\"\n                          class=\"bonus-badge\">\n                          +{{ formatAmount(payment.bonusEarned) }}\n                        </app-badge>\n                        <app-badge \n                          *ngIf=\"payment.bonusUsed > 0\"\n                          badgeType=\"bonusUsed\" \n                          size=\"medium\"\n                          icon=\"check\"\n                          class=\"bonus-badge\">\n                          -{{ formatAmount(payment.bonusUsed) }}\n                        </app-badge>\n                        <app-badge \n                          *ngIf=\"payment.bonusRevoked > 0\"\n                          badgeType=\"refund\" \n                          size=\"medium\"\n                          icon=\"refund\"\n                          class=\"bonus-badge\">\n                          -{{ formatAmount(payment.bonusRevoked) }}\n                        </app-badge>\n                        <span class=\"bonus-none\" *ngIf=\"payment.bonusEarned === 0 && payment.bonusUsed === 0 && payment.bonusRevoked === 0\">—</span>\n                      </div>\n                    </td>\n                    <td class=\"td-method\">\n                    <app-badge \n                      badgeType=\"paymentMethod\" \n                      size=\"medium\"\n                      [paymentMethod]=\"getPaymentMethodForBadge(payment.paymentMethod)\">\n                    </app-badge>\n                    </td>\n                    <td class=\"td-status\">\n                      <app-badge \n                        [badgeType]=\"payment.isRefund ? 'refund' : 'payment'\" \n                        size=\"medium\"\n                        [icon]=\"payment.isRefund ? 'refund' : 'payment'\">\n                        {{ payment.isRefund ? 'Возврат' : 'Оплачено' }}\n                      </app-badge>\n                    </td>\n                    <td class=\"td-date\">\n                      <div class=\"date-info\">\n                        <span class=\"date-text\">{{ payment.date }}</span>\n                        <span class=\"time-text\">{{ payment.time }}</span>\n                      </div>\n                    </td>\n                    <td class=\"td-actions\">\n                      <div class=\"actions-cell\">\n                        <app-icon-button\n                          iconButtonType=\"refund\"\n                          size=\"small\"\n                          tooltip=\"Возврат\"\n                          [disabled]=\"payment.isRefund\"\n                          (onClick)=\"openRefundModal(payment)\">\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n                            <path d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                          </svg>\n                        </app-icon-button>\n                        <app-icon-button\n                          iconButtonType=\"ghost\"\n                          size=\"small\"\n                          [tooltip]=\"isPaymentRowExpanded(payment.id) ? 'Скрыть детали' : 'Показать детали'\"\n                          (onClick)=\"togglePaymentRow(payment.id)\">\n                          <svg [class.rotated]=\"isPaymentRowExpanded(payment.id)\" viewBox=\"0 0 24 24\" fill=\"none\">\n                            <path d=\"M6 9l6 6 6-6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                          </svg>\n                        </app-icon-button>\n                      </div>\n                    </td>\n                  </tr>\n                  <tr *ngIf=\"isPaymentRowExpanded(payment.id)\" class=\"payment-details-row\">\n                    <td colspan=\"8\" class=\"payment-details-cell\">\n                      <div class=\"payment-details-content\">\n                        <div class=\"refund-details-grid\">\n                          <div class=\"refund-reason-section\">\n                            <span class=\"refund-label\">Причина возврата:</span>\n                            <div class=\"refund-reason-text\" *ngIf=\"payment.refundReason\">\n                              {{ payment.refundReason }}\n                            </div>\n                            <div class=\"refund-reason-empty\" *ngIf=\"!payment.refundReason\">\n                              Нет причины возврата\n                            </div>\n                          </div>\n                          <div class=\"refund-by-section\">\n                            <span class=\"refund-label\">Инициатор платежа:</span>\n                            <a *ngIf=\"payment.initiatedBy && payment.initiatedById\" \n                               [routerLink]=\"['/users', payment.initiatedById]\" \n                               class=\"refund-by-link\">\n                              {{ payment.initiatedBy }}\n                            </a>\n                            <div class=\"refund-by-text\" *ngIf=\"payment.initiatedBy && !payment.initiatedById\">\n                              {{ payment.initiatedBy }}\n                            </div>\n                            <div class=\"refund-by-empty\" *ngIf=\"!payment.initiatedBy\">\n                              Не указан\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                  </tr>\n                </ng-container>\n            </tbody>\n          </table>\n\n          <div class=\"empty-state\" *ngIf=\"payments.length === 0\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\">\n              <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n              <path d=\"M21 21l-4.35-4.35\" stroke=\"currentColor\" stroke-width=\"1.5\"/>\n            </svg>\n            <span>Платежи не найдены</span>\n            <button class=\"reset-btn\" (click)=\"clearFilters()\">Сбросить фильтры</button>\n          </div>\n        </div>\n\n        <!-- Backend Pagination -->\n        <div class=\"pagination-container\" *ngIf=\"totalPaymentsFound > 0\">\n          <div class=\"pagination-left\">\n            <div class=\"pagination-info\">\n              <span>Показано {{ (currentPage * pageSize) + 1 }}-{{ Math.min((currentPage + 1) * pageSize, totalPaymentsFound) }} из {{ totalPaymentsFound }}</span>\n            </div>\n            <div class=\"page-size-filter-section\">\n              <label class=\"page-size-label\">Строк на странице:</label>\n              <select [(ngModel)]=\"pageSize\" (change)=\"onPageSizeChange()\" class=\"page-size-select\">\n                <option [value]=\"15\">15</option>\n                <option [value]=\"30\">30</option>\n                <option [value]=\"50\">50</option>\n                <option [value]=\"100\">100</option>\n              </select>\n            </div>\n          </div>\n          <div class=\"pagination-right\" *ngIf=\"getTotalPages() > 1\">\n            <app-pagination\n              [currentPage]=\"currentPage + 1\"\n              [totalPages]=\"getTotalPages()\"\n              (pageChange)=\"onPageChange($event)\">\n            </app-pagination>\n          </div>\n        </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Refund Confirmation Modal -->\n    <app-refund-confirmation-modal\n      [visible]=\"showRefundModal\"\n      [payment]=\"selectedPaymentForRefund\"\n      (visibleChange)=\"closeRefundModal()\"\n      (confirm)=\"confirmRefund($event)\">\n    </app-refund-confirmation-modal>\n\n    <!-- Payment View Modal -->\n    <app-payment-view-modal\n      [visible]=\"showPaymentViewModal\"\n      [paymentTxId]=\"selectedPaymentTxId\"\n      [paymentSearchResult]=\"selectedPaymentSearchResult\"\n      (visibleChange)=\"closePaymentView()\"\n      (paymentUpdated)=\"onPaymentUpdated()\"\n      (refundedPaymentClick)=\"openPaymentView($event)\">\n    </app-payment-view-modal>\n  `,\n  styles: [`\n    .page-wrapper {\n      min-height: 100%;\n      margin: -2rem;\n      padding: 2rem;\n    }\n\n    .payments-container {\n      max-width: 1400px;\n      margin: 0 auto;\n      position: relative;\n      min-height: 400px;\n    }\n\n    .page-loading-container {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      min-height: 60vh;\n      width: 100%;\n    }\n\n    /* Header with Create Button */\n    .page-header-actions {\n      display: flex;\n      justify-content: flex-end;\n      margin-bottom: 1rem;\n    }\n\n    .page-header-actions app-button {\n      display: inline-flex;\n      align-items: center;\n      gap: 0.5rem;\n    }\n\n    .page-header-actions .create-payment-icon {\n      width: 20px;\n      height: 20px;\n      flex-shrink: 0;\n    }\n\n    /* Dashboard Grid */\n    .dashboard-grid {\n      display: grid;\n      grid-template-columns: repeat(4, 1fr);\n      gap: 1rem;\n      margin-bottom: 1.5rem;\n    }\n\n    .dashboard-card {\n      background: white;\n      border-radius: 16px;\n      padding: 1.25rem;\n      display: flex;\n      align-items: center;\n      gap: 1rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n      border: 1px solid #e5e7eb;\n    }\n\n    .card-icon {\n      width: 50px;\n      height: 50px;\n      border-radius: 12px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .card-icon svg {\n      width: 24px;\n      height: 24px;\n    }\n\n    .card-icon.total-payments {\n      color: rgb(0, 0, 0);\n      background-color: #f3f4f6;\n      border: 1px solid #e5e7eb;\n      border-radius: 8px;\n    }\n\n    .card-icon.today-payments {\n      color: rgb(0, 0, 0);\n      background-color: #f3f4f6;\n      border: 1px solid #e5e7eb;\n      border-radius: 8px;\n    }\n\n    .card-icon.total-revenue {\n      color: rgb(0, 0, 0);\n      background-color: #f3f4f6;\n      border: 1px solid #e5e7eb;\n      border-radius: 8px;\n    }\n\n    .card-icon.total-bonuses {\n      color: rgb(0, 0, 0);\n      background-color: #f3f4f6;\n      border: 1px solid #e5e7eb;\n      border-radius: 8px;\n    }\n\n    .card-info {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .card-value {\n      font-size: 1.35rem;\n      font-weight: 700;\n      color: #1f2937;\n    }\n\n    .card-label {\n      font-size: 0.8rem;\n      color: #64748b;\n    }\n\n    /* Filters Section */\n    .filters-section {\n      background: white;\n      border-radius: 16px;\n      padding: 1.25rem;\n      margin-bottom: 1rem;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n      border: 1px solid #e5e7eb;\n    }\n\n    .filters-row {\n      display: flex;\n      gap: 1rem;\n      align-items: flex-end;\n      flex-wrap: wrap;\n    }\n\n    .filters-row + .filters-row {\n      margin-top: 1rem;\n      padding-top: 1rem;\n      border-top: 1px solid #f1f5f9;\n    }\n\n    .filter-group {\n      display: flex;\n      flex-direction: column;\n      gap: 0.35rem;\n    }\n\n    .filter-label {\n      font-size: 0.75rem;\n      font-weight: 600;\n      color: #64748b;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n    }\n\n    .search-group {\n      flex: 1;\n      min-width: 200px;\n    }\n\n    .search-input-wrapper {\n      position: relative;\n      display: flex;\n      align-items: center;\n    }\n\n    .search-icon {\n      position: absolute;\n      left: 12px;\n      width: 18px;\n      height: 18px;\n      color: #94a3b8;\n      pointer-events: none;\n    }\n\n    .filter-input {\n      width: 100%;\n      padding: 0.625rem 0.875rem 0.625rem 2.5rem;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 10px;\n      font-size: 0.9rem;\n      background: #f8fafc;\n      color: #1f2937;\n      transition: all 0.2s;\n    }\n\n    .filter-input:hover {\n      border-color: #cbd5e1;\n    }\n\n    .filter-input:focus {\n      outline: none;\n      border-color: #22c55e;\n      background: white;\n      box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n    }\n\n    .filter-input::placeholder {\n      color: #94a3b8;\n    }\n\n    /* Date Filter */\n    .date-filter {\n      min-width: 280px;\n    }\n\n    .date-inputs {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n    }\n\n    .date-input {\n      flex: 1;\n      padding: 0.625rem 0.875rem;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 10px;\n      font-size: 0.9rem;\n      background: #f8fafc;\n      color: #1f2937;\n      transition: all 0.2s;\n    }\n\n    .date-input:hover {\n      border-color: #cbd5e1;\n    }\n\n    .date-input:focus {\n      outline: none;\n      border-color: #22c55e;\n      background: white;\n      box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);\n    }\n\n    .date-separator {\n      color: #94a3b8;\n      font-weight: 500;\n      font-size: 0.9rem;\n    }\n\n    /* Type Filter */\n    .type-filter {\n      flex-direction: row;\n      align-items: center;\n    }\n\n    .type-buttons {\n      display: flex;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 8px;\n      overflow: hidden;\n    }\n\n    .type-btn {\n      padding: 0.5rem 0.875rem;\n      border: none;\n      background: #f8fafc;\n      color: #64748b;\n      font-size: 0.8rem;\n      font-weight: 500;\n      cursor: pointer;\n      transition: all 0.15s;\n    }\n\n    .type-btn:not(:last-child) {\n      border-right: 1px solid #e2e8f0;\n    }\n\n    .type-btn.active {\n      background: #16A34A;\n      color: white;\n    }\n\n    .type-btn:hover:not(.active) {\n      background: #f1f5f9;\n    }\n\n    /* Sort */\n    .sort-group {\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      gap: 0.5rem;\n    }\n\n    .sort-group .filter-label {\n      margin-bottom: 0;\n    }\n\n    .sort-select {\n      padding: 0.5rem 2rem 0.5rem 0.75rem;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 8px;\n      font-size: 0.85rem;\n      background: #f8fafc;\n      color: #1f2937;\n      cursor: pointer;\n      appearance: none;\n      background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E\");\n      background-repeat: no-repeat;\n      background-position: right 0.5rem center;\n    }\n\n    .sort-select:focus {\n      outline: none;\n      border-color: #22c55e;\n    }\n\n    .sort-direction-btn {\n      width: 36px;\n      height: 36px;\n      border: 1.5px solid #e2e8f0;\n      border-radius: 8px;\n      background: #f8fafc;\n      color: #64748b;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: all 0.2s;\n    }\n\n    .sort-direction-btn svg {\n      width: 18px;\n      height: 18px;\n      transition: transform 0.2s;\n    }\n\n    .sort-direction-btn svg.desc {\n      transform: rotate(180deg);\n    }\n\n    .sort-direction-btn:hover {\n      border-color: #22c55e;\n      color: #16A34A;\n    }\n\n    /* Clear Filters */\n    /* Filter Actions Footer */\n    .filters-footer {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 1rem;\n      padding-top: 1rem;\n      border-top: 1px solid #f1f5f9;\n    }\n\n    .button-group {\n      display: flex;\n      gap: 2rem;\n    }\n\n    .button-group app-button {\n      width: 110px;\n    }\n\n    .button-group app-button svg {\n      width: 14px;\n      height: 14px;\n    }\n\n    /* Results Info */\n    .results-info {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 0.75rem;\n    }\n\n    .results-count {\n      font-size: 0.85rem;\n      color: #64748b;\n      font-weight: 500;\n    }\n\n    /* Table Container */\n    .table-container {\n      background: white;\n      border-radius: 16px;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\n      border: 1px solid #e5e7eb;\n      overflow: hidden;\n    }\n\n    .payments-table {\n      width: 100%;\n      border-collapse: collapse;\n    }\n\n    .payments-table th {\n      padding: 1rem;\n      text-align: left;\n      font-size: 0.75rem;\n      font-weight: 600;\n      color: #64748b;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      background: #f8fafc;\n      border-bottom: 1px solid #e5e7eb;\n    }\n\n    .payments-table td {\n      padding: 1rem;\n      border-bottom: 1px solid #f1f5f9;\n    }\n\n    .payment-row {\n      transition: background 0.15s;\n    }\n\n    .payment-row:hover {\n      background: #f8fafc;\n    }\n\n    .payment-row:last-child td {\n      border-bottom: none;\n    }\n\n    .payments-table tbody tr.payment-details-row {\n      background: transparent;\n    }\n\n    .payments-table tbody tr.payment-details-row td {\n      border-top: none;\n      padding: 0;\n    }\n\n    .payment-details-cell {\n      padding: 0 !important;\n      background: transparent;\n    }\n\n    .payment-details-content {\n      padding: 1rem 1.5rem;\n      overflow: hidden;\n      animation: slideDown 0.3s ease-out;\n    }\n\n    @keyframes slideDown {\n      from {\n        opacity: 0;\n        max-height: 0;\n      }\n      to {\n        opacity: 1;\n        max-height: 300px;\n      }\n    }\n\n    .refund-details-grid {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n      gap: 2rem;\n    }\n\n    .refund-reason-section {\n      flex: 1;\n      text-align: left;\n    }\n\n    .refund-by-section {\n      flex: 0 0 auto;\n      text-align: right;\n      min-width: 200px;\n    }\n\n    .refund-by-link {\n      display: inline-block;\n      padding: 0.75rem 0;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #1f2937;\n      line-height: 1.6;\n      white-space: pre-wrap;\n      text-align: right;\n      text-decoration: none;\n      cursor: pointer;\n      transition: color 0.2s ease;\n    }\n\n    .refund-by-link:hover {\n      color: #16A34A;\n    }\n\n    .refund-reason-section,\n    .refund-by-section {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n    }\n\n    .refund-label {\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #475569;\n    }\n\n    .refund-reason-text {\n      padding: 0.75rem;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #1f2937;\n      line-height: 1.6;\n      white-space: pre-wrap;\n      text-align: left;\n    }\n\n    .refund-by-text {\n      padding: 0.75rem 0;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #1f2937;\n      line-height: 1.6;\n      white-space: pre-wrap;\n      text-align: right;\n    }\n\n    .refund-reason-empty {\n      padding: 0.75rem;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #94a3b8;\n      font-style: italic;\n      text-align: left;\n    }\n\n    .refund-by-empty {\n      padding: 0.75rem 0;\n      background: transparent;\n      border: none;\n      border-radius: 0;\n      font-size: 0.875rem;\n      color: #94a3b8;\n      font-style: italic;\n      text-align: right;\n    }\n\n    .actions-cell svg {\n      transition: transform 0.3s ease;\n    }\n\n    .actions-cell svg.rotated {\n      transform: rotate(180deg);\n    }\n\n    /* Payment ID */\n    .td-id {\n      min-width: 100px;\n    }\n\n    .payment-id {\n      font-family: monospace;\n      font-weight: 600;\n      color: #64748b;\n      font-size: 0.875rem;\n    }\n\n    .payment-id.clickable {\n      color: #64748b;\n      cursor: pointer;\n      text-decoration: underline;\n      transition: color 0.2s;\n    }\n\n    .payment-id.clickable:hover {\n      color: #475569;\n    }\n\n    /* Client Cell */\n    .client-cell {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n    }\n\n    .client-avatar {\n      width: 40px;\n      height: 40px;\n      border-radius: 10px;\n      background: linear-gradient(135deg, #f0fdf4, #dcfce7);\n      color: #16A34A;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 0.875rem;\n      font-weight: 600;\n      flex-shrink: 0;\n    }\n\n    .client-info {\n      display: flex;\n      flex-direction: column;\n      gap: 0.15rem;\n    }\n\n    .client-name-link {\n      text-decoration: none;\n      color: inherit;\n      transition: color 0.15s;\n    }\n\n    .client-name-link:hover {\n      color: #16A34A;\n    }\n\n    .client-name {\n      font-size: 0.9rem;\n      font-weight: 600;\n      color: #1f2937;\n      cursor: pointer;\n    }\n\n    .client-name-link:hover .client-name {\n      color: #16A34A;\n    }\n\n    .client-phone {\n      font-size: 0.8rem;\n      color: #64748b;\n    }\n\n    /* Amount */\n    .amount-value {\n      font-size: 0.95rem;\n      font-weight: 600;\n      color: #16A34A;\n    }\n\n    /* Bonuses */\n    .bonus-info {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      flex-wrap: wrap;\n    }\n\n    .bonus-badge {\n      display: inline-block;\n    }\n\n    .bonus-none {\n      font-size: 0.8rem;\n      color: #94a3b8;\n    }\n\n\n    /* Date Info */\n    .date-info {\n      display: flex;\n      flex-direction: column;\n      gap: 0.15rem;\n    }\n\n    .date-text {\n      font-size: 0.85rem;\n      color: #1f2937;\n      font-weight: 500;\n    }\n\n    .time-text {\n      font-size: 0.75rem;\n      color: #64748b;\n    }\n\n    /* Actions */\n    .actions-cell {\n      display: flex;\n      gap: 0.5rem;\n    }\n\n    .action-link {\n      display: inline-flex;\n      text-decoration: none;\n      color: inherit;\n    }\n\n    /* Empty State */\n    .empty-state {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      padding: 4rem 2rem;\n      color: #94a3b8;\n    }\n\n    .empty-state svg {\n      width: 48px;\n      height: 48px;\n      margin-bottom: 1rem;\n    }\n\n    .empty-state span {\n      font-size: 1rem;\n      margin-bottom: 1rem;\n    }\n\n    .reset-btn {\n      padding: 0.5rem 1rem;\n      background: #16A34A;\n      color: white;\n      border: none;\n      border-radius: 8px;\n      font-size: 0.85rem;\n      font-weight: 500;\n      cursor: pointer;\n    }\n\n    .reset-btn:hover {\n      background: #14532d;\n    }\n\n    /* Pagination Container */\n    .pagination-container {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 1rem;\n      background: white;\n      border-radius: 12px;\n      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\n      gap: 1rem;\n      margin-top: 1rem;\n    }\n\n    .pagination-left {\n      display: flex;\n      align-items: center;\n      gap: 1.5rem;\n      flex-wrap: wrap;\n    }\n\n    .pagination-right {\n      display: flex;\n      align-items: center;\n    }\n\n    .pagination-info {\n      font-size: 0.875rem;\n      color: #64748b;\n      font-weight: 500;\n    }\n\n    .page-size-filter-section {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n    }\n\n    .page-size-label {\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #475569;\n    }\n\n    .page-size-select {\n      padding: 8px 12px;\n      border: 1px solid #cbd5e1;\n      border-radius: 8px;\n      font-size: 0.875rem;\n      background: white;\n      color: #1f2937;\n      cursor: pointer;\n      outline: none;\n      transition: all 0.2s;\n    }\n\n    .page-size-select:hover {\n      border-color: #94a3b8;\n    }\n\n    .page-size-select:focus {\n      border-color: #16A34A;\n      box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);\n    }\n\n    /* Responsive */\n    @media (max-width: 1200px) {\n      .dashboard-grid {\n        grid-template-columns: repeat(2, 1fr);\n      }\n    }\n\n    @media (max-width: 768px) {\n      .page-wrapper {\n        margin: -1rem;\n        padding: 1rem;\n      }\n\n      .dashboard-grid {\n        grid-template-columns: 1fr;\n      }\n\n      .filters-row {\n        flex-direction: column;\n      }\n\n      .filter-group {\n        width: 100%;\n      }\n\n      .table-container {\n        overflow-x: auto;\n      }\n\n      .payments-table {\n        min-width: 900px;\n      }\n    }\n\n  `]\n})\nexport class PaymentsPageComponent implements OnInit, OnDestroy {\n  private pageHeaderService = inject(PageHeaderService);\n  private analyticsService = inject(AnalyticsService);\n  private paymentsService = inject(PaymentsService);\n  private toastService = inject(ToastService);\n  private transactionModalService = inject(TransactionModalService);\n  private router = inject(Router);\n  private route = inject(ActivatedRoute);\n  private destroy$ = new Subject<void>();\n\n  // Dashboard data\n  totalPayments = 0;\n  paymentsToday = 0;\n  totalRevenue = 0;\n  totalBonusesGranted = 0;\n  isLoadingDashboard = true;\n\n  // Filters\n  searchPaymentId = '';\n  searchClientName = '';\n  searchPhone = '';\n  dateFrom = '';\n  dateTo = '';\n  filterPaymentMethod: 'all' | 'cash' | 'card' | 'transfer' = 'all';\n  filterRefund: 'all' | 'paid' | 'refund' = 'all';\n  sortField: SortField = 'date';\n  sortDirection: SortDirection = 'desc';\n\n  // Refund modal\n  showRefundModal = false;\n  selectedPaymentForRefund: Payment | null = null;\n\n  // Payment view modal\n  showPaymentViewModal = false;\n  selectedPaymentTxId: string | null = null;\n  selectedPaymentSearchResult: PaymentSearchResult | null = null;\n\n  // Payments data\n  isLoading = false;\n  payments: Payment[] = [];\n  totalPaymentsFound = 0;\n  currentPage = 0;\n  pageSize = 15;\n\n  // Раскрытые строки платежей\n  expandedPaymentRows = new Set<string>();\n\n  ngOnInit(): void {\n    this.pageHeaderService.setPageHeader('Платежи', [\n      { label: 'Главная', route: '/home' },\n      { label: 'Платежи' }\n    ]);\n\n    // Initial pagination from URL\n    const params = this.route.snapshot.queryParams;\n    const pageFromUrl = Math.max(1, +(params['page'] ?? 1) || 1);\n    const sizeFromUrl = clampPaymentPageSize(+(params['size'] ?? 0) || 15);\n    this.currentPage = pageFromUrl - 1;\n    this.pageSize = sizeFromUrl;\n\n    this.loadDashboardData();\n    this.loadPayments();\n\n    // React to query param changes (browser back/forward or programmatic navigate)\n    this.route.queryParams.pipe(takeUntil(this.destroy$)).subscribe((params) => {\n      const p = Math.max(1, +(params['page'] ?? 1) || 1);\n      const s = clampPaymentPageSize(+(params['size'] ?? 0) || 15);\n      const pageIndex = p - 1;\n      if (this.currentPage !== pageIndex || this.pageSize !== s) {\n        this.currentPage = pageIndex;\n        this.pageSize = s;\n        this.loadPayments();\n      }\n    });\n\n    // Subscribe to transaction completion events\n    this.transactionModalService.transactionComplete$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        const currentUrl = this.router.url;\n        if (currentUrl === '/payments' || currentUrl.startsWith('/payments')) {\n          this.loadDashboardData();\n          this.loadPayments();\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  loadDashboardData(): void {\n    this.isLoadingDashboard = true;\n    forkJoin({\n      totals: this.analyticsService.getOverallTotals(),\n      daily: this.analyticsService.getDailyTransactions()\n    }).subscribe({\n      next: ({ totals, daily }) => {\n        this.totalPayments = totals.totalPayments;\n        this.totalRevenue = totals.totalRevenue;\n        this.totalBonusesGranted = totals.totalBonusesGranted;\n        this.paymentsToday = daily.count;\n        this.isLoadingDashboard = false;\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка загрузки данных';\n        this.toastService.error(errorMessage);\n        this.isLoadingDashboard = false;\n      }\n    });\n  }\n\n  loadPayments(): void {\n    this.isLoading = true;\n    const searchRequest = this.buildSearchRequest();\n    \n    this.paymentsService.searchPayments(searchRequest).subscribe({\n      next: (response) => {\n        this.payments = response.content.map(result => this.mapSearchResultToPayment(result));\n        this.totalPaymentsFound = response.totalElements;\n        this.isLoading = false;\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка загрузки платежей';\n        this.toastService.error(errorMessage);\n        this.isLoading = false;\n      }\n    });\n  }\n\n  buildSearchRequest() {\n    const request: any = {\n      paymentId: this.searchPaymentId.trim() || '',\n      clientName: this.searchClientName.trim() || '',\n      phone: this.searchPhone.trim() || '',\n      periodFrom: this.dateFrom ? `${this.dateFrom}T00:00:00` : null,\n      periodTo: this.dateTo ? `${this.dateTo}T23:59:59` : null,\n      paymentMethod: this.filterPaymentMethod !== 'all' ? this.filterPaymentMethod.toUpperCase() : null,\n      paymentType: this.filterRefund === 'all' ? 'ALL' : (this.filterRefund === 'paid' ? 'PAID' : 'REFUND'),\n      sortBy: this.mapSortField(this.sortField),\n      sortDirection: this.sortDirection.toUpperCase() as 'ASC' | 'DESC',\n      page: this.currentPage,\n      size: this.pageSize\n    };\n    return request;\n  }\n\n  mapSortField(field: SortField): 'date' | 'amount' | 'clientName' {\n    switch (field) {\n      case 'date':\n        return 'date';\n      case 'amount':\n        return 'amount';\n      case 'clientName':\n        return 'clientName';\n      default:\n        return 'date';\n    }\n  }\n\n  mapSearchResultToPayment(result: PaymentSearchResult): Payment {\n    const createdAt = new Date(result.createdAt);\n    const dateStr = this.formatDate(createdAt);\n    const timeStr = this.formatTime(createdAt);\n    \n    return {\n      id: result.txId,\n      clientId: result.clientId,\n      clientName: result.clientName,\n      clientPhone: result.clientPhone,\n      amount: result.amount,\n      bonusEarned: result.bonusGranted,\n      bonusUsed: result.bonusUsed,\n      bonusRevoked: result.bonusRevoked || 0,\n      paymentMethod: (result.paymentMethod?.toLowerCase() as 'cash' | 'card' | 'transfer') || 'cash',\n      isRefund: result.status === 'REFUNDED' || !!result.refundedPaymentTxId,\n      date: dateStr,\n      time: timeStr,\n      refundReason: result.refundReason || undefined,\n      initiatedBy: result.initiatedBy || undefined\n    };\n  }\n\n  formatTime(date: Date): string {\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    return `${hours}:${minutes}`;\n  }\n\n  formatPaymentId(id: string): string {\n    // Remove PTX- prefix if present\n    return id.replace(/^PTX-/, '');\n  }\n\n  getPaymentMethodForBadge(method: string | undefined): 'CASH' | 'CARD' | 'TRANSFER' | null {\n    if (!method) return null;\n    const upperMethod = method.toUpperCase();\n    if (upperMethod === 'CASH' || upperMethod === 'CARD' || upperMethod === 'TRANSFER') {\n      return upperMethod as 'CASH' | 'CARD' | 'TRANSFER';\n    }\n    return null;\n  }\n\n  togglePaymentRow(paymentId: string): void {\n    if (this.expandedPaymentRows.has(paymentId)) {\n      this.expandedPaymentRows.delete(paymentId);\n    } else {\n      this.expandedPaymentRows.add(paymentId);\n    }\n  }\n\n  isPaymentRowExpanded(paymentId: string): boolean {\n    return this.expandedPaymentRows.has(paymentId);\n  }\n\n  formatDateForInput(date: Date): string {\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  }\n\n  formatDate(date: Date): string {\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n    return `${day}.${month}.${year}`;\n  }\n\n  formatAmount(amount: number): string {\n    return amount.toLocaleString('ru-RU');\n  }\n\n  getInitials(name: string): string {\n    const parts = name.split(' ');\n    if (parts.length >= 2) {\n      return (parts[0].charAt(0) + parts[1].charAt(0)).toUpperCase();\n    }\n    return name.substring(0, 2).toUpperCase();\n  }\n\n  getPaymentMethodLabel(method: string): string {\n    const labels: Record<string, string> = {\n      cash: 'Наличные',\n      card: 'Карта',\n      transfer: 'Перевод'\n    };\n    return labels[method] || method;\n  }\n\n  applyFilters(): void {\n    this.currentPage = 0;\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: { page: 1, size: this.pageSize },\n      queryParamsHandling: 'merge',\n      replaceUrl: true\n    });\n    this.loadPayments();\n  }\n\n  onPageChange(page: number): void {\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: { page, size: this.pageSize },\n      queryParamsHandling: 'merge',\n      replaceUrl: true\n    });\n    const tableContainer = document.querySelector('.table-container');\n    if (tableContainer) {\n      tableContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  }\n\n  onPageSizeChange(): void {\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: { page: 1, size: this.pageSize },\n      queryParamsHandling: 'merge',\n      replaceUrl: true\n    });\n  }\n\n  getTotalPages(): number {\n    return Math.ceil(this.totalPaymentsFound / this.pageSize);\n  }\n\n  get Math() {\n    return Math;\n  }\n\n  hasActiveFilters(): boolean {\n    return this.searchPaymentId.trim() !== '' ||\n           this.searchClientName.trim() !== '' ||\n           this.searchPhone.trim() !== '' ||\n           this.dateFrom !== '' ||\n           this.dateTo !== '' ||\n           this.filterPaymentMethod !== 'all' ||\n           this.filterRefund !== 'all';\n  }\n\n  clearFilters(): void {\n    this.searchPaymentId = '';\n    this.searchClientName = '';\n    this.searchPhone = '';\n    this.dateFrom = '';\n    this.dateTo = '';\n    this.filterPaymentMethod = 'all';\n    this.filterRefund = 'all';\n    this.sortField = 'date';\n    this.sortDirection = 'desc';\n    this.currentPage = 0;\n    this.router.navigate([], {\n      relativeTo: this.route,\n      queryParams: { page: 1, size: this.pageSize },\n      queryParamsHandling: 'merge',\n      replaceUrl: true\n    });\n    this.loadPayments();\n  }\n\n  openRefundModal(payment: Payment): void {\n    if (payment.isRefund) {\n      return;\n    }\n    this.selectedPaymentForRefund = payment;\n    this.showRefundModal = true;\n  }\n\n  closeRefundModal(): void {\n    this.showRefundModal = false;\n    this.selectedPaymentForRefund = null;\n  }\n\n  confirmRefund(payment: Payment): void {\n    if (!payment) {\n      return;\n    }\n    \n    const refundRequest = {\n      notes: payment.refundReason || 'Возврат платежа'\n    };\n\n    this.paymentsService.refundPayment(payment.id, refundRequest).subscribe({\n      next: () => {\n        this.toastService.success('Платеж успешно возвращен');\n        this.closeRefundModal();\n        this.loadPayments();\n        this.loadDashboardData();\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка при возврате платежа';\n        this.toastService.error(errorMessage);\n      }\n    });\n  }\n\n  openPaymentView(paymentId: string): void {\n    // Find payment in the list to get search result data\n    const payment = this.payments.find(p => p.id === paymentId);\n    if (payment) {\n      // Convert Payment to PaymentSearchResult format\n      this.selectedPaymentSearchResult = {\n        txId: payment.id,\n        clientId: payment.clientId,\n        clientName: payment.clientName,\n        clientPhone: payment.clientPhone,\n        clientEmail: null,\n        amount: payment.amount,\n        status: payment.isRefund ? 'REFUNDED' : 'COMPLETED',\n        paymentMethod: payment.paymentMethod?.toUpperCase() as 'CASH' | 'CARD' | 'TRANSFER' | null,\n        initiatedBy: payment.initiatedBy || null,\n        createdAt: payment.date + 'T' + payment.time,\n        refundedPaymentTxId: null,\n        bonusGranted: payment.bonusEarned,\n        bonusUsed: payment.bonusUsed,\n        bonusRevoked: payment.bonusRevoked,\n        refundReason: payment.refundReason || null\n      };\n    }\n    this.selectedPaymentTxId = paymentId;\n    this.showPaymentViewModal = true;\n  }\n\n  closePaymentView(): void {\n    this.showPaymentViewModal = false;\n    this.selectedPaymentTxId = null;\n    this.selectedPaymentSearchResult = null;\n  }\n\n  onPaymentUpdated(): void {\n    // Reload payments after update\n    this.loadPayments();\n  }\n\n  openTransactionModal(): void {\n    this.transactionModalService.open();\n  }\n}\n"],
  "mappings": "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",
  "names": ["params"]
}
