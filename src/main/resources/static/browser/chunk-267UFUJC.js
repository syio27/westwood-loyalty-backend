import{a as r}from"./chunk-3B24VZJ2.js";import{P as i,S as s,c as n,xb as a}from"./chunk-SDVY3Z22.js";var u=(()=>{class e{http;apiUrl=`${r.apiUrl}/clients`;constructor(t){this.http=t}searchClients(t){return this.http.post(`${this.apiUrl}/search`,t)}getTags(){return this.http.get(`${this.apiUrl}/tags`)}getClientById(t){return this.http.get(`${this.apiUrl}/${t}`)}updateClient(t,o){let l=`${this.apiUrl}/${t}`;return console.log("=== UPDATE CLIENT REQUEST ==="),console.log("URL:",l),console.log("Method: PUT"),console.log("Client ID:",t),console.log("Full Request Payload:",JSON.stringify(o,null,2)),console.log("Request Payload (object):",o),console.log("============================"),this.http.put(l,o)}updateClientNotes(t,o){let l=`${this.apiUrl}/${t}/notes`;return console.log("=== UPDATE CLIENT NOTES REQUEST ==="),console.log("URL:",l),console.log("Method: PUT"),console.log("Client ID:",t),console.log("Full Request Payload:",JSON.stringify(o,null,2)),console.log("Request Payload (object):",o),console.log("==================================="),this.http.put(l,o)}updateClientTags(t,o){let l=`${this.apiUrl}/${t}/tags`;return console.log("=== UPDATE CLIENT TAGS REQUEST ==="),console.log("URL:",l),console.log("Method: PUT"),console.log("Client ID:",t),console.log("Full Request Payload:",JSON.stringify(o,null,2)),console.log("Request Payload (object):",o),console.log("=================================="),this.http.put(l,o)}getClientByPhone(t){return this.http.get(`${this.apiUrl}/phone/${encodeURIComponent(t)}`)}createClient(t){return console.log("=== CREATE CLIENT REQUEST ==="),console.log("URL:",`${this.apiUrl}`),console.log("Method: POST"),console.log("Full Request Payload:",JSON.stringify(t,null,2)),console.log("Request Payload (object):",t),console.log("============================"),this.http.post(this.apiUrl,t)}deleteClient(t){return console.log("=== DELETE CLIENT REQUEST ==="),console.log("URL:",`${this.apiUrl}/${t}`),console.log("Method: DELETE"),console.log("Client ID:",t),console.log("============================"),this.http.delete(`${this.apiUrl}/${t}`)}getFrequentClients(t=5){return this.http.get(`${this.apiUrl}/frequent?limit=${t}`)}searchClientByPhone(t){return new n(o=>{this.getClientByPhone(t).subscribe({next:l=>{o.next({id:l.clientId,firstName:l.name,lastName:l.surname,phone:t,email:null,type:l.clientType==="BUSINESS"?"business":"individual",tags:l.tags||[]}),o.complete()},error:l=>{l.status===404?(o.next(null),o.complete()):o.error(l)}})})}static \u0275fac=function(o){return new(o||e)(s(a))};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();export{u as a};
