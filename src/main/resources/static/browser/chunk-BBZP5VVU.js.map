{
  "version": 3,
  "sources": ["src/app/shared/components/payment-view-modal/payment-view-modal.component.ts"],
  "sourcesContent": ["import { Component, Input, Output, EventEmitter, OnInit, OnChanges, SimpleChanges, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\nimport { ModalComponent } from '../modal/modal.component';\nimport { ButtonComponent } from '../button/button.component';\nimport { BadgeComponent } from '../badge/badge.component';\nimport { PaymentsService, PaymentTransactionDto, UpdatePaymentMethodRequest, PaymentSearchResult } from '../../../core/services/payments.service';\nimport { ToastService } from '../../../core/services/toast.service';\n\n@Component({\n  selector: 'app-payment-view-modal',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule, ModalComponent, ButtonComponent, BadgeComponent],\n  template: `\n    <app-modal\n      [visible]=\"visible\"\n      title=\"Детали платежа\"\n      [showCloseButton]=\"true\"\n      [size]=\"'large'\"\n      (closed)=\"onClose()\">\n      \n      <div class=\"payment-view-content\" *ngIf=\"paymentData\">\n        <!-- Header Section -->\n        <div class=\"payment-header\">\n          <div class=\"payment-id-section\">\n            <span class=\"payment-id-label\">ID платежа</span>\n            <span class=\"payment-id-value\">{{ paymentData.txId }}</span>\n          </div>\n          <div class=\"payment-status\">\n            <app-badge \n              [badgeType]=\"getStatusBadgeType()\" \n              size=\"medium\"\n              [icon]=\"getStatusIcon()\">\n              {{ getStatusLabel() }}\n            </app-badge>\n          </div>\n        </div>\n\n        <!-- Main Info Grid -->\n        <div class=\"payment-info-grid\">\n          <!-- Left Column -->\n          <div class=\"info-column\">\n            <div class=\"info-section\">\n              <h3 class=\"section-title\">Информация о платеже</h3>\n              \n              <div class=\"info-item\">\n                <span class=\"info-label\">Сумма</span>\n                <span class=\"info-value amount\">{{ formatAmount(paymentData.amount) }} ₸</span>\n              </div>\n\n              <div class=\"info-item\">\n                <span class=\"info-label\">Способ оплаты</span>\n                <div class=\"payment-method-section\">\n                  <app-badge \n                    *ngIf=\"!isEditingPaymentMethod\"\n                    badgeType=\"paymentMethod\" \n                    size=\"medium\"\n                    [paymentMethod]=\"getPaymentMethodForBadge()\">\n                  </app-badge>\n                  <div class=\"method-selector\" *ngIf=\"isEditingPaymentMethod\">\n                    <select [(ngModel)]=\"selectedPaymentMethod\" class=\"method-select\">\n                      <option value=\"CASH\">Наличные</option>\n                      <option value=\"CARD\">Карта</option>\n                      <option value=\"TRANSFER\">Перевод</option>\n                    </select>\n                    <div class=\"method-actions\">\n                      <button class=\"method-btn save\" (click)=\"savePaymentMethod()\" [disabled]=\"isSaving\">\n                        {{ isSaving ? 'Сохранение...' : 'Сохранить' }}\n                      </button>\n                      <button class=\"method-btn cancel\" (click)=\"cancelEditPaymentMethod()\">Отмена</button>\n                    </div>\n                  </div>\n                  <button class=\"edit-method-btn\" *ngIf=\"!isEditingPaymentMethod && !isSaving\" (click)=\"startEditPaymentMethod()\">\n                    <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                      <path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\" stroke=\"currentColor\" stroke-width=\"2\"/>\n                      <path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\" stroke=\"currentColor\" stroke-width=\"2\"/>\n                    </svg>\n                    Изменить\n                  </button>\n                </div>\n              </div>\n\n              <div class=\"info-item\">\n                <span class=\"info-label\">Бонусы</span>\n                <div class=\"bonus-info-section\">\n                  <!-- Revoked bonuses (show revoked badge instead of granted) -->\n                  <ng-container *ngIf=\"paymentData.bonusRevocations && paymentData.bonusRevocations.length > 0\">\n                    <div class=\"bonus-item revoked\" *ngFor=\"let revocation of paymentData.bonusRevocations\">\n                      <app-badge badgeType=\"danger\" size=\"small\" icon=\"refund\">\n                        Отозвано: -{{ formatAmount(revocation.bonusAmount) }}\n                      </app-badge>\n                      <span class=\"revoke-reason\">({{ getRevokeReasonLabel(revocation.revokeReason) }})</span>\n                    </div>\n                  </ng-container>\n                  <!-- Active granted bonuses (only show if not revoked) -->\n                  <ng-container *ngIf=\"!paymentData.bonusRevocations || paymentData.bonusRevocations.length === 0\">\n                    <div class=\"bonus-item\" *ngIf=\"bonusInfo && bonusInfo.bonusGranted > 0\">\n                      <app-badge badgeType=\"bonusGranted\" size=\"small\" icon=\"star\">\n                        Начислено: +{{ formatAmount(bonusInfo.bonusGranted) }}\n                      </app-badge>\n                    </div>\n                  </ng-container>\n                  <!-- Used bonuses -->\n                  <div class=\"bonus-item\" *ngIf=\"bonusInfo && bonusInfo.bonusUsed > 0\">\n                    <app-badge badgeType=\"bonusUsed\" size=\"small\" icon=\"check\">\n                      Использовано: -{{ formatAmount(bonusInfo.bonusUsed) }}\n                    </app-badge>\n                  </div>\n                  <!-- No bonuses -->\n                  <span class=\"bonus-none\" *ngIf=\"(!bonusInfo || (bonusInfo.bonusGranted === 0 && bonusInfo.bonusUsed === 0)) && (!paymentData.bonusRevocations || paymentData.bonusRevocations.length === 0)\">Нет бонусов</span>\n                </div>\n              </div>\n\n              <div class=\"info-item\" *ngIf=\"paymentData.notes\">\n                <span class=\"info-label\">Заметки</span>\n                <span class=\"info-value notes\">{{ paymentData.notes }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Right Column -->\n          <div class=\"info-column\">\n            <div class=\"info-section\">\n              <h3 class=\"section-title\">Информация о клиенте</h3>\n              \n              <div class=\"info-item\">\n                <span class=\"info-label\">Клиент</span>\n                <a [routerLink]=\"['/clients', paymentData.clientId]\" class=\"info-value link\">\n                  {{ paymentData.clientName }}\n                </a>\n              </div>\n\n              <div class=\"info-item\" *ngIf=\"bonusInfo?.clientPhone\">\n                <span class=\"info-label\">Телефон</span>\n                <span class=\"info-value\">{{ bonusInfo?.clientPhone }}</span>\n              </div>\n\n              <div class=\"info-item\" *ngIf=\"bonusInfo?.clientEmail\">\n                <span class=\"info-label\">Email</span>\n                <span class=\"info-value\">{{ bonusInfo?.clientEmail }}</span>\n              </div>\n            </div>\n\n            <div class=\"info-section\">\n              <h3 class=\"section-title\">Дополнительная информация</h3>\n              \n              <div class=\"info-item\">\n                <span class=\"info-label\">Инициатор</span>\n                <a [routerLink]=\"['/users', paymentData.enteredByUserId]\" class=\"info-value link\" *ngIf=\"paymentData.enteredByUserId\">\n                  {{ paymentData.enteredByUsername }}\n                </a>\n                <span class=\"info-value\" *ngIf=\"!paymentData.enteredByUserId\">{{ paymentData.enteredByUsername || 'Не указан' }}</span>\n              </div>\n\n              <div class=\"info-item\">\n                <span class=\"info-label\">Дата создания</span>\n                <span class=\"info-value\">{{ formatDate(paymentData.createdAt) }}</span>\n              </div>\n\n              <div class=\"info-item\" *ngIf=\"paymentData.updatedAt && paymentData.updatedAt !== paymentData.createdAt\">\n                <span class=\"info-label\">Последнее обновление</span>\n                <span class=\"info-value\">{{ formatDate(paymentData.updatedAt) }}</span>\n              </div>\n\n              <div class=\"info-item\" *ngIf=\"paymentData.refundedPaymentTxId\">\n                <span class=\"info-label\">Возврат платежа</span>\n                <span class=\"info-value refund-link\" (click)=\"openRefundedPayment(paymentData.refundedPaymentTxId!)\">\n                  {{ paymentData.refundedPaymentTxId }}\n                </span>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <!-- Actions Section -->\n        <div class=\"actions-section\" *ngIf=\"canShowActions()\">\n          <div class=\"actions-divider\"></div>\n          \n          <div class=\"actions-buttons\">\n            <button class=\"action-btn delete-btn\" (click)=\"toggleDeleteConfirmation()\" [disabled]=\"isDeleting || isRefunding\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M3 6h18M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2m3 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6h14zM10 11v6M14 11v6\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n              <span>Удалить платеж</span>\n            </button>\n            \n            <button class=\"action-btn refund-btn\" (click)=\"toggleRefundConfirmation()\" [disabled]=\"isDeleting || isRefunding\" *ngIf=\"canRefund()\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\">\n                <path d=\"M3 10h10a5 5 0 010 10H9M3 10l4-4M3 10l4 4\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n              </svg>\n              <span>Возврат платежа</span>\n            </button>\n          </div>\n\n          <!-- Delete Confirmation Area -->\n          <div class=\"confirmation-area delete-confirmation\" *ngIf=\"showDeleteConfirmation\">\n            <div class=\"confirmation-warning\">\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" class=\"warning-icon\">\n                <path d=\"M12 9v4M12 17h.01\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n                <path d=\"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z\" stroke=\"currentColor\" stroke-width=\"2\"/>\n              </svg>\n              <div class=\"warning-text\">\n                <strong>Вы уверены, что хотите удалить этот платеж?</strong>\n                <p *ngIf=\"isCompletedPayment() && hasGrantedBonuses()\">\n                  Бонусные транзакции, начисленные за этот платеж, также будут удалены.\n                </p>\n                <p *ngIf=\"isRefundPayment()\">\n                  Оригинальный платеж и все связанные бонусные транзакции также будут удалены.\n                </p>\n                <p *ngIf=\"isRefundedPayment()\">\n                  Транзакция возврата и все связанные бонусные транзакции также будут удалены.\n                </p>\n                <p>Это действие нельзя отменить.</p>\n              </div>\n            </div>\n            <div class=\"delete-confirm-input\">\n              <label>Введите <strong>удалить</strong> для подтверждения:</label>\n              <input \n                type=\"text\" \n                [(ngModel)]=\"deleteConfirmText\" \n                placeholder=\"удалить\"\n                class=\"confirm-text-input\"\n                (keyup.enter)=\"confirmDelete()\">\n            </div>\n            <div class=\"confirmation-actions\">\n              <button class=\"confirm-btn danger\" (click)=\"confirmDelete()\" [disabled]=\"isDeleting || !isDeleteConfirmValid()\">\n                {{ isDeleting ? 'Удаление...' : 'Удалить' }}\n              </button>\n              <button class=\"confirm-btn cancel\" (click)=\"cancelDeleteConfirmation()\" [disabled]=\"isDeleting\">\n                Отмена\n              </button>\n            </div>\n          </div>\n\n          <!-- Refund Confirmation Area -->\n          <div class=\"confirmation-area refund-confirmation\" *ngIf=\"showRefundConfirmation\">\n            <div class=\"refund-form\">\n              <label class=\"refund-label\">Причина возврата (необязательно)</label>\n              <textarea \n                class=\"refund-input\"\n                [(ngModel)]=\"refundNotes\"\n                placeholder=\"Укажите причину возврата...\"\n                rows=\"2\"></textarea>\n            </div>\n            <div class=\"confirmation-actions\">\n              <button class=\"confirm-btn warning\" (click)=\"confirmRefund()\" [disabled]=\"isRefunding\">\n                {{ isRefunding ? 'Возврат...' : 'Подтвердить возврат' }}\n              </button>\n              <button class=\"confirm-btn cancel\" (click)=\"showRefundConfirmation = false\" [disabled]=\"isRefunding\">\n                Отмена\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"loading-state\" *ngIf=\"isLoading\">\n        <div class=\"loader\"></div>\n        <span>Загрузка данных...</span>\n      </div>\n    </app-modal>\n  `,\n  styles: [`\n    .payment-view-content {\n      padding: 0;\n    }\n\n    .payment-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 1.5rem;\n      border-bottom: 2px solid #f1f5f9;\n      margin-bottom: 2rem;\n    }\n\n    .payment-id-section {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n    }\n\n    .payment-id-label {\n      font-size: 0.75rem;\n      font-weight: 600;\n      color: #64748b;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n    }\n\n    .payment-id-value {\n      font-family: 'Courier New', 'Monaco', 'Menlo', 'Consolas', monospace;\n      font-size: 1.5rem;\n      font-weight: 700;\n      color: #1f2937;\n      letter-spacing: 0.5px;\n    }\n\n    .payment-info-grid {\n      display: grid;\n      grid-template-columns: 1fr 1fr;\n      gap: 2rem;\n      padding: 0 1.5rem 1.5rem;\n    }\n\n    .info-column {\n      display: flex;\n      flex-direction: column;\n      gap: 1.5rem;\n    }\n\n    .info-section {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n    }\n\n    .section-title {\n      font-size: 1rem;\n      font-weight: 600;\n      color: #1f2937;\n      margin: 0 0 0.5rem 0;\n      padding-bottom: 0.75rem;\n      border-bottom: 1px solid #e2e8f0;\n    }\n\n    .info-item {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n    }\n\n    .info-label {\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #64748b;\n      text-transform: uppercase;\n      letter-spacing: 0.3px;\n    }\n\n    .info-value {\n      font-size: 1rem;\n      color: #1f2937;\n      font-weight: 500;\n    }\n\n    .info-value.amount {\n      font-size: 1.5rem;\n      font-weight: 700;\n      color: #16A34A;\n    }\n\n    .info-value.link {\n      color: #16A34A;\n      text-decoration: none;\n      cursor: pointer;\n      transition: color 0.2s;\n    }\n\n    .info-value.link:hover {\n      color: #14532d;\n      text-decoration: underline;\n    }\n\n    .info-value.refund-link {\n      color: #dc2626;\n      cursor: pointer;\n      text-decoration: underline;\n    }\n\n    .info-value.refund-link:hover {\n      color: #991b1b;\n    }\n\n    .info-value.notes {\n      padding: 0.75rem;\n      background: #f8fafc;\n      border-radius: 8px;\n      border: 1px solid #e2e8f0;\n      white-space: pre-wrap;\n      word-wrap: break-word;\n    }\n\n    .revocations-list {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n    }\n\n    .revocation-item {\n      padding: 1rem;\n      background: #fef2f2;\n      border: 1px solid #fecaca;\n      border-radius: 8px;\n      border-left: 4px solid #dc2626;\n    }\n\n    .revocation-header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: 0.75rem;\n    }\n\n    .revocation-amount {\n      font-size: 1.125rem;\n      font-weight: 600;\n      color: #dc2626;\n    }\n\n    .revocation-badge {\n      padding: 0.25rem 0.75rem;\n      border-radius: 12px;\n      font-size: 0.75rem;\n      font-weight: 600;\n    }\n\n    .revocation-badge.revoked {\n      background: #fee2e2;\n      color: #991b1b;\n    }\n\n    .revocation-details {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n    }\n\n    .revocation-detail-item {\n      display: flex;\n      gap: 0.5rem;\n      font-size: 0.875rem;\n    }\n\n    .revocation-detail-item .detail-label {\n      color: #64748b;\n      font-weight: 500;\n      min-width: 120px;\n    }\n\n    .revocation-detail-item .detail-value {\n      color: #1e293b;\n      flex: 1;\n    }\n\n    .revocation-detail-item .detail-value.refund-link {\n      color: #dc2626;\n      cursor: pointer;\n      text-decoration: underline;\n    }\n\n    .revocation-detail-item .detail-value.refund-link:hover {\n      color: #991b1b;\n    }\n\n    .payment-method-section {\n      display: flex;\n      align-items: center;\n      gap: 0.75rem;\n      flex-wrap: wrap;\n    }\n\n\n    .edit-method-btn {\n      display: inline-flex;\n      align-items: center;\n      gap: 0.35rem;\n      padding: 0.35rem 0.65rem;\n      background: #f8fafc;\n      border: 1px solid #e2e8f0;\n      border-radius: 6px;\n      color: #64748b;\n      font-size: 0.75rem;\n      font-weight: 500;\n      cursor: pointer;\n      transition: all 0.2s;\n    }\n\n    .edit-method-btn:hover {\n      background: #f1f5f9;\n      border-color: #cbd5e1;\n      color: #1f2937;\n    }\n\n    .edit-method-btn svg {\n      width: 12px;\n      height: 12px;\n    }\n\n    .method-selector {\n      display: flex;\n      flex-direction: column;\n      gap: 0.75rem;\n      width: 100%;\n    }\n\n    .method-select {\n      padding: 0.75rem;\n      border: 2px solid #e2e8f0;\n      border-radius: 8px;\n      font-size: 0.875rem;\n      background: white;\n      color: #1f2937;\n      cursor: pointer;\n      transition: all 0.2s;\n    }\n\n    .method-select:focus {\n      outline: none;\n      border-color: #16A34A;\n      box-shadow: 0 0 0 3px rgba(22, 163, 74, 0.1);\n    }\n\n    .method-actions {\n      display: flex;\n      gap: 0.5rem;\n    }\n\n    .method-btn {\n      padding: 0.5rem 1rem;\n      border-radius: 8px;\n      font-size: 0.875rem;\n      font-weight: 500;\n      cursor: pointer;\n      transition: all 0.2s;\n      border: none;\n    }\n\n    .method-btn.save {\n      background: #16A34A;\n      color: white;\n    }\n\n    .method-btn.save:hover:not(:disabled) {\n      background: #14532d;\n    }\n\n    .method-btn.save:disabled {\n      background: #94a3b8;\n      cursor: not-allowed;\n    }\n\n    .method-btn.cancel {\n      background: #f1f5f9;\n      color: #64748b;\n      border: 1px solid #e2e8f0;\n    }\n\n    .method-btn.cancel:hover {\n      background: #e2e8f0;\n    }\n\n    .bonus-info-section {\n      display: flex;\n      flex-direction: column;\n      gap: 0.5rem;\n    }\n\n    .bonus-item {\n      display: inline-flex;\n      align-items: center;\n      gap: 0.5rem;\n    }\n\n    .bonus-item.revoked {\n      flex-direction: row;\n    }\n\n    .revoke-reason {\n      font-size: 0.75rem;\n      color: #dc2626;\n      font-style: italic;\n    }\n\n    .bonus-none {\n      color: #94a3b8;\n      font-size: 0.875rem;\n    }\n\n    .loading-state {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      padding: 4rem 2rem;\n      gap: 1rem;\n      color: #64748b;\n    }\n\n    .loader {\n      width: 40px;\n      height: 40px;\n      border: 4px solid #e2e8f0;\n      border-top-color: #16A34A;\n      border-radius: 50%;\n      animation: spin 0.8s linear infinite;\n    }\n\n    @keyframes spin {\n      to { transform: rotate(360deg); }\n    }\n\n    /* Actions Section */\n    .actions-section {\n      margin-top: 1rem;\n      padding: 0 1.5rem 1.5rem;\n    }\n\n    .actions-divider {\n      height: 2px;\n      background: #f1f5f9;\n      margin-bottom: 1.5rem;\n    }\n\n    .actions-buttons {\n      display: flex;\n      gap: 1rem;\n      flex-wrap: wrap;\n    }\n\n    .action-btn {\n      display: inline-flex;\n      align-items: center;\n      gap: 0.35rem;\n      padding: 0.5rem 0.875rem;\n      border-radius: 8px;\n      font-size: 0.8rem;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.2s;\n      border: 1.5px solid transparent;\n    }\n\n    .action-btn svg {\n      width: 15px;\n      height: 15px;\n    }\n\n    .action-btn:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n\n    .action-btn.delete-btn {\n      background: #fef2f2;\n      color: #dc2626;\n      border-color: #fecaca;\n    }\n\n    .action-btn.delete-btn:hover:not(:disabled) {\n      background: #fee2e2;\n      border-color: #f87171;\n    }\n\n    .action-btn.refund-btn {\n      background: #fefce8;\n      color: #ca8a04;\n      border-color: #fef08a;\n    }\n\n    .action-btn.refund-btn:hover:not(:disabled) {\n      background: #fef9c3;\n      border-color: #facc15;\n    }\n\n    /* Confirmation Areas */\n    .confirmation-area {\n      margin-top: 1.5rem;\n      padding: 1.25rem;\n      border-radius: 12px;\n      animation: slideDown 0.2s ease;\n    }\n\n    @keyframes slideDown {\n      from {\n        opacity: 0;\n        transform: translateY(-10px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    .delete-confirmation {\n      background: #fef2f2;\n      border: 1px solid #fecaca;\n    }\n\n    .refund-confirmation {\n      background: #fefce8;\n      border: 1px solid #fef08a;\n    }\n\n    .confirmation-warning {\n      display: flex;\n      gap: 1rem;\n      margin-bottom: 1.25rem;\n    }\n\n    .warning-icon {\n      width: 24px;\n      height: 24px;\n      color: #dc2626;\n      flex-shrink: 0;\n      margin-top: 2px;\n    }\n\n    .refund-confirmation .warning-icon {\n      color: #ca8a04;\n    }\n\n    .warning-text {\n      flex: 1;\n    }\n\n    .warning-text strong {\n      display: block;\n      color: #991b1b;\n      margin-bottom: 0.5rem;\n    }\n\n    .refund-confirmation .warning-text strong {\n      color: #854d0e;\n    }\n\n    .warning-text p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      color: #b91c1c;\n    }\n\n    .refund-confirmation .warning-text p {\n      color: #a16207;\n    }\n\n    .delete-confirm-input {\n      margin-bottom: 1rem;\n    }\n\n    .delete-confirm-input label {\n      display: block;\n      font-size: 0.875rem;\n      color: #991b1b;\n      margin-bottom: 0.5rem;\n    }\n\n    .delete-confirm-input label strong {\n      font-weight: 700;\n      color: #7f1d1d;\n    }\n\n    .confirm-text-input {\n      width: 100%;\n      padding: 0.625rem 0.75rem;\n      border: 1px solid #fecaca;\n      border-radius: 6px;\n      font-size: 0.875rem;\n      font-family: inherit;\n      background: white;\n    }\n\n    .confirm-text-input:focus {\n      outline: none;\n      border-color: #f87171;\n      box-shadow: 0 0 0 3px rgba(248, 113, 113, 0.15);\n    }\n\n    .refund-form {\n      margin-bottom: 1.25rem;\n    }\n\n    .refund-label {\n      display: block;\n      font-size: 0.875rem;\n      font-weight: 600;\n      color: #854d0e;\n      margin-bottom: 0.5rem;\n    }\n\n    .refund-input {\n      width: 100%;\n      padding: 0.75rem;\n      border: 1px solid #fef08a;\n      border-radius: 8px;\n      font-size: 0.875rem;\n      font-family: inherit;\n      resize: vertical;\n      background: white;\n    }\n\n    .refund-input:focus {\n      outline: none;\n      border-color: #facc15;\n      box-shadow: 0 0 0 3px rgba(250, 204, 21, 0.2);\n    }\n\n    .confirmation-actions {\n      display: flex;\n      gap: 0.75rem;\n    }\n\n    .confirm-btn {\n      padding: 0.625rem 1.25rem;\n      border-radius: 8px;\n      font-size: 0.875rem;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.2s;\n      border: none;\n    }\n\n    .confirm-btn:disabled {\n      opacity: 0.6;\n      cursor: not-allowed;\n    }\n\n    .confirm-btn.danger {\n      background: #dc2626;\n      color: white;\n    }\n\n    .confirm-btn.danger:hover:not(:disabled) {\n      background: #b91c1c;\n    }\n\n    .confirm-btn.warning {\n      background: #ca8a04;\n      color: white;\n    }\n\n    .confirm-btn.warning:hover:not(:disabled) {\n      background: #a16207;\n    }\n\n    .confirm-btn.cancel {\n      background: white;\n      color: #64748b;\n      border: 1px solid #e2e8f0;\n    }\n\n    .confirm-btn.cancel:hover:not(:disabled) {\n      background: #f8fafc;\n    }\n\n    @media (max-width: 768px) {\n      .payment-info-grid {\n        grid-template-columns: 1fr;\n        gap: 1.5rem;\n        padding: 0 1rem 1rem;\n      }\n\n      .payment-header {\n        flex-direction: column;\n        align-items: flex-start;\n        gap: 1rem;\n      }\n\n      .actions-section {\n        padding: 0 1rem 1rem;\n      }\n\n      .actions-buttons {\n        flex-direction: column;\n      }\n\n      .action-btn {\n        width: 100%;\n        justify-content: center;\n      }\n\n      .confirmation-actions {\n        flex-direction: column;\n      }\n\n      .confirm-btn {\n        width: 100%;\n      }\n    }\n  `]\n})\nexport class PaymentViewModalComponent implements OnInit, OnChanges {\n  private paymentsService = inject(PaymentsService);\n  private toastService = inject(ToastService);\n\n  @Input() visible = false;\n  @Input() paymentTxId: string | null = null;\n  @Input() paymentSearchResult: PaymentSearchResult | null = null; // Optional: if we already have search result data\n  @Output() visibleChange = new EventEmitter<boolean>();\n  @Output() paymentUpdated = new EventEmitter<void>();\n  @Output() paymentDeleted = new EventEmitter<string>();\n  @Output() refundedPaymentClick = new EventEmitter<string>();\n\n  paymentData: PaymentTransactionDto | null = null;\n  bonusInfo: PaymentSearchResult | null = null;\n  isLoading = false;\n  isEditingPaymentMethod = false;\n  selectedPaymentMethod: 'CASH' | 'CARD' | 'TRANSFER' = 'CASH';\n  isSaving = false;\n\n  // Delete/Refund actions\n  showDeleteConfirmation = false;\n  showRefundConfirmation = false;\n  isDeleting = false;\n  isRefunding = false;\n  refundNotes = '';\n  deleteConfirmText = '';\n\n  ngOnInit(): void {\n    if (this.paymentSearchResult) {\n      this.loadPaymentFromSearchResult();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['visible'] && changes['visible'].currentValue && this.paymentTxId) {\n      this.loadPayment();\n    }\n    if (changes['paymentSearchResult'] && changes['paymentSearchResult'].currentValue) {\n      this.loadPaymentFromSearchResult();\n    }\n  }\n\n  loadPayment(): void {\n    if (!this.paymentTxId) return;\n\n    this.isLoading = true;\n    this.paymentsService.getPaymentByTxId(this.paymentTxId).subscribe({\n      next: (payment) => {\n        this.paymentData = payment;\n        this.selectedPaymentMethod = (payment.paymentMethod || 'CASH') as 'CASH' | 'CARD' | 'TRANSFER';\n        this.isLoading = false;\n        // Try to load bonus info if we have search result\n        if (this.paymentSearchResult && this.paymentSearchResult.txId === payment.txId) {\n          this.bonusInfo = this.paymentSearchResult;\n        }\n      },\n      error: (err) => {\n        this.toastService.error('Ошибка при загрузке платежа');\n        console.error('Error loading payment:', err);\n        this.isLoading = false;\n      }\n    });\n  }\n\n  loadPaymentFromSearchResult(): void {\n    if (!this.paymentSearchResult) return;\n\n    this.bonusInfo = this.paymentSearchResult;\n    // Load full payment data\n    if (this.paymentSearchResult.txId) {\n      this.paymentTxId = this.paymentSearchResult.txId;\n      this.loadPayment();\n    }\n  }\n\n  startEditPaymentMethod(): void {\n    this.isEditingPaymentMethod = true;\n    this.selectedPaymentMethod = (this.paymentData?.paymentMethod || 'CASH') as 'CASH' | 'CARD' | 'TRANSFER';\n  }\n\n  cancelEditPaymentMethod(): void {\n    this.isEditingPaymentMethod = false;\n    this.selectedPaymentMethod = (this.paymentData?.paymentMethod || 'CASH') as 'CASH' | 'CARD' | 'TRANSFER';\n  }\n\n  savePaymentMethod(): void {\n    if (!this.paymentData || !this.paymentTxId) return;\n\n    this.isSaving = true;\n    const request: UpdatePaymentMethodRequest = {\n      paymentMethod: this.selectedPaymentMethod\n    };\n\n    this.paymentsService.updatePaymentMethod(this.paymentTxId, request).subscribe({\n      next: (updated) => {\n        this.paymentData = updated;\n        this.isEditingPaymentMethod = false;\n        this.isSaving = false;\n        this.toastService.success('Способ оплаты обновлен');\n        this.paymentUpdated.emit();\n      },\n      error: (err) => {\n        this.toastService.error('Ошибка при обновлении способа оплаты');\n        console.error('Error updating payment method:', err);\n        this.isSaving = false;\n      }\n    });\n  }\n\n  openRefundedPayment(txId: string): void {\n    this.refundedPaymentClick.emit(txId);\n  }\n\n  onClose(): void {\n    this.visible = false;\n    this.visibleChange.emit(false);\n    this.isEditingPaymentMethod = false;\n    this.showDeleteConfirmation = false;\n    this.showRefundConfirmation = false;\n    this.refundNotes = '';\n    this.deleteConfirmText = '';\n  }\n\n  // Actions logic\n  canShowActions(): boolean {\n    if (!this.paymentData) return false;\n    // Show actions for all payments (COMPLETED, REFUND, REFUNDED)\n    return true;\n  }\n\n  isRefundedPayment(): boolean {\n    if (!this.paymentData) return false;\n    return this.paymentData.status?.toUpperCase() === 'REFUNDED';\n  }\n\n  canRefund(): boolean {\n    if (!this.paymentData) return false;\n    // Can only refund completed payments (not refund transactions or already refunded)\n    return this.isCompletedPayment();\n  }\n\n  isCompletedPayment(): boolean {\n    if (!this.paymentData) return false;\n    return this.paymentData.status?.toUpperCase() === 'COMPLETED';\n  }\n\n  isRefundPayment(): boolean {\n    if (!this.paymentData) return false;\n    return this.paymentData.status?.toUpperCase() === 'REFUND';\n  }\n\n  hasGrantedBonuses(): boolean {\n    if (!this.bonusInfo) return false;\n    return this.bonusInfo.bonusGranted > 0;\n  }\n\n  toggleDeleteConfirmation(): void {\n    this.showDeleteConfirmation = !this.showDeleteConfirmation;\n    this.showRefundConfirmation = false;\n    if (!this.showDeleteConfirmation) {\n      this.deleteConfirmText = '';\n    }\n  }\n\n  cancelDeleteConfirmation(): void {\n    this.showDeleteConfirmation = false;\n    this.deleteConfirmText = '';\n  }\n\n  isDeleteConfirmValid(): boolean {\n    return this.deleteConfirmText.toLowerCase().trim() === 'удалить';\n  }\n\n  toggleRefundConfirmation(): void {\n    this.showRefundConfirmation = !this.showRefundConfirmation;\n    this.showDeleteConfirmation = false;\n  }\n\n  confirmDelete(): void {\n    if (!this.paymentData?.txId || !this.isDeleteConfirmValid()) return;\n\n    this.isDeleting = true;\n    this.paymentsService.deletePayment(this.paymentData.txId).subscribe({\n      next: () => {\n        this.toastService.success('Платеж успешно удален');\n        this.paymentDeleted.emit(this.paymentData!.txId);\n        this.isDeleting = false;\n        this.deleteConfirmText = '';\n        this.onClose();\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка при удалении платежа';\n        this.toastService.error(errorMessage);\n        this.isDeleting = false;\n      }\n    });\n  }\n\n  confirmRefund(): void {\n    if (!this.paymentData?.txId) return;\n\n    this.isRefunding = true;\n    this.paymentsService.refundPayment(this.paymentData.txId, { notes: this.refundNotes }).subscribe({\n      next: () => {\n        this.toastService.success('Платеж успешно возвращен');\n        this.paymentUpdated.emit();\n        this.isRefunding = false;\n        this.showRefundConfirmation = false;\n        this.refundNotes = '';\n        // Reload payment data to show updated status\n        this.loadPayment();\n      },\n      error: (err) => {\n        const errorMessage = err.error?.message || 'Ошибка при возврате платежа';\n        this.toastService.error(errorMessage);\n        this.isRefunding = false;\n      }\n    });\n  }\n\n  formatAmount(amount: number): string {\n    return new Intl.NumberFormat('ru-RU', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(amount);\n  }\n\n  formatDate(dateString: string): string {\n    const date = new Date(dateString);\n    return new Intl.DateTimeFormat('ru-RU', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    }).format(date);\n  }\n\n  getPaymentMethodForBadge(): 'CASH' | 'CARD' | 'TRANSFER' | null {\n    if (!this.paymentData?.paymentMethod) return null;\n    const method = this.paymentData.paymentMethod.toUpperCase();\n    if (method === 'CASH' || method === 'CARD' || method === 'TRANSFER') {\n      return method as 'CASH' | 'CARD' | 'TRANSFER';\n    }\n    return null;\n  }\n\n  getPaymentMethodLabel(method: string | null | undefined): string {\n    if (!method) return 'Не указан';\n    const labels: Record<string, string> = {\n      'CASH': 'Наличные',\n      'CARD': 'Карта',\n      'TRANSFER': 'Перевод'\n    };\n    return labels[method.toUpperCase()] || method;\n  }\n\n  getRevokeReasonLabel(reason: string | null | undefined): string {\n    if (!reason) return 'Не указана';\n    const labels: Record<string, string> = {\n      'PAYMENT_REFUND': 'Возврат платежа',\n      'EXPIRED': 'Истек срок действия',\n      'MANUAL': 'Ручной отзыв'\n    };\n    return labels[reason] || reason;\n  }\n\n  getStatusLabel(): string {\n    if (!this.paymentData) return '';\n    const status = this.paymentData.status;\n    if (status === 'COMPLETED') return 'Оплачено';\n    if (status === 'PENDING') return 'В ожидании';\n    if (status === 'CANCELLED') return 'Отменено';\n    if (status === 'REFUNDED') return 'Возвращено';\n    return status;\n  }\n\n  getStatusBadgeType(): 'payment' | 'refund' {\n    if (!this.paymentData) return 'payment';\n    const status = this.paymentData.status;\n    if (status === 'REFUNDED') return 'refund';\n    return 'payment';\n  }\n\n  getStatusIcon(): 'payment' | 'refund' | null {\n    if (!this.paymentData) return 'payment';\n    const status = this.paymentData.status;\n    if (status === 'REFUNDED') return 'refund';\n    return 'payment';\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
